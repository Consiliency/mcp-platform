{"numFailedTestSuites":57,"numFailedTests":286,"numPassedTestSuites":38,"numPassedTests":1390,"numPendingTestSuites":0,"numPendingTests":9,"numRuntimeErrorTestSuites":15,"numTodoTests":0,"numTotalTestSuites":95,"numTotalTests":1685,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1753397521355,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Phase 5 End-to-End Integration"],"duration":3,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Phase 5 End-to-End Integration Complete developer workflow from IDE to production","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Complete developer workflow from IDE to production"},{"ancestorTitles":["Phase 5 End-to-End Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Phase 5 End-to-End Integration Collaborative development with multiple tools","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Collaborative development with multiple tools"},{"ancestorTitles":["Phase 5 End-to-End Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Phase 5 End-to-End Integration Progressive rollout with monitoring","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Progressive rollout with monitoring"},{"ancestorTitles":["Phase 5 End-to-End Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Phase 5 End-to-End Integration Multi-cloud deployment with unified management","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Multi-cloud deployment with unified management"},{"ancestorTitles":["Phase 5 End-to-End Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Phase 5 End-to-End Integration Debugging production issues with integrated tools","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Debugging production issues with integrated tools"}],"endTime":1753397522083,"message":"  ● Phase 5 End-to-End Integration › Complete developer workflow from IDE to production\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n\n  ● Phase 5 End-to-End Integration › Collaborative development with multiple tools\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n\n  ● Phase 5 End-to-End Integration › Progressive rollout with monitoring\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n\n  ● Phase 5 End-to-End Integration › Multi-cloud deployment with unified management\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n\n  ● Phase 5 End-to-End Integration › Debugging production issues with integrated tools\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js:21:11)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/phase5-e2e.test.js","startTime":1753397521617,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Production Settings Configuration","Configuration Loading"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Configuration Loading should load settings with default values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should load settings with default values"},{"ancestorTitles":["Production Settings Configuration","Configuration Loading"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Configuration Loading should have correct default server configuration","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct default server configuration"},{"ancestorTitles":["Production Settings Configuration","Environment Variable Overrides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Environment Variable Overrides should override port from environment variable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should override port from environment variable"},{"ancestorTitles":["Production Settings Configuration","Environment Variable Overrides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Environment Variable Overrides should override API host from environment variable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should override API host from environment variable"},{"ancestorTitles":["Production Settings Configuration","Environment Variable Overrides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Environment Variable Overrides should override log level from environment variable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should override log level from environment variable"},{"ancestorTitles":["Production Settings Configuration","Environment Variable Overrides"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Environment Variable Overrides should parse CORS origins from comma-separated string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should parse CORS origins from comma-separated string"},{"ancestorTitles":["Production Settings Configuration","Environment Variable Overrides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Environment Variable Overrides should handle boolean environment variables correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle boolean environment variables correctly"},{"ancestorTitles":["Production Settings Configuration","Environment Variable Overrides"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Environment Variable Overrides should parse numeric environment variables correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should parse numeric environment variables correctly"},{"ancestorTitles":["Production Settings Configuration","Configuration Validation"],"duration":24,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow()\n\nReceived function did not throw","pass":false}}],"failureMessages":["Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.toThrow (/home/jenner/code/mcps/tests/unit/config/settings.test.js:124:10)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Settings Configuration Configuration Validation should fail validation with invalid port","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fail validation with invalid port"},{"ancestorTitles":["Production Settings Configuration","Configuration Validation"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow()\n\nReceived function did not throw","pass":false}}],"failureMessages":["Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.toThrow (/home/jenner/code/mcps/tests/unit/config/settings.test.js:132:10)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Settings Configuration Configuration Validation should fail validation with invalid log level","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fail validation with invalid log level"},{"ancestorTitles":["Production Settings Configuration","Configuration Validation"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow()\n\nReceived function did not throw","pass":false}}],"failureMessages":["Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.toThrow (/home/jenner/code/mcps/tests/unit/config/settings.test.js:140:10)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Settings Configuration Configuration Validation should fail validation with invalid node environment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fail validation with invalid node environment"},{"ancestorTitles":["Production Settings Configuration","Configuration Validation"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow()\n\nReceived function did not throw","pass":false}}],"failureMessages":["Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.toThrow (/home/jenner/code/mcps/tests/unit/config/settings.test.js:148:10)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Settings Configuration Configuration Validation should fail validation with invalid API version format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fail validation with invalid API version format"},{"ancestorTitles":["Production Settings Configuration","Configuration Validation"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toThrow()\n\nReceived function did not throw","pass":false}}],"failureMessages":["Error: expect(received).toThrow()\n\nReceived function did not throw\n    at Object.toThrow (/home/jenner/code/mcps/tests/unit/config/settings.test.js:156:10)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Settings Configuration Configuration Validation should fail validation with invalid max request size format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fail validation with invalid max request size format"},{"ancestorTitles":["Production Settings Configuration","Path Configuration"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"config/production/../..\"\nReceived string:    \"/home/jenner/code/mcps\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"config/production/../..\"\nReceived string:    \"/home/jenner/code/mcps\"\n    at Object.toContain (/home/jenner/code/mcps/tests/unit/config/settings.test.js:166:35)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Settings Configuration Path Configuration should have correct absolute paths","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should have correct absolute paths"},{"ancestorTitles":["Production Settings Configuration","Path Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Path Configuration should allow overriding paths via environment variables","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should allow overriding paths via environment variables"},{"ancestorTitles":["Production Settings Configuration","Security Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Security Configuration should have secure defaults for production","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should have secure defaults for production"},{"ancestorTitles":["Production Settings Configuration","Security Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Security Configuration should require session secret in production","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require session secret in production"},{"ancestorTitles":["Production Settings Configuration","Performance Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Performance Configuration should have reasonable performance defaults","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have reasonable performance defaults"},{"ancestorTitles":["Production Settings Configuration","Performance Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Performance Configuration should enable clustering via environment variable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should enable clustering via environment variable"},{"ancestorTitles":["Production Settings Configuration","Graceful Shutdown Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Graceful Shutdown Configuration should have appropriate shutdown timeouts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have appropriate shutdown timeouts"},{"ancestorTitles":["Production Settings Configuration","Localization Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Localization Configuration should have correct default localization settings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have correct default localization settings"},{"ancestorTitles":["Production Settings Configuration","Localization Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Localization Configuration should allow overriding localization settings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should allow overriding localization settings"},{"ancestorTitles":["Production Settings Configuration","Logging Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Logging Configuration should have production-appropriate logging defaults","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have production-appropriate logging defaults"},{"ancestorTitles":["Production Settings Configuration","Logging Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Logging Configuration should configure log rotation settings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should configure log rotation settings"},{"ancestorTitles":["Production Settings Configuration","Health Check Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Health Check Configuration should have health check enabled by default","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have health check enabled by default"},{"ancestorTitles":["Production Settings Configuration","Health Check Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Health Check Configuration should allow enabling detailed health checks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should allow enabling detailed health checks"},{"ancestorTitles":["Production Settings Configuration","Request Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Request Configuration should have appropriate request limits","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have appropriate request limits"},{"ancestorTitles":["Production Settings Configuration","Request Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Settings Configuration Request Configuration should ensure keepAliveTimeout > requestTimeout","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should ensure keepAliveTimeout > requestTimeout"}],"endTime":1753397522088,"message":"  ● Production Settings Configuration › Configuration Validation › should fail validation with invalid port\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 123 |\u001b[39m         require(\u001b[32m'../../../config/production/settings'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m       })\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 126 |\u001b[39m\n     \u001b[90m 127 |\u001b[39m     it(\u001b[32m'should fail validation with invalid log level'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (tests/unit/config/settings.test.js:124:10)\n\n  ● Production Settings Configuration › Configuration Validation › should fail validation with invalid log level\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 130 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 131 |\u001b[39m         require(\u001b[32m'../../../config/production/settings'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 132 |\u001b[39m       })\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 133 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 134 |\u001b[39m\n     \u001b[90m 135 |\u001b[39m     it(\u001b[32m'should fail validation with invalid node environment'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (tests/unit/config/settings.test.js:132:10)\n\n  ● Production Settings Configuration › Configuration Validation › should fail validation with invalid node environment\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 138 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 139 |\u001b[39m         require(\u001b[32m'../../../config/production/settings'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 140 |\u001b[39m       })\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 141 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 142 |\u001b[39m\n     \u001b[90m 143 |\u001b[39m     it(\u001b[32m'should fail validation with invalid API version format'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (tests/unit/config/settings.test.js:140:10)\n\n  ● Production Settings Configuration › Configuration Validation › should fail validation with invalid API version format\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 146 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 147 |\u001b[39m         require(\u001b[32m'../../../config/production/settings'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 148 |\u001b[39m       })\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 149 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 150 |\u001b[39m\n     \u001b[90m 151 |\u001b[39m     it(\u001b[32m'should fail validation with invalid max request size format'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (tests/unit/config/settings.test.js:148:10)\n\n  ● Production Settings Configuration › Configuration Validation › should fail validation with invalid max request size format\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 155 |\u001b[39m         require(\u001b[32m'../../../config/production/settings'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m       })\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (tests/unit/config/settings.test.js:156:10)\n\n  ● Production Settings Configuration › Path Configuration › should have correct absolute paths\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"config/production/../..\"\n    Received string:    \"/home/jenner/code/mcps\"\n\n    \u001b[0m \u001b[90m 164 |\u001b[39m       expect(path\u001b[33m.\u001b[39misAbsolute(settings\u001b[33m.\u001b[39mpaths\u001b[33m.\u001b[39mroot))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 165 |\u001b[39m       expect(path\u001b[33m.\u001b[39misAbsolute(settings\u001b[33m.\u001b[39mpaths\u001b[33m.\u001b[39m\u001b[36mpublic\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 166 |\u001b[39m       expect(settings\u001b[33m.\u001b[39mpaths\u001b[33m.\u001b[39mroot)\u001b[33m.\u001b[39mtoContain(\u001b[32m'config/production/../..'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 167 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 168 |\u001b[39m\n     \u001b[90m 169 |\u001b[39m     it(\u001b[32m'should allow overriding paths via environment variables'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toContain (tests/unit/config/settings.test.js:166:35)\n","name":"/home/jenner/code/mcps/tests/unit/config/settings.test.js","startTime":1753397521617,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Production Feature Flags Configuration","Module Loading"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Module Loading should load features module successfully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should load features module successfully"},{"ancestorTitles":["Production Feature Flags Configuration","Module Loading"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Module Loading should have correct feature structure","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should have correct feature structure"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Flag Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Flag Validation should validate all feature flags on load","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate all feature flags on load"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Flag Validation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Flag Validation should have valid feature flag structure for all features","invocations":1,"location":null,"numPassingAsserts":98,"retryReasons":[],"status":"passed","title":"should have valid feature flag structure for all features"},{"ancestorTitles":["Production Feature Flags Configuration","Environment Variable Overrides"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Environment Variable Overrides should override API v2 feature from environment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should override API v2 feature from environment"},{"ancestorTitles":["Production Feature Flags Configuration","Environment Variable Overrides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Environment Variable Overrides should override GraphQL feature from environment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should override GraphQL feature from environment"},{"ancestorTitles":["Production Feature Flags Configuration","Environment Variable Overrides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Environment Variable Overrides should parse beta users from environment variable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should parse beta users from environment variable"},{"ancestorTitles":["Production Feature Flags Configuration","isEnabled Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration isEnabled Function should check if basic features are enabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check if basic features are enabled"},{"ancestorTitles":["Production Feature Flags Configuration","isEnabled Function"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration isEnabled Function should return false for non-existent features","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return false for non-existent features"},{"ancestorTitles":["Production Feature Flags Configuration","isEnabled Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration isEnabled Function should handle nested feature paths","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle nested feature paths"},{"ancestorTitles":["Production Feature Flags Configuration","User-specific Feature Flags"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration User-specific Feature Flags should respect allowed users list","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should respect allowed users list"},{"ancestorTitles":["Production Feature Flags Configuration","User-specific Feature Flags"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration User-specific Feature Flags should respect allowed groups","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should respect allowed groups"},{"ancestorTitles":["Production Feature Flags Configuration","User-specific Feature Flags"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration User-specific Feature Flags should handle rollout percentage correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle rollout percentage correctly"},{"ancestorTitles":["Production Feature Flags Configuration","User-specific Feature Flags"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration User-specific Feature Flags should handle blocked users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle blocked users"},{"ancestorTitles":["Production Feature Flags Configuration","getFeaturesForUser Function"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration getFeaturesForUser Function should return all features for a user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return all features for a user"},{"ancestorTitles":["Production Feature Flags Configuration","getFeaturesForUser Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration getFeaturesForUser Function should return different features for different users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return different features for different users"},{"ancestorTitles":["Production Feature Flags Configuration","getFeaturesForUser Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration getFeaturesForUser Function should respect user groups in feature calculation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should respect user groups in feature calculation"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct API features","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct API features"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct security features","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct security features"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct platform features","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct platform features"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct UX features","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct UX features"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct integration features","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct integration features"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct performance features","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct performance features"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Categories"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Categories should have correct experimental features","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have correct experimental features"},{"ancestorTitles":["Production Feature Flags Configuration","Rollout Percentage Logic"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Rollout Percentage Logic should have consistent rollout for same user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have consistent rollout for same user"},{"ancestorTitles":["Production Feature Flags Configuration","Rollout Percentage Logic"],"duration":3,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeGreaterThan(expected)\n\nExpected: > 10\nReceived:   2.8000000000000003","pass":false}}],"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 10\nReceived:   2.8000000000000003\n    at Object.toBeGreaterThan (/home/jenner/code/mcps/tests/unit/config/features.test.js:352:32)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Feature Flags Configuration Rollout Percentage Logic should roughly match rollout percentage across many users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should roughly match rollout percentage across many users"},{"ancestorTitles":["Production Feature Flags Configuration","Rollout Percentage Logic"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Rollout Percentage Logic should enable feature for all users when rollout is 100%","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should enable feature for all users when rollout is 100%"},{"ancestorTitles":["Production Feature Flags Configuration","Rollout Percentage Logic"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Rollout Percentage Logic should disable feature for all users when rollout is 0%","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should disable feature for all users when rollout is 0%"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Flag Edge Cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Flag Edge Cases should handle missing userId gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle missing userId gracefully"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Flag Edge Cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Flag Edge Cases should handle empty user groups","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle empty user groups"},{"ancestorTitles":["Production Feature Flags Configuration","Feature Flag Edge Cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Feature Flags Configuration Feature Flag Edge Cases should handle malformed feature paths","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle malformed feature paths"}],"endTime":1753397522114,"message":"  ● Production Feature Flags Configuration › Rollout Percentage Logic › should roughly match rollout percentage across many users\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 10\n    Received:   2.8000000000000003\n\n    \u001b[0m \u001b[90m 350 |\u001b[39m       \n     \u001b[90m 351 |\u001b[39m       \u001b[90m// Allow 15% variance due to simple hash function and sequential IDs\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 352 |\u001b[39m       expect(actualPercentage)\u001b[33m.\u001b[39mtoBeGreaterThan(rolloutPercentage \u001b[33m-\u001b[39m \u001b[35m15\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 353 |\u001b[39m       expect(actualPercentage)\u001b[33m.\u001b[39mtoBeLessThan(rolloutPercentage \u001b[33m+\u001b[39m \u001b[35m15\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 355 |\u001b[39m\u001b[0m\n\n      at Object.toBeGreaterThan (tests/unit/config/features.test.js:352:32)\n","name":"/home/jenner/code/mcps/tests/unit/config/features.test.js","startTime":1753397521640,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["DataManager Unit Tests","initialize"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests initialize should create temp directory","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create temp directory"},{"ancestorTitles":["DataManager Unit Tests","getServiceVolumes"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests getServiceVolumes should get volumes for a service","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get volumes for a service"},{"ancestorTitles":["DataManager Unit Tests","getServiceVolumes"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests getServiceVolumes should handle service without container","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle service without container"},{"ancestorTitles":["DataManager Unit Tests","exportServiceData"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.toHaveBeenCalled (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/data-manager.unit.test.js:132:34)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"DataManager Unit Tests exportServiceData should export service data volumes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should export service data volumes"},{"ancestorTitles":["DataManager Unit Tests","exportServiceData"],"duration":1,"failureDetails":[{"matcherResult":{"actual":true,"expected":false,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: false\nReceived: true\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/data-manager.unit.test.js:145:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"DataManager Unit Tests exportServiceData should handle export failures","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle export failures"},{"ancestorTitles":["DataManager Unit Tests","importServiceData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests importServiceData should import service data volumes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should import service data volumes"},{"ancestorTitles":["DataManager Unit Tests","importServiceData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests importServiceData should handle overwrite option","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle overwrite option"},{"ancestorTitles":["DataManager Unit Tests","exportDockerVolume"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests exportDockerVolume should export docker volume","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export docker volume"},{"ancestorTitles":["DataManager Unit Tests","exportDockerVolume"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests exportDockerVolume should clean up container on failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should clean up container on failure"},{"ancestorTitles":["DataManager Unit Tests","createIncrementalBackup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests createIncrementalBackup should create incremental backup","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create incremental backup"},{"ancestorTitles":["DataManager Unit Tests","migrateServiceData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests migrateServiceData should handle generic migration for unknown services","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle generic migration for unknown services"},{"ancestorTitles":["DataManager Unit Tests","migrateServiceData"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests migrateServiceData should migrate PostgreSQL data between major versions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should migrate PostgreSQL data between major versions"},{"ancestorTitles":["DataManager Unit Tests","migrateServiceData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests migrateServiceData should skip PostgreSQL migration for same major version","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip PostgreSQL migration for same major version"},{"ancestorTitles":["DataManager Unit Tests","migrateServiceData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests migrateServiceData should handle Redis migration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Redis migration"},{"ancestorTitles":["DataManager Unit Tests","migrateServiceData"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests migrateServiceData should prevent Elasticsearch major version skipping","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should prevent Elasticsearch major version skipping"},{"ancestorTitles":["DataManager Unit Tests","validateVolumeData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests validateVolumeData should validate volume data integrity","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate volume data integrity"},{"ancestorTitles":["DataManager Unit Tests","validateVolumeData"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests validateVolumeData should detect invalid files","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should detect invalid files"},{"ancestorTitles":["DataManager Unit Tests","optimizeVolumeStorage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests optimizeVolumeStorage should optimize volume storage","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should optimize volume storage"},{"ancestorTitles":["DataManager Unit Tests","helper methods"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected value: \"/test/dir/subdir/file2.txt\"\nReceived array: [\"/test/dir/file1.txt\"]","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected value: \"/test/dir/subdir/file2.txt\"\nReceived array: [\"/test/dir/file1.txt\"]\n    at Object.toContain (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/data-manager.unit.test.js:449:27)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"DataManager Unit Tests helper methods should walk directory recursively","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should walk directory recursively"},{"ancestorTitles":["DataManager Unit Tests","helper methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests helper methods should match file patterns","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should match file patterns"},{"ancestorTitles":["DataManager Unit Tests","helper methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"DataManager Unit Tests helper methods should calculate volume changes correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should calculate volume changes correctly"}],"endTime":1753397522108,"message":"  ● DataManager Unit Tests › exportServiceData › should export service data volumes\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 130 |\u001b[39m             expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m             expect(result\u001b[33m.\u001b[39mvolumes[\u001b[32m'test-service'\u001b[39m])\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 132 |\u001b[39m             expect(mockFs\u001b[33m.\u001b[39mmkdir)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 133 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 134 |\u001b[39m\n     \u001b[90m 135 |\u001b[39m         it(\u001b[32m'should handle export failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (mcp-local-setup/tests/unit/backup/data-manager.unit.test.js:132:34)\n\n  ● DataManager Unit Tests › exportServiceData › should handle export failures\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 143 |\u001b[39m             \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m dataManager\u001b[33m.\u001b[39mexportServiceData(services\u001b[33m,\u001b[39m exportPath)\u001b[33m;\u001b[39m\n     \u001b[90m 144 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 145 |\u001b[39m             expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 146 |\u001b[39m             expect(result\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m             expect(result\u001b[33m.\u001b[39merrors[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mservice)\u001b[33m.\u001b[39mtoBe(\u001b[32m'failing-service'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 148 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/unit/backup/data-manager.unit.test.js:145:36)\n\n  ● DataManager Unit Tests › helper methods › should walk directory recursively\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected value: \"/test/dir/subdir/file2.txt\"\n    Received array: [\"/test/dir/file1.txt\"]\n\n    \u001b[0m \u001b[90m 447 |\u001b[39m\n     \u001b[90m 448 |\u001b[39m             expect(files)\u001b[33m.\u001b[39mtoContain(\u001b[32m'/test/dir/file1.txt'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 449 |\u001b[39m             expect(files)\u001b[33m.\u001b[39mtoContain(\u001b[32m'/test/dir/subdir/file2.txt'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 450 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 451 |\u001b[39m\n     \u001b[90m 452 |\u001b[39m         it(\u001b[32m'should match file patterns'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toContain (mcp-local-setup/tests/unit/backup/data-manager.unit.test.js:449:27)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/data-manager.unit.test.js","startTime":1753397521630,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Rate Limiting Integration Tests","Combined Rate Limiting Strategies"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Combined Rate Limiting Strategies should apply multiple rate limiting strategies together","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should apply multiple rate limiting strategies together"},{"ancestorTitles":["Rate Limiting Integration Tests","Combined Rate Limiting Strategies"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Combined Rate Limiting Strategies should handle rate limit exceeded across different strategies","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle rate limit exceeded across different strategies"},{"ancestorTitles":["Rate Limiting Integration Tests","Distributed Rate Limiting with Redis"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Distributed Rate Limiting with Redis should handle distributed rate limiting across multiple instances","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should handle distributed rate limiting across multiple instances"},{"ancestorTitles":["Rate Limiting Integration Tests","Distributed Rate Limiting with Redis"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Distributed Rate Limiting with Redis should handle Redis failures gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Redis failures gracefully"},{"ancestorTitles":["Rate Limiting Integration Tests","Tiered Rate Limiting"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Tiered Rate Limiting should apply different limits based on user tiers","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should apply different limits based on user tiers"},{"ancestorTitles":["Rate Limiting Integration Tests","Tiered Rate Limiting"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Tiered Rate Limiting should handle tier upgrades mid-session","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle tier upgrades mid-session"},{"ancestorTitles":["Rate Limiting Integration Tests","IP-based Security Features"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests IP-based Security Features should handle IP whitelisting and blacklisting","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle IP whitelisting and blacklisting"},{"ancestorTitles":["Rate Limiting Integration Tests","IP-based Security Features"],"duration":2,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/tests/integration/security/rate-limiting.test.js:231:52)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Rate Limiting Integration Tests IP-based Security Features should detect and handle suspicious IPs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should detect and handle suspicious IPs"},{"ancestorTitles":["Rate Limiting Integration Tests","IP-based Security Features"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests IP-based Security Features should handle subnet-based rules","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle subnet-based rules"},{"ancestorTitles":["Rate Limiting Integration Tests","Rate Limit Headers and Responses"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"X-RateLimit-Limit\", 100\nReceived\n       1: \"X-RateLimit-Limit\", undefined\n       2: \"X-RateLimit-Remaining\", 99\n       3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.063Z\"\n\nNumber of calls: 4","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"X-RateLimit-Limit\", 100\nReceived\n       1: \"X-RateLimit-Limit\", undefined\n       2: \"X-RateLimit-Remaining\", 99\n       3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.063Z\"\n\nNumber of calls: 4\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/integration/security/rate-limiting.test.js:283:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Rate Limiting Integration Tests Rate Limit Headers and Responses should set appropriate rate limit headers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should set appropriate rate limit headers"},{"ancestorTitles":["Rate Limiting Integration Tests","Rate Limit Headers and Responses"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Rate Limit Headers and Responses should include retry-after header when rate limited","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include retry-after header when rate limited"},{"ancestorTitles":["Rate Limiting Integration Tests","Rate Limit Statistics and Monitoring"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Rate Limit Statistics and Monitoring should track and report rate limit statistics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should track and report rate limit statistics"},{"ancestorTitles":["Rate Limiting Integration Tests","Rate Limit Statistics and Monitoring"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Rate Limit Statistics and Monitoring should provide aggregated statistics for Redis limiter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should provide aggregated statistics for Redis limiter"},{"ancestorTitles":["Rate Limiting Integration Tests","Cleanup and Maintenance"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Cleanup and Maintenance should clean up expired data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clean up expired data"},{"ancestorTitles":["Rate Limiting Integration Tests","Cleanup and Maintenance"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Cleanup and Maintenance should handle Redis cleanup","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle Redis cleanup"},{"ancestorTitles":["Rate Limiting Integration Tests","Advanced Rate Limiting Scenarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Rate Limiting Integration Tests Advanced Rate Limiting Scenarios should handle burst traffic patterns","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle burst traffic patterns"},{"ancestorTitles":["Rate Limiting Integration Tests","Advanced Rate Limiting Scenarios"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"X-RateLimit-Limit\", 5\nReceived\n       1: \"X-RateLimit-Limit\", undefined\n       2: \"X-RateLimit-Remaining\", 4\n       3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.079Z\"\n\nNumber of calls: 4","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"X-RateLimit-Limit\", 5\nReceived\n       1: \"X-RateLimit-Limit\", undefined\n       2: \"X-RateLimit-Remaining\", 4\n       3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.079Z\"\n\nNumber of calls: 4\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/integration/security/rate-limiting.test.js:466:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Rate Limiting Integration Tests Advanced Rate Limiting Scenarios should handle different endpoints with different limits","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle different endpoints with different limits"}],"endTime":1753397522120,"message":"  ● Rate Limiting Integration Tests › IP-based Security Features › should detect and handle suspicious IPs\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 229 |\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \u001b[90m// Should be marked as suspicious\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 231 |\u001b[39m       expect(ipLimiter\u001b[33m.\u001b[39misSuspicious(suspiciousIP))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 232 |\u001b[39m\n     \u001b[90m 233 |\u001b[39m       \u001b[90m// Should get reduced limits\u001b[39m\n     \u001b[90m 234 |\u001b[39m       \u001b[36mconst\u001b[39m limit \u001b[33m=\u001b[39m ipLimiter\u001b[33m.\u001b[39mgetRateLimitForIP(suspiciousIP\u001b[33m,\u001b[39m \u001b[32m'/api/data'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (tests/integration/security/rate-limiting.test.js:231:52)\n\n  ● Rate Limiting Integration Tests › Rate Limit Headers and Responses › should set appropriate rate limit headers\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"X-RateLimit-Limit\", 100\n    Received\n           1: \"X-RateLimit-Limit\", undefined\n           2: \"X-RateLimit-Remaining\", 99\n           3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.063Z\"\n\n    Number of calls: 4\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m       \u001b[90m// Check user rate limit headers\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Limit'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Remaining'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m99\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Tier'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'free'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/integration/security/rate-limiting.test.js:283:29)\n\n  ● Rate Limiting Integration Tests › Advanced Rate Limiting Scenarios › should handle different endpoints with different limits\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"X-RateLimit-Limit\", 5\n    Received\n           1: \"X-RateLimit-Limit\", undefined\n           2: \"X-RateLimit-Remaining\", 4\n           3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.079Z\"\n\n    Number of calls: 4\n\n    \u001b[0m \u001b[90m 464 |\u001b[39m       \u001b[36mawait\u001b[39m middleware(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next)\u001b[33m;\u001b[39m\n     \u001b[90m 465 |\u001b[39m       expect(req\u001b[33m.\u001b[39mrateLimitInfo\u001b[33m.\u001b[39mresource)\u001b[33m.\u001b[39mtoBe(\u001b[32m'uploads'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 466 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Limit'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Free tier upload limit\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 467 |\u001b[39m\n     \u001b[90m 468 |\u001b[39m       \u001b[90m// Test export endpoint\u001b[39m\n     \u001b[90m 469 |\u001b[39m       req\u001b[33m.\u001b[39mpath \u001b[33m=\u001b[39m \u001b[32m'/api/export'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/integration/security/rate-limiting.test.js:466:29)\n","name":"/home/jenner/code/mcps/tests/integration/security/rate-limiting.test.js","startTime":1753397521647,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["IPRateLimiter","constructor"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["IPRateLimiter","constructor"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: customLimiter.options.ipWhitelist.has is not a function\n    at Object.has (/home/jenner/code/mcps/tests/unit/security/ip-limiter.test.js:36:48)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IPRateLimiter constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should accept custom options"},{"ancestorTitles":["IPRateLimiter","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter constructor should initialize default rate limits","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize default rate limits"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should get IP from connection when not trusting proxy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get IP from connection when not trusting proxy"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should get IP from x-real-ip header when trusting proxy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get IP from x-real-ip header when trusting proxy"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should get IP from x-forwarded-for header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get IP from x-forwarded-for header"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should handle proxy depth correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle proxy depth correctly"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should check multiple headers in order","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should check multiple headers in order"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should handle Cloudflare header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle Cloudflare header"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should validate IP addresses","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate IP addresses"},{"ancestorTitles":["IPRateLimiter","getClientIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getClientIP should fallback to socket address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fallback to socket address"},{"ancestorTitles":["IPRateLimiter","isValidIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isValidIP should validate IPv4 addresses","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate IPv4 addresses"},{"ancestorTitles":["IPRateLimiter","isValidIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isValidIP should reject invalid IPv4 addresses","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject invalid IPv4 addresses"},{"ancestorTitles":["IPRateLimiter","isValidIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isValidIP should validate IPv6 addresses","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate IPv6 addresses"},{"ancestorTitles":["IPRateLimiter","isValidIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isValidIP should handle null and undefined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle null and undefined"},{"ancestorTitles":["IPRateLimiter","isWhitelisted"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isWhitelisted should check exact IP whitelist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check exact IP whitelist"},{"ancestorTitles":["IPRateLimiter","isWhitelisted"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isWhitelisted should check subnet whitelist","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check subnet whitelist"},{"ancestorTitles":["IPRateLimiter","isBlacklisted"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isBlacklisted should check exact IP blacklist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check exact IP blacklist"},{"ancestorTitles":["IPRateLimiter","isBlacklisted"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isBlacklisted should check subnet blacklist","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check subnet blacklist"},{"ancestorTitles":["IPRateLimiter","isIPInSubnet"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isIPInSubnet should handle exact IP match without mask","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle exact IP match without mask"},{"ancestorTitles":["IPRateLimiter","isIPInSubnet"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isIPInSubnet should handle /24 subnet","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle /24 subnet"},{"ancestorTitles":["IPRateLimiter","isIPInSubnet"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter isIPInSubnet should handle /16 subnet","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle /16 subnet"},{"ancestorTitles":["IPRateLimiter","suspicious IP handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter suspicious IP handling should mark IP as suspicious","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should mark IP as suspicious"},{"ancestorTitles":["IPRateLimiter","suspicious IP handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter suspicious IP handling should increment violations on repeated marking","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should increment violations on repeated marking"},{"ancestorTitles":["IPRateLimiter","suspicious IP handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter suspicious IP handling should clear old suspicious markers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clear old suspicious markers"},{"ancestorTitles":["IPRateLimiter","suspicious IP handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter suspicious IP handling should clear suspicious marking","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clear suspicious marking"},{"ancestorTitles":["IPRateLimiter","suspicious IP handling"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter suspicious IP handling should get all suspicious IPs","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get all suspicious IPs"},{"ancestorTitles":["IPRateLimiter","getRateLimitForIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getRateLimitForIP should return zero limit for blacklisted IPs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return zero limit for blacklisted IPs"},{"ancestorTitles":["IPRateLimiter","getRateLimitForIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getRateLimitForIP should return trusted limit for whitelisted IPs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return trusted limit for whitelisted IPs"},{"ancestorTitles":["IPRateLimiter","getRateLimitForIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getRateLimitForIP should return suspicious limit for suspicious IPs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return suspicious limit for suspicious IPs"},{"ancestorTitles":["IPRateLimiter","getRateLimitForIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getRateLimitForIP should return auth limit for auth endpoints","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return auth limit for auth endpoints"},{"ancestorTitles":["IPRateLimiter","getRateLimitForIP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getRateLimitForIP should return api limit for api endpoints","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return api limit for api endpoints"},{"ancestorTitles":["IPRateLimiter","getRateLimitForIP"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getRateLimitForIP should return default limit otherwise","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return default limit otherwise"},{"ancestorTitles":["IPRateLimiter","checkLimit"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter checkLimit should check rate limit successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check rate limit successfully"},{"ancestorTitles":["IPRateLimiter","checkLimit"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter checkLimit should throw error if IP is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if IP is missing"},{"ancestorTitles":["IPRateLimiter","checkLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter checkLimit should block blacklisted IPs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should block blacklisted IPs"},{"ancestorTitles":["IPRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter checkLimit should track requests in memory storage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track requests in memory storage"},{"ancestorTitles":["IPRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter checkLimit should remove expired requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove expired requests"},{"ancestorTitles":["IPRateLimiter","checkLimit"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter checkLimit should throw error for non-memory storage","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-memory storage"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should consume tokens successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should consume tokens successfully"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should throw error if IP is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if IP is missing"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should block blacklisted IPs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should block blacklisted IPs"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should handle multiple tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle multiple tokens"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should reject when limit exceeded","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject when limit exceeded"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should mark IP as suspicious on auth limit exceeded","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should mark IP as suspicious on auth limit exceeded"},{"ancestorTitles":["IPRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter consumeToken should calculate correct reset time","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should calculate correct reset time"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should create middleware that allows requests","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create middleware that allows requests"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should skip rate limiting for whitelisted IPs","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should skip rate limiting for whitelisted IPs"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should not skip whitelisted IPs if configured","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not skip whitelisted IPs if configured"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should use custom endpoint","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom endpoint"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should block requests when limit exceeded","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should block requests when limit exceeded"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should show blacklist message for blacklisted IPs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should show blacklist message for blacklisted IPs"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should handle missing IP gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle missing IP gracefully"},{"ancestorTitles":["IPRateLimiter","createMiddleware"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter createMiddleware should fail open on errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail open on errors"},{"ancestorTitles":["IPRateLimiter","getIPStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getIPStats should get comprehensive IP statistics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get comprehensive IP statistics"},{"ancestorTitles":["IPRateLimiter","getIPStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getIPStats should include suspicious data when applicable","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should include suspicious data when applicable"},{"ancestorTitles":["IPRateLimiter","getIPStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter getIPStats should filter expired requests in stats","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should filter expired requests in stats"},{"ancestorTitles":["IPRateLimiter","whitelist/blacklist management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter whitelist/blacklist management should add IP to whitelist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add IP to whitelist"},{"ancestorTitles":["IPRateLimiter","whitelist/blacklist management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter whitelist/blacklist management should validate IP when adding to whitelist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate IP when adding to whitelist"},{"ancestorTitles":["IPRateLimiter","whitelist/blacklist management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter whitelist/blacklist management should remove IP from whitelist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove IP from whitelist"},{"ancestorTitles":["IPRateLimiter","whitelist/blacklist management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter whitelist/blacklist management should add IP to blacklist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add IP to blacklist"},{"ancestorTitles":["IPRateLimiter","whitelist/blacklist management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter whitelist/blacklist management should validate IP when adding to blacklist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate IP when adding to blacklist"},{"ancestorTitles":["IPRateLimiter","whitelist/blacklist management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter whitelist/blacklist management should remove IP from blacklist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove IP from blacklist"},{"ancestorTitles":["IPRateLimiter","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter cleanup should clean up old suspicious IP entries","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should clean up old suspicious IP entries"},{"ancestorTitles":["IPRateLimiter","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter cleanup should clean up expired rate limit data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clean up expired rate limit data"},{"ancestorTitles":["IPRateLimiter","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"IPRateLimiter cleanup should handle different endpoint rate limits in cleanup","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle different endpoint rate limits in cleanup"}],"endTime":1753397522138,"message":"  ● IPRateLimiter › constructor › should accept custom options\n\n    TypeError: customLimiter.options.ipWhitelist.has is not a function\n\n    \u001b[0m \u001b[90m 34 |\u001b[39m       expect(customLimiter\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mtrustProxy)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m       expect(customLimiter\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mproxyDepth)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 36 |\u001b[39m       expect(customLimiter\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mipWhitelist\u001b[33m.\u001b[39mhas(\u001b[32m'192.168.1.1'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 37 |\u001b[39m       expect(customLimiter\u001b[33m.\u001b[39moptions\u001b[33m.\u001b[39mipBlacklist\u001b[33m.\u001b[39mhas(\u001b[32m'10.0.0.1'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m       expect(customLimiter\u001b[33m.\u001b[39mlimits\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m\u001b[33m.\u001b[39mlimit)\u001b[33m.\u001b[39mtoBe(\u001b[35m50\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 39 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.has (tests/unit/security/ip-limiter.test.js:36:48)\n","name":"/home/jenner/code/mcps/tests/unit/security/ip-limiter.test.js","startTime":1753397521632,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Environment Configuration Validation","Environment Template"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Template should have .env.production.example file","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have .env.production.example file"},{"ancestorTitles":["Environment Configuration Validation","Environment Template"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Template should contain all required environment variables","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should contain all required environment variables"},{"ancestorTitles":["Environment Configuration Validation","Environment Template"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Template should have proper format for environment variables","invocations":1,"location":null,"numPassingAsserts":26,"retryReasons":[],"status":"passed","title":"should have proper format for environment variables"},{"ancestorTitles":["Environment Configuration Validation","Environment Template"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Template should include comments for complex variables","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should include comments for complex variables"},{"ancestorTitles":["Environment Configuration Validation","Configuration Module Integration"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Configuration Module Integration should load all configuration modules without required env vars","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should load all configuration modules without required env vars"},{"ancestorTitles":["Environment Configuration Validation","Configuration Module Integration"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Configuration Module Integration should validate consistent environment usage across modules","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should validate consistent environment usage across modules"},{"ancestorTitles":["Environment Configuration Validation","Environment Variable Types"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Variable Types should handle boolean environment variables correctly","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should handle boolean environment variables correctly"},{"ancestorTitles":["Environment Configuration Validation","Environment Variable Types"],"duration":4,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/tests/unit/config/env-validation.test.js:236:44)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Environment Configuration Validation Environment Variable Types should handle numeric environment variables correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle numeric environment variables correctly"},{"ancestorTitles":["Environment Configuration Validation","Environment Variable Types"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Variable Types should handle string array environment variables correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle string array environment variables correctly"},{"ancestorTitles":["Environment Configuration Validation","Environment Variable Types"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Variable Types should handle time string environment variables correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle time string environment variables correctly"},{"ancestorTitles":["Environment Configuration Validation","Environment Variable Types"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Environment Variable Types should handle size string environment variables correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle size string environment variables correctly"},{"ancestorTitles":["Environment Configuration Validation","Required vs Optional Environment Variables"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Required vs Optional Environment Variables should identify critical environment variables","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should identify critical environment variables"},{"ancestorTitles":["Environment Configuration Validation","Required vs Optional Environment Variables"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Required vs Optional Environment Variables should have sensible defaults for optional variables","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should have sensible defaults for optional variables"},{"ancestorTitles":["Environment Configuration Validation","Production Safety Checks"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Production Safety Checks should enforce production-safe values","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should enforce production-safe values"},{"ancestorTitles":["Environment Configuration Validation","Production Safety Checks"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Production Safety Checks should have secure defaults for production","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should have secure defaults for production"},{"ancestorTitles":["Environment Configuration Validation","Production Safety Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Production Safety Checks should not expose sensitive information by default","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not expose sensitive information by default"},{"ancestorTitles":["Environment Configuration Validation","Cross-Module Consistency"],"duration":5,"failureDetails":[{}],"failureMessages":["Error: Invalid time format: 45000\n    at parseTimeToMs (/home/jenner/code/mcps/config/production/limits.js:10:11)\n    at Object.parseTimeToMs (/home/jenner/code/mcps/config/production/limits.js:248:16)\n    at Runtime._execModule (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:882:12)\n    at Runtime.requireModuleOrMock (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:1048:21)\n    at Object.require (/home/jenner/code/mcps/tests/unit/config/env-validation.test.js:381:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Environment Configuration Validation Cross-Module Consistency should have consistent timeout values across modules","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should have consistent timeout values across modules"},{"ancestorTitles":["Environment Configuration Validation","Cross-Module Consistency"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Environment Configuration Validation Cross-Module Consistency should have consistent rate limiting configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have consistent rate limiting configuration"}],"endTime":1753397522141,"message":"  ● Environment Configuration Validation › Environment Variable Types › should handle numeric environment variables correctly\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 234 |\u001b[39m         \n     \u001b[90m 235 |\u001b[39m         \u001b[36mconst\u001b[39m invalidValue \u001b[33m=\u001b[39m config\u001b[33m.\u001b[39mpath\u001b[33m.\u001b[39msplit(\u001b[32m'.'\u001b[39m)\u001b[33m.\u001b[39mreduce((obj\u001b[33m,\u001b[39m key) \u001b[33m=>\u001b[39m obj[key]\u001b[33m,\u001b[39m module)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 236 |\u001b[39m         expect(\u001b[33mNumber\u001b[39m\u001b[33m.\u001b[39misNaN(invalidValue))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// parseInt returns NaN for invalid input\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 237 |\u001b[39m         \n     \u001b[90m 238 |\u001b[39m         \u001b[36mdelete\u001b[39m process\u001b[33m.\u001b[39menv[envVar]\u001b[33m;\u001b[39m\n     \u001b[90m 239 |\u001b[39m       }\u001b[0m\n\n      at Object.toBe (tests/unit/config/env-validation.test.js:236:44)\n\n  ● Environment Configuration Validation › Cross-Module Consistency › should have consistent timeout values across modules\n\n    Invalid time format: 45000\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m   \u001b[36mconst\u001b[39m match \u001b[33m=\u001b[39m timeStr\u001b[33m.\u001b[39mmatch(\u001b[35m/^(\\d+)([smhd])$/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m  9 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mmatch) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Invalid time format: ${timeStr}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   }\n     \u001b[90m 12 |\u001b[39m   \n     \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m value \u001b[33m=\u001b[39m parseInt(match[\u001b[35m1\u001b[39m]\u001b[33m,\u001b[39m \u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at parseTimeToMs (config/production/limits.js:10:11)\n      at Object.parseTimeToMs (config/production/limits.js:248:16)\n      at Object.require (tests/unit/config/env-validation.test.js:381:22)\n","name":"/home/jenner/code/mcps/tests/unit/config/env-validation.test.js","startTime":1753397521634,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["BackupManager Unit Tests","initialize"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests initialize should create backup directories","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create backup directories"},{"ancestorTitles":["BackupManager Unit Tests","initialize"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests initialize should load existing metadata","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should load existing metadata"},{"ancestorTitles":["BackupManager Unit Tests","createBackup"],"duration":2,"failureDetails":[{}],"failureMessages":["Error: Backup creation failed: require(...).createReadStream is not a function\n    at BackupManager.createBackup (/home/jenner/code/mcps/mcp-local-setup/scripts/backup-manager.js:201:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:112:30)"],"fullName":"BackupManager Unit Tests createBackup should create a full backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create a full backup"},{"ancestorTitles":["BackupManager Unit Tests","createBackup"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests createBackup should handle backup creation failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle backup creation failure"},{"ancestorTitles":["BackupManager Unit Tests","createBackup"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Backup creation failed: require(...).createReadStream is not a function\n    at BackupManager.createBackup (/home/jenner/code/mcps/mcp-local-setup/scripts/backup-manager.js:201:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:138:30)"],"fullName":"BackupManager Unit Tests createBackup should create incremental backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create incremental backup"},{"ancestorTitles":["BackupManager Unit Tests","listBackups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests listBackups should list all backups","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should list all backups"},{"ancestorTitles":["BackupManager Unit Tests","listBackups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests listBackups should filter by type","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by type"},{"ancestorTitles":["BackupManager Unit Tests","listBackups"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests listBackups should filter by date range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by date range"},{"ancestorTitles":["BackupManager Unit Tests","listBackups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests listBackups should filter by services","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should filter by services"},{"ancestorTitles":["BackupManager Unit Tests","restoreBackup"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Restore failed: Backup integrity check failed\n    at BackupManager.restoreBackup (/home/jenner/code/mcps/mcp-local-setup/scripts/backup-manager.js:324:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:239:28)"],"fullName":"BackupManager Unit Tests restoreBackup should restore a backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should restore a backup"},{"ancestorTitles":["BackupManager Unit Tests","restoreBackup"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Restore failed: Backup integrity check failed\n    at BackupManager.restoreBackup (/home/jenner/code/mcps/mcp-local-setup/scripts/backup-manager.js:324:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:257:28)"],"fullName":"BackupManager Unit Tests restoreBackup should handle dry run mode","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle dry run mode"},{"ancestorTitles":["BackupManager Unit Tests","restoreBackup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests restoreBackup should throw error for non-existent backup","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-existent backup"},{"ancestorTitles":["BackupManager Unit Tests","scheduleBackup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests scheduleBackup should create a backup schedule","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create a backup schedule"},{"ancestorTitles":["BackupManager Unit Tests","deleteBackup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests deleteBackup should delete a backup","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should delete a backup"},{"ancestorTitles":["BackupManager Unit Tests","deleteBackup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests deleteBackup should handle missing backup file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle missing backup file"},{"ancestorTitles":["BackupManager Unit Tests","verifyBackup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests verifyBackup should verify backup integrity","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should verify backup integrity"},{"ancestorTitles":["BackupManager Unit Tests","verifyBackup"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests verifyBackup should detect checksum mismatch","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should detect checksum mismatch"},{"ancestorTitles":["BackupManager Unit Tests","getStorageStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests getStorageStats should return storage statistics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return storage statistics"},{"ancestorTitles":["BackupManager Unit Tests","getStorageStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests getStorageStats should handle empty backup list","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle empty backup list"},{"ancestorTitles":["BackupManager Unit Tests","cleanupBackups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests cleanupBackups should cleanup old backups keeping specified versions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should cleanup old backups keeping specified versions"},{"ancestorTitles":["BackupManager Unit Tests","cleanupBackups"],"duration":3,"failureDetails":[{"matcherResult":{"actual":5,"expected":2,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 2\nReceived: 5","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 2\nReceived: 5\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:432:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"BackupManager Unit Tests cleanupBackups should cleanup backups older than maxAge","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should cleanup backups older than maxAge"},{"ancestorTitles":["BackupManager Unit Tests","importBackup/exportBackup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"BackupManager Unit Tests importBackup/exportBackup should export backup to local filesystem","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should export backup to local filesystem"},{"ancestorTitles":["BackupManager Unit Tests","importBackup/exportBackup"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Import failed: require(...).createReadStream is not a function\n    at BackupManager.importBackup (/home/jenner/code/mcps/mcp-local-setup/scripts/backup-manager.js:512:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:461:30)"],"fullName":"BackupManager Unit Tests importBackup/exportBackup should import backup from local filesystem","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should import backup from local filesystem"}],"endTime":1753397522141,"message":"  ● BackupManager Unit Tests › createBackup › should create a full backup\n\n    Backup creation failed: require(...).createReadStream is not a function\n\n    \u001b[0m \u001b[90m 199 |\u001b[39m                 \u001b[90m// Ignore cleanup errors\u001b[39m\n     \u001b[90m 200 |\u001b[39m             }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 201 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Backup creation failed: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 202 |\u001b[39m         }\n     \u001b[90m 203 |\u001b[39m     }\n     \u001b[90m 204 |\u001b[39m\u001b[0m\n\n      at BackupManager.createBackup (mcp-local-setup/scripts/backup-manager.js:201:19)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:112:30)\n\n  ● BackupManager Unit Tests › createBackup › should create incremental backup\n\n    Backup creation failed: require(...).createReadStream is not a function\n\n    \u001b[0m \u001b[90m 199 |\u001b[39m                 \u001b[90m// Ignore cleanup errors\u001b[39m\n     \u001b[90m 200 |\u001b[39m             }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 201 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Backup creation failed: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 202 |\u001b[39m         }\n     \u001b[90m 203 |\u001b[39m     }\n     \u001b[90m 204 |\u001b[39m\u001b[0m\n\n      at BackupManager.createBackup (mcp-local-setup/scripts/backup-manager.js:201:19)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:138:30)\n\n  ● BackupManager Unit Tests › restoreBackup › should restore a backup\n\n    Restore failed: Backup integrity check failed\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m                 \u001b[90m// Ignore cleanup errors\u001b[39m\n     \u001b[90m 323 |\u001b[39m             }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Restore failed: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m         }\n     \u001b[90m 326 |\u001b[39m     }\n     \u001b[90m 327 |\u001b[39m\u001b[0m\n\n      at BackupManager.restoreBackup (mcp-local-setup/scripts/backup-manager.js:324:19)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:239:28)\n\n  ● BackupManager Unit Tests › restoreBackup › should handle dry run mode\n\n    Restore failed: Backup integrity check failed\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m                 \u001b[90m// Ignore cleanup errors\u001b[39m\n     \u001b[90m 323 |\u001b[39m             }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Restore failed: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m         }\n     \u001b[90m 326 |\u001b[39m     }\n     \u001b[90m 327 |\u001b[39m\u001b[0m\n\n      at BackupManager.restoreBackup (mcp-local-setup/scripts/backup-manager.js:324:19)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:257:28)\n\n  ● BackupManager Unit Tests › cleanupBackups › should cleanup backups older than maxAge\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 2\n    Received: 5\n\n    \u001b[0m \u001b[90m 430 |\u001b[39m             })\u001b[33m;\u001b[39m\n     \u001b[90m 431 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 432 |\u001b[39m             expect(result\u001b[33m.\u001b[39mdeletedCount)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 433 |\u001b[39m             expect(backupManager\u001b[33m.\u001b[39mmetadata\u001b[33m.\u001b[39mhas(\u001b[32m'backup-1'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m             expect(backupManager\u001b[33m.\u001b[39mmetadata\u001b[33m.\u001b[39mhas(\u001b[32m'backup-2'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:432:41)\n\n  ● BackupManager Unit Tests › importBackup/exportBackup › should import backup from local filesystem\n\n    Import failed: require(...).createReadStream is not a function\n\n    \u001b[0m \u001b[90m 510 |\u001b[39m                 \u001b[90m// Ignore cleanup errors\u001b[39m\n     \u001b[90m 511 |\u001b[39m             }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 512 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Import failed: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 513 |\u001b[39m         }\n     \u001b[90m 514 |\u001b[39m     }\n     \u001b[90m 515 |\u001b[39m\u001b[0m\n\n      at BackupManager.importBackup (mcp-local-setup/scripts/backup-manager.js:512:19)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js:461:30)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/backup/backup-manager.unit.test.js","startTime":1753397521616,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ConfigurationManager","loadConfig"],"duration":8,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:44:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager loadConfig should load configuration for an environment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should load configuration for an environment"},{"ancestorTitles":["ConfigurationManager","loadConfig"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockRejectedValue is not a function\n    at Object.mockRejectedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:56:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager loadConfig should throw error for non-existent environment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error for non-existent environment"},{"ancestorTitles":["ConfigurationManager","loadConfig"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:63:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager loadConfig should include secrets when requested","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should include secrets when requested"},{"ancestorTitles":["ConfigurationManager","loadConfig"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:78:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager loadConfig should apply runtime overrides","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply runtime overrides"},{"ancestorTitles":["ConfigurationManager","loadConfig"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:94:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager loadConfig should validate configuration when requested","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate configuration when requested"},{"ancestorTitles":["ConfigurationManager","validateConfig"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager validateConfig should validate required properties","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should validate required properties"},{"ancestorTitles":["ConfigurationManager","validateConfig"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager validateConfig should validate property types","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate property types"},{"ancestorTitles":["ConfigurationManager","validateConfig"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager validateConfig should add warnings for missing defaults","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should add warnings for missing defaults"},{"ancestorTitles":["ConfigurationManager","saveConfig"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: fs.mkdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:179:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager saveConfig should save configuration to file","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should save configuration to file"},{"ancestorTitles":["ConfigurationManager","saveConfig"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: fs.mkdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:197:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager saveConfig should create backup when requested","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create backup when requested"},{"ancestorTitles":["ConfigurationManager","saveConfig"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager saveConfig should validate before saving when requested","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate before saving when requested"},{"ancestorTitles":["ConfigurationManager","getSecrets and setSecrets"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.mkdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:220:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager getSecrets and setSecrets should encrypt and save secrets","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should encrypt and save secrets"},{"ancestorTitles":["ConfigurationManager","getSecrets and setSecrets"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:241:25)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager getSecrets and setSecrets should decrypt and retrieve secrets","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should decrypt and retrieve secrets"},{"ancestorTitles":["ConfigurationManager","getSecrets and setSecrets"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockRejectedValue is not a function\n    at Object.mockRejectedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:249:25)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager getSecrets and setSecrets should throw error for non-existent secret","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error for non-existent secret"},{"ancestorTitles":["ConfigurationManager","migrateConfig"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager migrateConfig should execute migration successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should execute migration successfully"},{"ancestorTitles":["ConfigurationManager","migrateConfig"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager migrateConfig should throw error for missing migration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for missing migration"},{"ancestorTitles":["ConfigurationManager","environment management"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:286:24)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager environment management should list available environments","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should list available environments"},{"ancestorTitles":["ConfigurationManager","environment management"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockRejectedValue is not a function\n    at Object.mockRejectedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:294:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager environment management should create new environment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create new environment"},{"ancestorTitles":["ConfigurationManager","environment management"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.access.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:313:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager environment management should throw error if environment already exists","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error if environment already exists"},{"ancestorTitles":["ConfigurationManager","environment management"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.unlink.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:320:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager environment management should delete environment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete environment"},{"ancestorTitles":["ConfigurationManager","import/export"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager import/export should export configuration as JSON","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should export configuration as JSON"},{"ancestorTitles":["ConfigurationManager","import/export"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager import/export should export configuration as ENV format","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export configuration as ENV format"},{"ancestorTitles":["ConfigurationManager","import/export"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.mkdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:350:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager import/export should import JSON configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should import JSON configuration"},{"ancestorTitles":["ConfigurationManager","import/export"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.mkdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js:375:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ConfigurationManager import/export should merge imported configuration when requested","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should merge imported configuration when requested"},{"ancestorTitles":["ConfigurationManager","encryption/decryption"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager encryption/decryption should encrypt and decrypt values correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should encrypt and decrypt values correctly"},{"ancestorTitles":["ConfigurationManager","encryption/decryption"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigurationManager encryption/decryption should throw error if encryption key not set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if encryption key not set"}],"endTime":1753397522141,"message":"  ● ConfigurationManager › loadConfig › should load configuration for an environment\n\n    TypeError: fs.access.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m     describe(\u001b[32m'loadConfig'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 43 |\u001b[39m         it(\u001b[32m'should load configuration for an environment'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockConfig))\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m             \n     \u001b[90m 47 |\u001b[39m             \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m configManager\u001b[33m.\u001b[39mloadConfig(\u001b[32m'test'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:44:23)\n\n  ● ConfigurationManager › loadConfig › should throw error for non-existent environment\n\n    TypeError: fs.access.mockRejectedValue is not a function\n\n    \u001b[0m \u001b[90m 54 |\u001b[39m         \n     \u001b[90m 55 |\u001b[39m         it(\u001b[32m'should throw error for non-existent environment'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockRejectedValue({ code\u001b[33m:\u001b[39m \u001b[32m'ENOENT'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 57 |\u001b[39m             \n     \u001b[90m 58 |\u001b[39m             \u001b[36mawait\u001b[39m expect(configManager\u001b[33m.\u001b[39mloadConfig(\u001b[32m'nonexistent'\u001b[39m))\n     \u001b[90m 59 |\u001b[39m                 \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m\"Configuration for environment 'nonexistent' not found\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockRejectedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:56:23)\n\n  ● ConfigurationManager › loadConfig › should include secrets when requested\n\n    TypeError: fs.access.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 61 |\u001b[39m         \n     \u001b[90m 62 |\u001b[39m         it(\u001b[32m'should include secrets when requested'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 63 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 64 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockConfig))\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m             fs\u001b[33m.\u001b[39mreaddir\u001b[33m.\u001b[39mmockResolvedValue([\u001b[32m'DB_PASSWORD.enc'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m             \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:63:23)\n\n  ● ConfigurationManager › loadConfig › should apply runtime overrides\n\n    TypeError: fs.access.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 76 |\u001b[39m         \n     \u001b[90m 77 |\u001b[39m         it(\u001b[32m'should apply runtime overrides'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 78 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 79 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockConfig))\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m             \n     \u001b[90m 81 |\u001b[39m             \u001b[36mconst\u001b[39m overrides \u001b[33m=\u001b[39m {\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:78:23)\n\n  ● ConfigurationManager › loadConfig › should validate configuration when requested\n\n    TypeError: fs.access.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 92 |\u001b[39m         \n     \u001b[90m 93 |\u001b[39m         it(\u001b[32m'should validate configuration when requested'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 94 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 95 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockConfig))\u001b[33m;\u001b[39m\n     \u001b[90m 96 |\u001b[39m             \n     \u001b[90m 97 |\u001b[39m             configManager\u001b[33m.\u001b[39mvalidateConfig \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue({\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:94:23)\n\n  ● ConfigurationManager › saveConfig › should save configuration to file\n\n    TypeError: fs.mkdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 177 |\u001b[39m     describe(\u001b[32m'saveConfig'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 178 |\u001b[39m         it(\u001b[32m'should save configuration to file'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 179 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 180 |\u001b[39m             fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m             \n     \u001b[90m 182 |\u001b[39m             \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m configManager\u001b[33m.\u001b[39msaveConfig(mockConfig\u001b[33m,\u001b[39m \u001b[32m'test'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:179:22)\n\n  ● ConfigurationManager › saveConfig › should create backup when requested\n\n    TypeError: fs.mkdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m         \n     \u001b[90m 196 |\u001b[39m         it(\u001b[32m'should create backup when requested'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockConfig))\u001b[33m;\u001b[39m\n     \u001b[90m 199 |\u001b[39m             fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m             \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:197:22)\n\n  ● ConfigurationManager › getSecrets and setSecrets › should encrypt and save secrets\n\n    TypeError: fs.mkdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m     describe(\u001b[32m'getSecrets and setSecrets'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 219 |\u001b[39m         it(\u001b[32m'should encrypt and save secrets'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockRejectedValue({ code\u001b[33m:\u001b[39m \u001b[32m'ENOENT'\u001b[39m })\u001b[33m;\u001b[39m \u001b[90m// No existing metadata\u001b[39m\n     \u001b[90m 222 |\u001b[39m             fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 223 |\u001b[39m             \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:220:22)\n\n  ● ConfigurationManager › getSecrets and setSecrets › should decrypt and retrieve secrets\n\n    TypeError: fs.readFile.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 239 |\u001b[39m         it(\u001b[32m'should decrypt and retrieve secrets'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 240 |\u001b[39m             \u001b[36mconst\u001b[39m encryptedData \u001b[33m=\u001b[39m configManager\u001b[33m.\u001b[39m_encrypt(\u001b[32m'secret-value'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 241 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(encryptedData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 242 |\u001b[39m             \n     \u001b[90m 243 |\u001b[39m             \u001b[36mconst\u001b[39m secrets \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m configManager\u001b[33m.\u001b[39mgetSecrets([\u001b[32m'API_KEY'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 244 |\u001b[39m             \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:241:25)\n\n  ● ConfigurationManager › getSecrets and setSecrets › should throw error for non-existent secret\n\n    TypeError: fs.readFile.mockRejectedValue is not a function\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m         \n     \u001b[90m 248 |\u001b[39m         it(\u001b[32m'should throw error for non-existent secret'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m             fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockRejectedValue({ code\u001b[33m:\u001b[39m \u001b[32m'ENOENT'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m             \n     \u001b[90m 251 |\u001b[39m             \u001b[36mawait\u001b[39m expect(configManager\u001b[33m.\u001b[39mgetSecrets([\u001b[32m'NONEXISTENT'\u001b[39m]))\n     \u001b[90m 252 |\u001b[39m                 \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m\"Secret 'NONEXISTENT' not found\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockRejectedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:249:25)\n\n  ● ConfigurationManager › environment management › should list available environments\n\n    TypeError: fs.readdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 284 |\u001b[39m     describe(\u001b[32m'environment management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 285 |\u001b[39m         it(\u001b[32m'should list available environments'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 286 |\u001b[39m             fs\u001b[33m.\u001b[39mreaddir\u001b[33m.\u001b[39mmockResolvedValue([\u001b[32m'dev.json'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'prod.json'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test.json'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'README.md'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 287 |\u001b[39m             \n     \u001b[90m 288 |\u001b[39m             \u001b[36mconst\u001b[39m environments \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m configManager\u001b[33m.\u001b[39mlistEnvironments()\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m             \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:286:24)\n\n  ● ConfigurationManager › environment management › should create new environment\n\n    TypeError: fs.access.mockRejectedValue is not a function\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m         \n     \u001b[90m 293 |\u001b[39m         it(\u001b[32m'should create new environment'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockRejectedValue({ code\u001b[33m:\u001b[39m \u001b[32m'ENOENT'\u001b[39m })\u001b[33m;\u001b[39m \u001b[90m// Doesn't exist\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 296 |\u001b[39m             fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 297 |\u001b[39m             \u001b[0m\n\n      at Object.mockRejectedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:294:23)\n\n  ● ConfigurationManager › environment management › should throw error if environment already exists\n\n    TypeError: fs.access.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 311 |\u001b[39m         \n     \u001b[90m 312 |\u001b[39m         it(\u001b[32m'should throw error if environment already exists'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 313 |\u001b[39m             fs\u001b[33m.\u001b[39maccess\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m \u001b[90m// Exists\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 314 |\u001b[39m             \n     \u001b[90m 315 |\u001b[39m             \u001b[36mawait\u001b[39m expect(configManager\u001b[33m.\u001b[39mcreateEnvironment(\u001b[32m'existing'\u001b[39m))\n     \u001b[90m 316 |\u001b[39m                 \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m\"Environment 'existing' already exists\"\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:313:23)\n\n  ● ConfigurationManager › environment management › should delete environment\n\n    TypeError: fs.unlink.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m         \n     \u001b[90m 319 |\u001b[39m         it(\u001b[32m'should delete environment'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m             fs\u001b[33m.\u001b[39munlink\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m             fs\u001b[33m.\u001b[39mrmdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m             \n     \u001b[90m 323 |\u001b[39m             \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m configManager\u001b[33m.\u001b[39mdeleteEnvironment(\u001b[32m'test'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:320:23)\n\n  ● ConfigurationManager › import/export › should import JSON configuration\n\n    TypeError: fs.mkdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m         \n     \u001b[90m 349 |\u001b[39m         it(\u001b[32m'should import JSON configuration'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m             fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m             configManager\u001b[33m.\u001b[39mvalidateConfig \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue({\n     \u001b[90m 353 |\u001b[39m                 valid\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:350:22)\n\n  ● ConfigurationManager › import/export › should merge imported configuration when requested\n\n    TypeError: fs.mkdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 373 |\u001b[39m             \n     \u001b[90m 374 |\u001b[39m             configManager\u001b[33m.\u001b[39mloadConfig \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue(existingConfig)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 375 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 376 |\u001b[39m             fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 377 |\u001b[39m             configManager\u001b[33m.\u001b[39mvalidateConfig \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue({\n     \u001b[90m 378 |\u001b[39m                 valid\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/configuration-manager.test.js:375:22)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/configuration-manager.test.js","startTime":1753397521621,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Security Middleware Chain Integration","Complete Security Middleware Stack"],"duration":4,"failureDetails":[{}],"failureMessages":["TypeError: helmetMiddleware.middleware is not a function\n    at Object.middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:96:32)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Complete Security Middleware Stack should process request through full security stack","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should process request through full security stack"},{"ancestorTitles":["Security Middleware Chain Integration","Complete Security Middleware Stack"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: jwtAuth.middleware is not a function\n    at Object.middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:120:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Complete Security Middleware Stack should handle authentication failure in middleware chain","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle authentication failure in middleware chain"},{"ancestorTitles":["Security Middleware Chain Integration","Complete Security Middleware Stack"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Security Middleware Chain Integration Complete Security Middleware Stack should handle rate limit exceeded in middleware chain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle rate limit exceeded in middleware chain"},{"ancestorTitles":["Security Middleware Chain Integration","Authentication Middleware Combinations"],"duration":4,"failureDetails":[{}],"failureMessages":["TypeError: jwtAuth.middleware is not a function\n    at middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:158:39)\n    at Object.middleware [as process] (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:55:17)\n    at Object.process (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:178:17)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Authentication Middleware Combinations should support multiple authentication methods","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should support multiple authentication methods"},{"ancestorTitles":["Security Middleware Chain Integration","Authentication Middleware Combinations"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: jwtAuth.middleware is not a function\n    at middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:209:23)\n    at Object.middleware [as process] (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:55:17)\n    at Object.process (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:221:17)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Authentication Middleware Combinations should enforce permission requirements across auth methods","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce permission requirements across auth methods"},{"ancestorTitles":["Security Middleware Chain Integration","CORS and Security Headers"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: helmetMiddleware.middleware is not a function\n    at Object.middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:237:32)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration CORS and Security Headers should handle preflight requests with security headers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle preflight requests with security headers"},{"ancestorTitles":["Security Middleware Chain Integration","CORS and Security Headers"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: helmetMiddleware.middleware is not a function\n    at Object.middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:268:32)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration CORS and Security Headers should apply CSP headers dynamically","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply CSP headers dynamically"},{"ancestorTitles":["Security Middleware Chain Integration","Rate Limiting with Authentication"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: jwtAuth.middleware is not a function\n    at Object.middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:287:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Rate Limiting with Authentication should apply different rate limits for authenticated vs anonymous users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply different rate limits for authenticated vs anonymous users"},{"ancestorTitles":["Security Middleware Chain Integration","Rate Limiting with Authentication"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: jwtAuth.middleware is not a function\n    at Object.middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:320:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Rate Limiting with Authentication should combine IP and user rate limiting for defense in depth","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should combine IP and user rate limiting for defense in depth"},{"ancestorTitles":["Security Middleware Chain Integration","Error Handling in Middleware Chain"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Middleware Chain Integration Error Handling in Middleware Chain should handle middleware errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle middleware errors gracefully"},{"ancestorTitles":["Security Middleware Chain Integration","Error Handling in Middleware Chain"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Middleware Chain Integration Error Handling in Middleware Chain should continue on optional middleware failures","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should continue on optional middleware failures"},{"ancestorTitles":["Security Middleware Chain Integration","Advanced Middleware Patterns"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: helmetMiddleware.middleware is not a function\n    at middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:434:35)\n    at Object.middleware [as process] (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:55:17)\n    at Object.process (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:467:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Security Middleware Chain Integration Advanced Middleware Patterns should support conditional middleware application","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should support conditional middleware application"},{"ancestorTitles":["Security Middleware Chain Integration","Advanced Middleware Patterns"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: helmetMiddleware.middleware is not a function\n    at middleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:489:45)\n    at Object.securityMiddleware (/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js:512:15)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Middleware Chain Integration Advanced Middleware Patterns should support middleware composition","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should support middleware composition"}],"endTime":1753397522168,"message":"  ● Security Middleware Chain Integration › Complete Security Middleware Stack › should process request through full security stack\n\n    TypeError: helmetMiddleware.middleware is not a function\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m     it(\u001b[32m'should process request through full security stack'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 95 |\u001b[39m       \u001b[90m// Setup middleware chain\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m       app\u001b[33m.\u001b[39muse(helmetMiddleware\u001b[33m.\u001b[39mmiddleware())\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m       app\u001b[33m.\u001b[39muse(corsMiddleware\u001b[33m.\u001b[39mhandle())\u001b[33m;\u001b[39m\n     \u001b[90m 98 |\u001b[39m       app\u001b[33m.\u001b[39muse(ipLimiter\u001b[33m.\u001b[39mcreateMiddleware())\u001b[33m;\u001b[39m\n     \u001b[90m 99 |\u001b[39m       app\u001b[33m.\u001b[39muse(jwtAuth\u001b[33m.\u001b[39mmiddleware({ optional\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.middleware (tests/integration/security/middleware-chain.test.js:96:32)\n\n  ● Security Middleware Chain Integration › Complete Security Middleware Stack › should handle authentication failure in middleware chain\n\n    TypeError: jwtAuth.middleware is not a function\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m       \u001b[90m// Setup middleware chain with required auth\u001b[39m\n     \u001b[90m 119 |\u001b[39m       app\u001b[33m.\u001b[39muse(corsMiddleware\u001b[33m.\u001b[39mhandle())\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m       app\u001b[33m.\u001b[39muse(jwtAuth\u001b[33m.\u001b[39mmiddleware({ optional\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m       app\u001b[33m.\u001b[39muse(userLimiter\u001b[33m.\u001b[39mcreateMiddleware(\u001b[32m'api-calls'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m\n     \u001b[90m 123 |\u001b[39m       \u001b[90m// No authentication provided\u001b[39m\u001b[0m\n\n      at Object.middleware (tests/integration/security/middleware-chain.test.js:120:23)\n\n  ● Security Middleware Chain Integration › Authentication Middleware Combinations › should support multiple authentication methods\n\n    TypeError: jwtAuth.middleware is not a function\n\n    \u001b[0m \u001b[90m 156 |\u001b[39m       \u001b[36mconst\u001b[39m authMiddleware \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next) \u001b[33m=>\u001b[39m {\n     \u001b[90m 157 |\u001b[39m         \u001b[90m// Try JWT first\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 158 |\u001b[39m         \u001b[36mconst\u001b[39m jwtMiddleware \u001b[33m=\u001b[39m jwtAuth\u001b[33m.\u001b[39mmiddleware({ optional\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 159 |\u001b[39m         \u001b[36mawait\u001b[39m jwtMiddleware(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m 160 |\u001b[39m\n     \u001b[90m 161 |\u001b[39m         \u001b[36mif\u001b[39m (req\u001b[33m.\u001b[39muser) {\u001b[0m\n\n      at middleware (tests/integration/security/middleware-chain.test.js:158:39)\n      at Object.middleware [as process] (tests/integration/security/middleware-chain.test.js:55:17)\n      at Object.process (tests/integration/security/middleware-chain.test.js:178:17)\n\n  ● Security Middleware Chain Integration › Authentication Middleware Combinations › should enforce permission requirements across auth methods\n\n    TypeError: jwtAuth.middleware is not a function\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       app\u001b[33m.\u001b[39muse(\u001b[36masync\u001b[39m (req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next) \u001b[33m=>\u001b[39m {\n     \u001b[90m 208 |\u001b[39m         \u001b[90m// Try both auth methods\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m         \u001b[36mawait\u001b[39m jwtAuth\u001b[33m.\u001b[39mmiddleware({ optional\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m         \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mreq\u001b[33m.\u001b[39muser) {\n     \u001b[90m 211 |\u001b[39m           \u001b[36mawait\u001b[39m apiKeyManager\u001b[33m.\u001b[39mmiddleware()(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next)\u001b[33m;\u001b[39m\n     \u001b[90m 212 |\u001b[39m         } \u001b[36melse\u001b[39m {\u001b[0m\n\n      at middleware (tests/integration/security/middleware-chain.test.js:209:23)\n      at Object.middleware [as process] (tests/integration/security/middleware-chain.test.js:55:17)\n      at Object.process (tests/integration/security/middleware-chain.test.js:221:17)\n\n  ● Security Middleware Chain Integration › CORS and Security Headers › should handle preflight requests with security headers\n\n    TypeError: helmetMiddleware.middleware is not a function\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m     it(\u001b[32m'should handle preflight requests with security headers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 236 |\u001b[39m       \u001b[90m// Setup middleware\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m       app\u001b[33m.\u001b[39muse(helmetMiddleware\u001b[33m.\u001b[39mmiddleware())\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       app\u001b[33m.\u001b[39muse(corsMiddleware\u001b[33m.\u001b[39mhandle())\u001b[33m;\u001b[39m\n     \u001b[90m 239 |\u001b[39m\n     \u001b[90m 240 |\u001b[39m       \u001b[90m// Preflight request\u001b[39m\u001b[0m\n\n      at Object.middleware (tests/integration/security/middleware-chain.test.js:237:32)\n\n  ● Security Middleware Chain Integration › CORS and Security Headers › should apply CSP headers dynamically\n\n    TypeError: helmetMiddleware.middleware is not a function\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m       app\u001b[33m.\u001b[39muse(helmetMiddleware\u001b[33m.\u001b[39mmiddleware())\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m       app\u001b[33m.\u001b[39muse(dynamicCSP)\u001b[33m;\u001b[39m\n     \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m       \u001b[90m// Test admin route\u001b[39m\u001b[0m\n\n      at Object.middleware (tests/integration/security/middleware-chain.test.js:268:32)\n\n  ● Security Middleware Chain Integration › Rate Limiting with Authentication › should apply different rate limits for authenticated vs anonymous users\n\n    TypeError: jwtAuth.middleware is not a function\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m     it(\u001b[32m'should apply different rate limits for authenticated vs anonymous users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 286 |\u001b[39m       \u001b[90m// Setup middleware chain\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m       app\u001b[33m.\u001b[39muse(jwtAuth\u001b[33m.\u001b[39mmiddleware({ optional\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m       app\u001b[33m.\u001b[39muse(\u001b[36masync\u001b[39m (req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next) \u001b[33m=>\u001b[39m {\n     \u001b[90m 289 |\u001b[39m         \u001b[36mif\u001b[39m (req\u001b[33m.\u001b[39muser) {\n     \u001b[90m 290 |\u001b[39m           \u001b[90m// Authenticated users get user-based limits\u001b[39m\u001b[0m\n\n      at Object.middleware (tests/integration/security/middleware-chain.test.js:287:23)\n\n  ● Security Middleware Chain Integration › Rate Limiting with Authentication › should combine IP and user rate limiting for defense in depth\n\n    TypeError: jwtAuth.middleware is not a function\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m       \u001b[90m// Setup both limiters\u001b[39m\n     \u001b[90m 319 |\u001b[39m       app\u001b[33m.\u001b[39muse(ipLimiter\u001b[33m.\u001b[39mcreateMiddleware())\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m       app\u001b[33m.\u001b[39muse(jwtAuth\u001b[33m.\u001b[39mmiddleware({ optional\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m       app\u001b[33m.\u001b[39muse((req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next) \u001b[33m=>\u001b[39m {\n     \u001b[90m 322 |\u001b[39m         \u001b[36mif\u001b[39m (req\u001b[33m.\u001b[39muser) {\n     \u001b[90m 323 |\u001b[39m           \u001b[36mconst\u001b[39m userMiddleware \u001b[33m=\u001b[39m userLimiter\u001b[33m.\u001b[39mcreateMiddleware(\u001b[32m'api-calls'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.middleware (tests/integration/security/middleware-chain.test.js:320:23)\n\n  ● Security Middleware Chain Integration › Advanced Middleware Patterns › should support conditional middleware application\n\n    TypeError: helmetMiddleware.middleware is not a function\n\n    \u001b[0m \u001b[90m 432 |\u001b[39m         } \u001b[36melse\u001b[39m \u001b[36mif\u001b[39m (req\u001b[33m.\u001b[39mpath\u001b[33m.\u001b[39mstartsWith(\u001b[32m'/api'\u001b[39m)) {\n     \u001b[90m 433 |\u001b[39m           \u001b[90m// API routes - full security\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 434 |\u001b[39m           \u001b[36mreturn\u001b[39m helmetMiddleware\u001b[33m.\u001b[39mmiddleware()(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 435 |\u001b[39m         } \u001b[36melse\u001b[39m \u001b[36mif\u001b[39m (req\u001b[33m.\u001b[39mpath\u001b[33m.\u001b[39mstartsWith(\u001b[32m'/admin'\u001b[39m)) {\n     \u001b[90m 436 |\u001b[39m           \u001b[90m// Admin routes - strict security\u001b[39m\n     \u001b[90m 437 |\u001b[39m           res\u001b[33m.\u001b[39msetHeader(\u001b[32m'X-Admin-Route'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'true'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at middleware (tests/integration/security/middleware-chain.test.js:434:35)\n      at Object.middleware [as process] (tests/integration/security/middleware-chain.test.js:55:17)\n      at Object.process (tests/integration/security/middleware-chain.test.js:467:17)\n\n  ● Security Middleware Chain Integration › Advanced Middleware Patterns › should support middleware composition\n\n    TypeError: helmetMiddleware.middleware is not a function\n\n    \u001b[0m \u001b[90m 487 |\u001b[39m         }\n     \u001b[90m 488 |\u001b[39m         \u001b[36mif\u001b[39m (options\u001b[33m.\u001b[39mhelmet) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 489 |\u001b[39m           middlewares\u001b[33m.\u001b[39mpush(helmetMiddleware\u001b[33m.\u001b[39mmiddleware())\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 490 |\u001b[39m         }\n     \u001b[90m 491 |\u001b[39m         \u001b[36mif\u001b[39m (options\u001b[33m.\u001b[39mrateLimit) {\n     \u001b[90m 492 |\u001b[39m           middlewares\u001b[33m.\u001b[39mpush(ipLimiter\u001b[33m.\u001b[39mcreateMiddleware())\u001b[33m;\u001b[39m\u001b[0m\n\n      at middleware (tests/integration/security/middleware-chain.test.js:489:45)\n      at Object.securityMiddleware (tests/integration/security/middleware-chain.test.js:512:15)\n","name":"/home/jenner/code/mcps/tests/integration/security/middleware-chain.test.js","startTime":1753397521627,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["SecretManager","initialization"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager initialization should initialize with master key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should initialize with master key"},{"ancestorTitles":["SecretManager","initialization"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager initialization should initialize with password","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize with password"},{"ancestorTitles":["SecretManager","initialization"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager initialization should throw error if not initialized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if not initialized"},{"ancestorTitles":["SecretManager","encrypt/decrypt"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager encrypt/decrypt should encrypt and decrypt values correctly","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should encrypt and decrypt values correctly"},{"ancestorTitles":["SecretManager","encrypt/decrypt"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager encrypt/decrypt should include metadata in encrypted data","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should include metadata in encrypted data"},{"ancestorTitles":["SecretManager","encrypt/decrypt"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager encrypt/decrypt should handle empty strings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty strings"},{"ancestorTitles":["SecretManager","encrypt/decrypt"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager encrypt/decrypt should handle special characters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle special characters"},{"ancestorTitles":["SecretManager","rotateEncryption"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager rotateEncryption should rotate encryption with new key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should rotate encryption with new key"},{"ancestorTitles":["SecretManager","rotateEncryption"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager rotateEncryption should increment rotation count","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should increment rotation count"},{"ancestorTitles":["SecretManager","validateEncryptedData"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager validateEncryptedData should validate correct encrypted data structure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate correct encrypted data structure"},{"ancestorTitles":["SecretManager","validateEncryptedData"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager validateEncryptedData should reject invalid encrypted data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid encrypted data"},{"ancestorTitles":["SecretManager","generateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generateKey should generate random key of specified length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate random key of specified length"},{"ancestorTitles":["SecretManager","generateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generateKey should generate 32-byte key by default","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate 32-byte key by default"},{"ancestorTitles":["SecretManager","generateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generateKey should generate different keys each time","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate different keys each time"},{"ancestorTitles":["SecretManager","generatePassword"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generatePassword should generate password with default options","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate password with default options"},{"ancestorTitles":["SecretManager","generatePassword"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generatePassword should generate password with custom length","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate password with custom length"},{"ancestorTitles":["SecretManager","generatePassword"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generatePassword should exclude character types when requested","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should exclude character types when requested"},{"ancestorTitles":["SecretManager","generatePassword"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager generatePassword should throw error if no character types included","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if no character types included"},{"ancestorTitles":["SecretManager","backupSecrets"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: fs.readdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/secret-manager.test.js:213:24)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SecretManager backupSecrets should create backup of secrets directory","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create backup of secrets directory"},{"ancestorTitles":["SecretManager","backupSecrets"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readdir.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/secret-manager.test.js:228:24)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"SecretManager backupSecrets should skip directories when backing up","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should skip directories when backing up"},{"ancestorTitles":["SecretManager","auditAccess"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager auditAccess should create audit entry","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create audit entry"},{"ancestorTitles":["SecretManager","auditAccess"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager auditAccess should use default values for missing context","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use default values for missing context"},{"ancestorTitles":["SecretManager","isExpired"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager isExpired should detect expired secrets","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect expired secrets"},{"ancestorTitles":["SecretManager","isExpired"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager isExpired should not mark recent secrets as expired","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not mark recent secrets as expired"},{"ancestorTitles":["SecretManager","isExpired"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager isExpired should use custom max age","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom max age"},{"ancestorTitles":["SecretManager","isExpired"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager isExpired should handle missing createdAt","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing createdAt"},{"ancestorTitles":["SecretManager","key derivation"],"duration":67,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager key derivation should derive consistent key from password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should derive consistent key from password"},{"ancestorTitles":["SecretManager","key derivation"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"SecretManager key derivation should derive different keys with different salts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should derive different keys with different salts"}],"endTime":1753397522178,"message":"  ● SecretManager › backupSecrets › should create backup of secrets directory\n\n    TypeError: fs.readdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 211 |\u001b[39m         it(\u001b[32m'should create backup of secrets directory'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 212 |\u001b[39m             \u001b[36mconst\u001b[39m mockFiles \u001b[33m=\u001b[39m [\u001b[32m'secret1.enc'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'secret2.enc'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'_metadata.json'\u001b[39m]\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 213 |\u001b[39m             fs\u001b[33m.\u001b[39mreaddir\u001b[33m.\u001b[39mmockResolvedValue(mockFiles)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 214 |\u001b[39m             fs\u001b[33m.\u001b[39mstat\u001b[33m.\u001b[39mmockResolvedValue({ isFile\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 215 |\u001b[39m             fs\u001b[33m.\u001b[39mmkdir\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 216 |\u001b[39m             fs\u001b[33m.\u001b[39mcopyFile\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/secret-manager.test.js:213:24)\n\n  ● SecretManager › backupSecrets › should skip directories when backing up\n\n    TypeError: fs.readdir.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 226 |\u001b[39m         \n     \u001b[90m 227 |\u001b[39m         it(\u001b[32m'should skip directories when backing up'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 228 |\u001b[39m             fs\u001b[33m.\u001b[39mreaddir\u001b[33m.\u001b[39mmockResolvedValue([\u001b[32m'file.enc'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'subdir'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 229 |\u001b[39m             fs\u001b[33m.\u001b[39mstat\n     \u001b[90m 230 |\u001b[39m                 \u001b[33m.\u001b[39mmockResolvedValueOnce({ isFile\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m })\n     \u001b[90m 231 |\u001b[39m                 \u001b[33m.\u001b[39mmockResolvedValueOnce({ isFile\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/config/secret-manager.test.js:228:24)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/secret-manager.test.js","startTime":1753397521615,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["UserRateLimiter","constructor"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["UserRateLimiter","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["UserRateLimiter","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter constructor should initialize default tiers","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should initialize default tiers"},{"ancestorTitles":["UserRateLimiter","getUserTier"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserTier should return user tier","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return user tier"},{"ancestorTitles":["UserRateLimiter","getUserTier"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserTier should return free tier by default","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return free tier by default"},{"ancestorTitles":["UserRateLimiter","setUserTier"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter setUserTier should set user tier successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should set user tier successfully"},{"ancestorTitles":["UserRateLimiter","setUserTier"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter setUserTier should throw error for unknown tier","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown tier"},{"ancestorTitles":["UserRateLimiter","getRateLimitForUser"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getRateLimitForUser should get rate limit based on user tier","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get rate limit based on user tier"},{"ancestorTitles":["UserRateLimiter","getRateLimitForUser"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getRateLimitForUser should return unlimited for enterprise users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return unlimited for enterprise users"},{"ancestorTitles":["UserRateLimiter","getRateLimitForUser"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getRateLimitForUser should default to free tier for unknown users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should default to free tier for unknown users"},{"ancestorTitles":["UserRateLimiter","getRateLimitForUser"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getRateLimitForUser should return default limit for unknown resource","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return default limit for unknown resource"},{"ancestorTitles":["UserRateLimiter","buildKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter buildKey should build correct storage key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should build correct storage key"},{"ancestorTitles":["UserRateLimiter","buildKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter buildKey should use custom key prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom key prefix"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should check rate limit successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check rate limit successfully"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should throw error if userId or resource is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw error if userId or resource is missing"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should handle unlimited tier","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle unlimited tier"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should track requests in memory storage","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should track requests in memory storage"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should remove expired requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove expired requests"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should calculate correct reset time","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should calculate correct reset time"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should throw error for invalid storage configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid storage configuration"},{"ancestorTitles":["UserRateLimiter","checkLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter checkLimit should throw error for redis storage without client","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for redis storage without client"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should consume tokens successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should consume tokens successfully"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should throw error if userId or resource is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if userId or resource is missing"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should handle unlimited tier","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle unlimited tier"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should handle multiple tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle multiple tokens"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should reject when limit exceeded","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject when limit exceeded"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should track violations when limit exceeded","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track violations when limit exceeded"},{"ancestorTitles":["UserRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter consumeToken should increment violation count on repeated violations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should increment violation count on repeated violations"},{"ancestorTitles":["UserRateLimiter","trackViolation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter trackViolation should track new violation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should track new violation"},{"ancestorTitles":["UserRateLimiter","trackViolation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter trackViolation should increment existing violation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should increment existing violation"},{"ancestorTitles":["UserRateLimiter","trackViolation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter trackViolation should call onViolation callback if provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should call onViolation callback if provided"},{"ancestorTitles":["UserRateLimiter","getUserViolations"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserViolations should get all violations for a user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get all violations for a user"},{"ancestorTitles":["UserRateLimiter","getUserViolations"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserViolations should return empty object for user with no violations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty object for user with no violations"},{"ancestorTitles":["UserRateLimiter","getUserViolations"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserViolations should not include other users violations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not include other users violations"},{"ancestorTitles":["UserRateLimiter","resetLimit"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter resetLimit should reset specific resource for user","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reset specific resource for user"},{"ancestorTitles":["UserRateLimiter","resetLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter resetLimit should reset all resources for user when no resource specified","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should reset all resources for user when no resource specified"},{"ancestorTitles":["UserRateLimiter","resetLimit"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter resetLimit should throw error if userId is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if userId is missing"},{"ancestorTitles":["UserRateLimiter","getUserStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserStats should get comprehensive user statistics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get comprehensive user statistics"},{"ancestorTitles":["UserRateLimiter","getUserStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getUserStats should handle enterprise tier with unlimited resources","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle enterprise tier with unlimited resources"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":4,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"X-RateLimit-Limit\", 100\nReceived\n       1: \"X-RateLimit-Limit\", undefined\n       2: \"X-RateLimit-Remaining\", 99\n       3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.073Z\"\n\nNumber of calls: 4","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"X-RateLimit-Limit\", 100\nReceived\n       1: \"X-RateLimit-Limit\", undefined\n       2: \"X-RateLimit-Remaining\", 99\n       3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.073Z\"\n\nNumber of calls: 4\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/unit/security/user-limiter.test.js:486:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"UserRateLimiter createMiddleware should create middleware that allows requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should create middleware that allows requests"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should throw error if resource is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if resource is missing"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should handle custom getUserId function","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle custom getUserId function"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should skip if no user ID found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip if no user ID found"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should require auth if configured","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should require auth if configured"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should block requests when limit exceeded","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should block requests when limit exceeded"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should use custom upgrade URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom upgrade URL"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should not set rate limit headers for unlimited tier","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not set rate limit headers for unlimited tier"},{"ancestorTitles":["UserRateLimiter","createMiddleware"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createMiddleware should handle errors based on skipOnError option","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should handle errors based on skipOnError option"},{"ancestorTitles":["UserRateLimiter","createTieredMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createTieredMiddleware should create middleware with resource mapping","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create middleware with resource mapping"},{"ancestorTitles":["UserRateLimiter","createTieredMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createTieredMiddleware should skip if no user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip if no user"},{"ancestorTitles":["UserRateLimiter","createTieredMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter createTieredMiddleware should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["UserRateLimiter","getTierComparison"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter getTierComparison should return formatted tier comparison","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should return formatted tier comparison"},{"ancestorTitles":["UserRateLimiter","formatWindow"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter formatWindow should format time windows correctly","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should format time windows correctly"},{"ancestorTitles":["UserRateLimiter","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter cleanup should clean up old violations","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should clean up old violations"},{"ancestorTitles":["UserRateLimiter","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UserRateLimiter cleanup should clean up expired rate limit data","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clean up expired rate limit data"},{"ancestorTitles":["UserRateLimiter","cleanup"],"duration":1,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/tests/unit/security/user-limiter.test.js:754:87)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"UserRateLimiter cleanup should handle unlimited tier in cleanup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle unlimited tier in cleanup"}],"endTime":1753397522180,"message":"  ● UserRateLimiter › createMiddleware › should create middleware that allows requests\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"X-RateLimit-Limit\", 100\n    Received\n           1: \"X-RateLimit-Limit\", undefined\n           2: \"X-RateLimit-Remaining\", 99\n           3: \"X-RateLimit-Reset\", \"2025-07-24T23:52:02.073Z\"\n\n    Number of calls: 4\n\n    \u001b[0m \u001b[90m 484 |\u001b[39m       expect(req\u001b[33m.\u001b[39mrateLimitInfo)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 485 |\u001b[39m       expect(req\u001b[33m.\u001b[39mrateLimitInfo\u001b[33m.\u001b[39mresource)\u001b[33m.\u001b[39mtoBe(\u001b[32m'api-calls'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 486 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Limit'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 487 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Remaining'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m99\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 488 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'X-RateLimit-Tier'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'free'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 489 |\u001b[39m       expect(next)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/unit/security/user-limiter.test.js:486:29)\n\n  ● UserRateLimiter › cleanup › should handle unlimited tier in cleanup\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 752 |\u001b[39m       \n     \u001b[90m 753 |\u001b[39m       \u001b[90m// Should still exist as enterprise has unlimited (-1) limit\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 754 |\u001b[39m       expect(userLimiter\u001b[33m.\u001b[39mmemoryStore\u001b[33m.\u001b[39mhas(\u001b[32m'user-ratelimit:enterprise-user:api-calls'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 755 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 756 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 757 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (tests/unit/security/user-limiter.test.js:754:87)\n","name":"/home/jenner/code/mcps/tests/unit/security/user-limiter.test.js","startTime":1753397521638,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Configuration Management Integration Tests","Environment Configuration"],"duration":6,"failureDetails":[{}],"failureMessages":["Error: Schema version '1.0.0' not found\n    at ConfigurationManager.getSchema (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n    at ConfigurationManager.validateConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n    at ConfigurationManager.saveConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n    at ConfigurationManager.createEnvironment (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:160:13)"],"fullName":"Configuration Management Integration Tests Environment Configuration should create new environment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create new environment"},{"ancestorTitles":["Configuration Management Integration Tests","Environment Configuration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:167:34)"],"fullName":"Configuration Management Integration Tests Environment Configuration should load environment configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should load environment configuration"},{"ancestorTitles":["Configuration Management Integration Tests","Environment Configuration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:191:34)"],"fullName":"Configuration Management Integration Tests Environment Configuration should apply runtime overrides","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply runtime overrides"},{"ancestorTitles":["Configuration Management Integration Tests","Environment Configuration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Schema version '1.0.0' not found\n    at ConfigurationManager.getSchema (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n    at ConfigurationManager.validateConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n    at ConfigurationManager.saveConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n    at ConfigurationManager.createEnvironment (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:203:13)"],"fullName":"Configuration Management Integration Tests Environment Configuration should list all environments","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should list all environments"},{"ancestorTitles":["Configuration Management Integration Tests","Environment Configuration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at ConfigurationManager.getConfigMetadata (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:367:24)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:215:30)"],"fullName":"Configuration Management Integration Tests Environment Configuration should get configuration metadata","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should get configuration metadata"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Validation should validate configuration against schema","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate configuration against schema"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Validation"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeDefined()\n\nReceived: undefined","pass":false}}],"failureMessages":["Error: expect(received).toBeDefined()\n\nReceived: undefined\n    at Object.toBeDefined (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:258:31)"],"fullName":"Configuration Management Integration Tests Configuration Validation should detect validation errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should detect validation errors"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Validation should provide validation warnings","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should provide validation warnings"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Validation should get configuration schema","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get configuration schema"},{"ancestorTitles":["Configuration Management Integration Tests","Secret Management"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Secret Management should set encrypted secrets","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should set encrypted secrets"},{"ancestorTitles":["Configuration Management Integration Tests","Secret Management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Secret Management should get decrypted secrets","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get decrypted secrets"},{"ancestorTitles":["Configuration Management Integration Tests","Secret Management"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeInstanceOf(expected)\n\nExpected constructor: Date\n\nReceived value has no prototype\nReceived value: \"2025-07-24T22:52:02.012Z\"","pass":false}}],"failureMessages":["Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: Date\n\nReceived value has no prototype\nReceived value: \"2025-07-24T22:52:02.012Z\"\n    at Object.toBeInstanceOf (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:320:42)"],"fullName":"Configuration Management Integration Tests Secret Management should list secret metadata without values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"failed","title":"should list secret metadata without values"},{"ancestorTitles":["Configuration Management Integration Tests","Secret Management"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Secret Management should delete secrets","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should delete secrets"},{"ancestorTitles":["Configuration Management Integration Tests","Secret Management"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Secret Management should handle secret rotation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle secret rotation"},{"ancestorTitles":["Configuration Management Integration Tests","Secret Management"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:344:39)"],"fullName":"Configuration Management Integration Tests Secret Management should load config with secrets","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should load config with secrets"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Migration"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Migration should migrate configuration between versions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should migrate configuration between versions"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Migration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Migration should handle direct migrations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle direct migrations"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Migration"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Migration should handle migration errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle migration errors gracefully"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Import/Export"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at ConfigurationManager.exportConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:395:30)"],"fullName":"Configuration Management Integration Tests Configuration Import/Export should export configuration as JSON","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should export configuration as JSON"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Import/Export"],"duration":39,"failureDetails":[{"matcherResult":{"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"YAML export not yet implemented\"\nReceived message:   \"Configuration for environment 'test-integration' not found\"\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.exportConfig (mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:407:13)","pass":false},"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"YAML export not yet implemented\"\nReceived message:   \"Configuration for environment 'test-integration' not found\"\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.exportConfig (mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:407:13)"}],"failureMessages":["Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"YAML export not yet implemented\"\nReceived message:   \"Configuration for environment 'test-integration' not found\"\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.exportConfig (mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:407:13)\n    at Object.toThrow (/home/jenner/code/mcps/node_modules/expect/build/index.js:218:22)\n    at Object.toThrow (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:410:25)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Configuration Management Integration Tests Configuration Import/Export should throw error for unsupported YAML format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw error for unsupported YAML format"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Import/Export"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at ConfigurationManager.exportConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:414:30)"],"fullName":"Configuration Management Integration Tests Configuration Import/Export should export configuration as env file","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should export configuration as env file"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Import/Export"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Import/Export should import JSON configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should import JSON configuration"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Import/Export"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:449:36)"],"fullName":"Configuration Management Integration Tests Configuration Import/Export should merge imported configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should merge imported configuration"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Persistence"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:470:36)"],"fullName":"Configuration Management Integration Tests Configuration Persistence should save configuration changes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should save configuration changes"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Persistence"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Configuration Persistence should create backup before saving","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create backup before saving"},{"ancestorTitles":["Configuration Management Integration Tests","Configuration Persistence"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Configuration for environment 'test-integration' not found\n    at ConfigurationManager.loadConfig (/home/jenner/code/mcps/mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:502:31)"],"fullName":"Configuration Management Integration Tests Configuration Persistence should rollback on save failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should rollback on save failure"},{"ancestorTitles":["Configuration Management Integration Tests","Cross-Service Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Cross-Service Configuration should share configuration across services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should share configuration across services"},{"ancestorTitles":["Configuration Management Integration Tests","Cross-Service Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Cross-Service Configuration should isolate service-specific configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should isolate service-specific configuration"},{"ancestorTitles":["Configuration Management Integration Tests","Cross-Service Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Cross-Service Configuration should handle configuration dependencies","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle configuration dependencies"},{"ancestorTitles":["Configuration Management Integration Tests","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Error Handling should handle missing environment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing environment"},{"ancestorTitles":["Configuration Management Integration Tests","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Error Handling should handle corrupted configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle corrupted configuration"},{"ancestorTitles":["Configuration Management Integration Tests","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Configuration Management Integration Tests Error Handling should handle missing secrets","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing secrets"},{"ancestorTitles":["Configuration Management Integration Tests","Error Handling"],"duration":15,"failureDetails":[{"matcherResult":{"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Environment already exists\"\nReceived message:   \"Schema version '1.0.0' not found\"\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 277 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Schema version '${version}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m             }\n     \u001b[90m 280 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.getSchema (mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n      at ConfigurationManager.validateConfig (mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n      at ConfigurationManager.saveConfig (mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n      at ConfigurationManager.createEnvironment (mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:538:13)","pass":false},"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Environment already exists\"\nReceived message:   \"Schema version '1.0.0' not found\"\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 277 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Schema version '${version}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m             }\n     \u001b[90m 280 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.getSchema (mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n      at ConfigurationManager.validateConfig (mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n      at ConfigurationManager.saveConfig (mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n      at ConfigurationManager.createEnvironment (mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:538:13)"}],"failureMessages":["Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Environment already exists\"\nReceived message:   \"Schema version '1.0.0' not found\"\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 277 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Schema version '${version}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m             }\n     \u001b[90m 280 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.getSchema (mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n      at ConfigurationManager.validateConfig (mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n      at ConfigurationManager.saveConfig (mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n      at ConfigurationManager.createEnvironment (mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:538:13)\n    at Object.toThrow (/home/jenner/code/mcps/node_modules/expect/build/index.js:218:22)\n    at Object.toThrow (/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js:539:26)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Configuration Management Integration Tests Error Handling should prevent duplicate environment creation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent duplicate environment creation"}],"endTime":1753397522191,"message":"  ● Configuration Management Integration Tests › Environment Configuration › should create new environment\n\n    Schema version '1.0.0' not found\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 277 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Schema version '${version}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m             }\n     \u001b[90m 280 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.getSchema (mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n      at ConfigurationManager.validateConfig (mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n      at ConfigurationManager.saveConfig (mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n      at ConfigurationManager.createEnvironment (mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:160:13)\n\n  ● Configuration Management Integration Tests › Environment Configuration › should load environment configuration\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:167:34)\n\n  ● Configuration Management Integration Tests › Environment Configuration › should apply runtime overrides\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:191:34)\n\n  ● Configuration Management Integration Tests › Environment Configuration › should list all environments\n\n    Schema version '1.0.0' not found\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 277 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Schema version '${version}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m             }\n     \u001b[90m 280 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.getSchema (mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n      at ConfigurationManager.validateConfig (mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n      at ConfigurationManager.saveConfig (mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n      at ConfigurationManager.createEnvironment (mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:203:13)\n\n  ● Configuration Management Integration Tests › Environment Configuration › should get configuration metadata\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.getConfigMetadata (mcp-local-setup/config/advanced/configuration-manager.js:367:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:215:30)\n\n  ● Configuration Management Integration Tests › Configuration Validation › should detect validation errors\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m             \n     \u001b[90m 257 |\u001b[39m             \u001b[36mconst\u001b[39m nameError \u001b[33m=\u001b[39m result\u001b[33m.\u001b[39merrors\u001b[33m.\u001b[39mfind(e \u001b[33m=>\u001b[39m e\u001b[33m.\u001b[39mpath\u001b[33m.\u001b[39mincludes(\u001b[32m'name'\u001b[39m))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m             expect(nameError)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 260 |\u001b[39m\n     \u001b[90m 261 |\u001b[39m         it(\u001b[32m'should provide validation warnings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeDefined (mcp-local-setup/tests/integration/configuration.integration.test.js:258:31)\n\n  ● Configuration Management Integration Tests › Secret Management › should list secret metadata without values\n\n    expect(received).toBeInstanceOf(expected)\n\n    Expected constructor: Date\n\n    Received value has no prototype\n    Received value: \"2025-07-24T22:52:02.012Z\"\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m             expect(testSecret)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m             expect(testSecret\u001b[33m.\u001b[39mdescription)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m             expect(testSecret\u001b[33m.\u001b[39mcreatedAt)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mDate\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m             expect(testSecret\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m \u001b[90m// Should not expose value\u001b[39m\n     \u001b[90m 322 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 323 |\u001b[39m\u001b[0m\n\n      at Object.toBeInstanceOf (mcp-local-setup/tests/integration/configuration.integration.test.js:320:42)\n\n  ● Configuration Management Integration Tests › Secret Management › should load config with secrets\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:344:39)\n\n  ● Configuration Management Integration Tests › Configuration Import/Export › should export configuration as JSON\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.exportConfig (mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:395:30)\n\n  ● Configuration Management Integration Tests › Configuration Import/Export › should throw error for unsupported YAML format\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"YAML export not yet implemented\"\n    Received message:   \"Configuration for environment 'test-integration' not found\"\n\n        \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n         \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 70 |\u001b[39m             }\n         \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n         \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.exportConfig (mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:407:13)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.toThrow (mcp-local-setup/tests/integration/configuration.integration.test.js:410:25)\n\n  ● Configuration Management Integration Tests › Configuration Import/Export › should export configuration as env file\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at ConfigurationManager.exportConfig (mcp-local-setup/config/advanced/configuration-manager.js:440:24)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:414:30)\n\n  ● Configuration Management Integration Tests › Configuration Import/Export › should merge imported configuration\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:449:36)\n\n  ● Configuration Management Integration Tests › Configuration Persistence › should save configuration changes\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:470:36)\n\n  ● Configuration Management Integration Tests › Configuration Persistence › should rollback on save failure\n\n    Configuration for environment 'test-integration' not found\n\n    \u001b[0m \u001b[90m 67 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 68 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 69 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Configuration for environment '${environment}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 70 |\u001b[39m             }\n     \u001b[90m 71 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.loadConfig (mcp-local-setup/config/advanced/configuration-manager.js:69:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:502:31)\n\n  ● Configuration Management Integration Tests › Error Handling › should prevent duplicate environment creation\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Environment already exists\"\n    Received message:   \"Schema version '1.0.0' not found\"\n\n        \u001b[0m \u001b[90m 276 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n         \u001b[90m 277 |\u001b[39m             \u001b[36mif\u001b[39m (error\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[32m'ENOENT'\u001b[39m) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Schema version '${version}' not found`\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 279 |\u001b[39m             }\n         \u001b[90m 280 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\n         \u001b[90m 281 |\u001b[39m         }\u001b[0m\n\n      at ConfigurationManager.getSchema (mcp-local-setup/config/advanced/configuration-manager.js:278:23)\n      at ConfigurationManager.validateConfig (mcp-local-setup/config/advanced/configuration-manager.js:82:24)\n      at ConfigurationManager.saveConfig (mcp-local-setup/config/advanced/configuration-manager.js:139:32)\n      at ConfigurationManager.createEnvironment (mcp-local-setup/config/advanced/configuration-manager.js:330:9)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/configuration.integration.test.js:538:13)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.toThrow (mcp-local-setup/tests/integration/configuration.integration.test.js:539:26)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/configuration.integration.test.js","startTime":1753397521622,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["RedisRateLimiter","constructor"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter constructor should throw error if redis client is not provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if redis client is not provided"},{"ancestorTitles":["RedisRateLimiter","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["RedisRateLimiter","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["RedisRateLimiter","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter constructor should initialize with default rules","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should initialize with default rules"},{"ancestorTitles":["RedisRateLimiter","buildKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter buildKey should build correct Redis key","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should build correct Redis key"},{"ancestorTitles":["RedisRateLimiter","buildKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter buildKey should use custom key prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom key prefix"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should check rate limit successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check rate limit successfully"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should throw error if identifier or rule is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw error if identifier or rule is missing"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should throw error for unknown rule","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown rule"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should handle blocked identifiers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle blocked identifiers"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should not allow when limit is reached","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not allow when limit is reached"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":2,"failureDetails":[{"matcherResult":{"actual":null,"expected":1753399322093,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 1753399322093\nReceived: NaN","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1753399322093\nReceived: NaN\n    at Object.toBe (/home/jenner/code/mcps/tests/unit/security/redis-limiter.test.js:164:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"RedisRateLimiter checkLimit should calculate correct reset time from oldest entry","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should calculate correct reset time from oldest entry"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should fail open on Redis errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail open on Redis errors"},{"ancestorTitles":["RedisRateLimiter","checkLimit"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter checkLimit should handle pipeline errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle pipeline errors"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should consume tokens successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should consume tokens successfully"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should handle multiple tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle multiple tokens"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should throw error if identifier or rule is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if identifier or rule is missing"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should throw error for unknown rule","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown rule"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should handle blocked identifiers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle blocked identifiers"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should block identifier when limit exceeded with blockDuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should block identifier when limit exceeded with blockDuration"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should not block when blockDuration is not set","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not block when blockDuration is not set"},{"ancestorTitles":["RedisRateLimiter","consumeToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter consumeToken should fail open on Redis errors","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail open on Redis errors"},{"ancestorTitles":["RedisRateLimiter","resetLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter resetLimit should reset limit successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reset limit successfully"},{"ancestorTitles":["RedisRateLimiter","resetLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter resetLimit should throw error if identifier or rule is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if identifier or rule is missing"},{"ancestorTitles":["RedisRateLimiter","resetLimit"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter resetLimit should handle Redis errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Redis errors"},{"ancestorTitles":["RedisRateLimiter","getUsage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getUsage should get usage statistics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get usage statistics"},{"ancestorTitles":["RedisRateLimiter","getUsage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getUsage should handle blocked identifiers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle blocked identifiers"},{"ancestorTitles":["RedisRateLimiter","getUsage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getUsage should throw error for unknown rule","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown rule"},{"ancestorTitles":["RedisRateLimiter","getUsage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getUsage should handle Redis errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle Redis errors gracefully"},{"ancestorTitles":["RedisRateLimiter","setRule"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter setRule should set a new rule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set a new rule"},{"ancestorTitles":["RedisRateLimiter","setRule"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter setRule should update existing rule","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update existing rule"},{"ancestorTitles":["RedisRateLimiter","setRule"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter setRule should throw error if rule name or config is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if rule name or config is missing"},{"ancestorTitles":["RedisRateLimiter","setRule"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter setRule should throw error if config is invalid","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw error if config is invalid"},{"ancestorTitles":["RedisRateLimiter","getRules"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getRules should return all rules","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return all rules"},{"ancestorTitles":["RedisRateLimiter","getRules"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getRules should return copies of rules","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return copies of rules"},{"ancestorTitles":["RedisRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter createMiddleware should create middleware that allows requests within limit","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create middleware that allows requests within limit"},{"ancestorTitles":["RedisRateLimiter","createMiddleware"],"duration":4,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"blocked\": false,\n+   \"blocked\": undefined,\n    \"error\": \"Too many requests\",\n-   \"retryAfter\": Any<Date>,\n+   \"retryAfter\": 2025-07-24T23:52:02.158Z,\n  },\n\nNumber of calls: 1","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n- Expected\n+ Received\n\n  Object {\n-   \"blocked\": false,\n+   \"blocked\": undefined,\n    \"error\": \"Too many requests\",\n-   \"retryAfter\": Any<Date>,\n+   \"retryAfter\": 2025-07-24T23:52:02.158Z,\n  },\n\nNumber of calls: 1\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/unit/security/redis-limiter.test.js:437:24)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"RedisRateLimiter createMiddleware should block requests exceeding limit","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should block requests exceeding limit"},{"ancestorTitles":["RedisRateLimiter","createMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter createMiddleware should show blocked message for blocked identifiers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should show blocked message for blocked identifiers"},{"ancestorTitles":["RedisRateLimiter","createMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter createMiddleware should skip if identifier function returns null","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip if identifier function returns null"},{"ancestorTitles":["RedisRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter createMiddleware should fail open on errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail open on errors"},{"ancestorTitles":["RedisRateLimiter","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter createMiddleware should throw error if rule name or identifier function is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error if rule name or identifier function is missing"},{"ancestorTitles":["RedisRateLimiter","getStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getStats should get statistics for a rule","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get statistics for a rule"},{"ancestorTitles":["RedisRateLimiter","getStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getStats should handle empty results","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty results"},{"ancestorTitles":["RedisRateLimiter","getStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getStats should limit top users","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should limit top users"},{"ancestorTitles":["RedisRateLimiter","getStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getStats should throw error for unknown rule","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown rule"},{"ancestorTitles":["RedisRateLimiter","getStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter getStats should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["RedisRateLimiter","scanKeys"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter scanKeys should scan all keys matching pattern","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should scan all keys matching pattern"},{"ancestorTitles":["RedisRateLimiter","scanKeys"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter scanKeys should handle empty scan results","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty scan results"},{"ancestorTitles":["RedisRateLimiter","scanKeys"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter scanKeys should use custom count parameter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom count parameter"},{"ancestorTitles":["RedisRateLimiter","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter cleanup should clean up keys without TTL","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should clean up keys without TTL"},{"ancestorTitles":["RedisRateLimiter","cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter cleanup should skip blocked keys","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip blocked keys"},{"ancestorTitles":["RedisRateLimiter","cleanup"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RedisRateLimiter cleanup should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle errors gracefully"}],"endTime":1753397522200,"message":"  ● RedisRateLimiter › checkLimit › should calculate correct reset time from oldest entry\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 1753399322093\n    Received: NaN\n\n    \u001b[0m \u001b[90m 162 |\u001b[39m       \n     \u001b[90m 163 |\u001b[39m       \u001b[36mconst\u001b[39m expectedReset \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m(oldestTime \u001b[33m+\u001b[39m \u001b[35m3600000\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 164 |\u001b[39m       expect(result\u001b[33m.\u001b[39mresetAt\u001b[33m.\u001b[39mgetTime())\u001b[33m.\u001b[39mtoBe(expectedReset\u001b[33m.\u001b[39mgetTime())\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m\n     \u001b[90m 167 |\u001b[39m     it(\u001b[32m'should fail open on Redis errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (tests/unit/security/redis-limiter.test.js:164:40)\n\n  ● RedisRateLimiter › createMiddleware › should block requests exceeding limit\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      Object {\n    -   \"blocked\": false,\n    +   \"blocked\": undefined,\n        \"error\": \"Too many requests\",\n    -   \"retryAfter\": Any<Date>,\n    +   \"retryAfter\": 2025-07-24T23:52:02.158Z,\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 435 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Retry-After'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mNumber\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 436 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m429\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 437 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 438 |\u001b[39m         error\u001b[33m:\u001b[39m \u001b[32m'Too many requests'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 439 |\u001b[39m         retryAfter\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mDate\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 440 |\u001b[39m         blocked\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/unit/security/redis-limiter.test.js:437:24)\n","name":"/home/jenner/code/mcps/tests/unit/security/redis-limiter.test.js","startTime":1753397521641,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Services deployed to K8s are automatically registered in mesh","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Services deployed to K8s are automatically registered in mesh"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Traffic management policies apply to orchestrated services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Traffic management policies apply to orchestrated services"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Service mesh mTLS works with orchestrator networking","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Service mesh mTLS works with orchestrator networking"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration SDK can query services through mesh-enabled endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"SDK can query services through mesh-enabled endpoints"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Circuit breaker policies protect orchestrated services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Circuit breaker policies protect orchestrated services"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Service mesh observability integrates with orchestrator metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Service mesh observability integrates with orchestrator metrics"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Canary deployments use both orchestration and mesh","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Canary deployments use both orchestration and mesh"},{"ancestorTitles":["Service Mesh and Orchestration Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - Service Mesh team will implement\n    at new ServiceMeshInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Service Mesh and Orchestration Integration Fault injection tests orchestrated service resilience","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Fault injection tests orchestrated service resilience"}],"endTime":1753397522212,"message":"  ● Service Mesh and Orchestration Integration › Services deployed to K8s are automatically registered in mesh\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › Traffic management policies apply to orchestrated services\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › Service mesh mTLS works with orchestrator networking\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › SDK can query services through mesh-enabled endpoints\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › Circuit breaker policies protect orchestrated services\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › Service mesh observability integrates with orchestrator metrics\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › Canary deployments use both orchestration and mesh\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n\n  ● Service Mesh and Orchestration Integration › Fault injection tests orchestrated service resilience\n\n    Not implemented - Service Mesh team will implement\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m   constructor(meshType) {\n     \u001b[90m  7 |\u001b[39m     \u001b[90m// meshType: 'istio' | 'linkerd' | 'consul'\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - Service Mesh team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m   }\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m   \u001b[90m// Service registration\u001b[39m\u001b[0m\n\n      at new ServiceMeshInterface (mcp-local-setup/interfaces/phase5/service-mesh.interface.js:8:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js:15:13)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/mesh-orchestration-integration.test.js","startTime":1753397522152,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Security and Health Monitoring Integration"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Security and Health Monitoring Integration Health endpoints require authentication when configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Health endpoints require authentication when configured"},{"ancestorTitles":["Security and Health Monitoring Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security and Health Monitoring Integration Health endpoints respect rate limiting","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"Health endpoints respect rate limiting"},{"ancestorTitles":["Security and Health Monitoring Integration"],"duration":6,"failureDetails":[{"matcherResult":{"message":"expect(received).toHaveProperty(path, value)\n\nExpected path: \"authentication\"\nReceived path: []\n\nExpected value: \"enabled\"\nReceived value: {\"lastCheck\": null, \"message\": \"Not checked yet\", \"status\": \"pending\"}","pass":false}}],"failureMessages":["Error: expect(received).toHaveProperty(path, value)\n\nExpected path: \"authentication\"\nReceived path: []\n\nExpected value: \"enabled\"\nReceived value: {\"lastCheck\": null, \"message\": \"Not checked yet\", \"status\": \"pending\"}\n    at Object.toHaveProperty (/home/jenner/code/mcps/tests/integration/phase6/security-health-integration.test.js:72:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Security and Health Monitoring Integration API authentication integrates with health status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"API authentication integrates with health status"},{"ancestorTitles":["Security and Health Monitoring Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security and Health Monitoring Integration Service dependencies include security components","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Service dependencies include security components"}],"endTime":1753397522205,"message":"  ● Security and Health Monitoring Integration › API authentication integrates with health status\n\n    expect(received).toHaveProperty(path, value)\n\n    Expected path: \"authentication\"\n    Received path: []\n\n    Expected value: \"enabled\"\n    Received value: {\"lastCheck\": null, \"message\": \"Not checked yet\", \"status\": \"pending\"}\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     \u001b[90m// Then health should include auth status\u001b[39m\n     \u001b[90m 71 |\u001b[39m     expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m     expect(health\u001b[33m.\u001b[39mdetails)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'authentication'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'enabled'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   test(\u001b[32m'Service dependencies include security components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveProperty (tests/integration/phase6/security-health-integration.test.js:72:28)\n","name":"/home/jenner/code/mcps/tests/integration/phase6/security-health-integration.test.js","startTime":1753397521644,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Logging Pipeline Integration","End-to-End Logging"],"duration":32,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration End-to-End Logging should log messages through the complete pipeline","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log messages through the complete pipeline"},{"ancestorTitles":["Logging Pipeline Integration","End-to-End Logging"],"duration":6,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration End-to-End Logging should apply formatters correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should apply formatters correctly"},{"ancestorTitles":["Logging Pipeline Integration","End-to-End Logging"],"duration":5,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration End-to-End Logging should handle high-volume logging","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle high-volume logging"},{"ancestorTitles":["Logging Pipeline Integration","Log Rotation Integration"],"duration":5,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Log Rotation Integration should rotate logs based on size","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should rotate logs based on size"},{"ancestorTitles":["Logging Pipeline Integration","Log Rotation Integration"],"duration":4,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Log Rotation Integration should compress rotated files","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should compress rotated files"},{"ancestorTitles":["Logging Pipeline Integration","Log Rotation Integration"],"duration":8,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Log Rotation Integration should clean up old logs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should clean up old logs"},{"ancestorTitles":["Logging Pipeline Integration","Error Handling"],"duration":4,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Error Handling should handle logging errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle logging errors gracefully"},{"ancestorTitles":["Logging Pipeline Integration","Error Handling"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Error Handling should continue logging after transport failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should continue logging after transport failure"},{"ancestorTitles":["Logging Pipeline Integration","Context and Correlation"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Context and Correlation should maintain correlation IDs across log entries","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should maintain correlation IDs across log entries"},{"ancestorTitles":["Logging Pipeline Integration","Context and Correlation"],"duration":12,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Context and Correlation should preserve context through async operations","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should preserve context through async operations"},{"ancestorTitles":["Logging Pipeline Integration","Performance Monitoring"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Performance Monitoring should log performance metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should log performance metrics"},{"ancestorTitles":["Logging Pipeline Integration","Multi-transport Scenarios"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: logRotation.initialize is not a function\n    at Object.initialize (/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js:34:23)"],"fullName":"Logging Pipeline Integration Multi-transport Scenarios should route logs to appropriate transports based on level","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should route logs to appropriate transports based on level"}],"endTime":1753397522231,"message":"  ● Logging Pipeline Integration › End-to-End Logging › should log messages through the complete pipeline\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › End-to-End Logging › should apply formatters correctly\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › End-to-End Logging › should handle high-volume logging\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Log Rotation Integration › should rotate logs based on size\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Log Rotation Integration › should compress rotated files\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Log Rotation Integration › should clean up old logs\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Error Handling › should handle logging errors gracefully\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Error Handling › should continue logging after transport failure\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Context and Correlation › should maintain correlation IDs across log entries\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Context and Correlation › should preserve context through async operations\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Performance Monitoring › should log performance metrics\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n\n  ● Logging Pipeline Integration › Multi-transport Scenarios › should route logs to appropriate transports based on level\n\n    TypeError: logRotation.initialize is not a function\n\n    \u001b[0m \u001b[90m 32 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mawait\u001b[39m logRotation\u001b[33m.\u001b[39minitialize()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 35 |\u001b[39m\n     \u001b[90m 36 |\u001b[39m     logger \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mLogger\u001b[39m({\n     \u001b[90m 37 |\u001b[39m       winstonConfig\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.initialize (tests/integration/monitoring/logging-pipeline.test.js:34:23)\n","name":"/home/jenner/code/mcps/tests/integration/monitoring/logging-pipeline.test.js","startTime":1753397521622,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["HelmetMiddleware","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware createMiddleware should create helmet middleware with default config","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create helmet middleware with default config"},{"ancestorTitles":["HelmetMiddleware","createMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware createMiddleware should allow disabling specific middleware","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should allow disabling specific middleware"},{"ancestorTitles":["HelmetMiddleware","createMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware createMiddleware should use custom CSP directives","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom CSP directives"},{"ancestorTitles":["HelmetMiddleware","CSP Report Handler"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware CSP Report Handler should handle CSP violation reports","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle CSP violation reports"},{"ancestorTitles":["HelmetMiddleware","CSP Report Handler"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware CSP Report Handler should reject invalid CSP reports","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid CSP reports"},{"ancestorTitles":["HelmetMiddleware","CSP Report Handler"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware CSP Report Handler should limit stored reports","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should limit stored reports"},{"ancestorTitles":["HelmetMiddleware","CSP Report Handler"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: 500\nReceived: 400\n\nNumber of calls: 1","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: 500\nReceived: 400\n\nNumber of calls: 1\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/unit/security/helmet-middleware.test.js:155:26)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"HelmetMiddleware CSP Report Handler should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle errors gracefully"},{"ancestorTitles":["HelmetMiddleware","getCspReports"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspReports should return all reports without filters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return all reports without filters"},{"ancestorTitles":["HelmetMiddleware","getCspReports"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspReports should filter by date range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by date range"},{"ancestorTitles":["HelmetMiddleware","getCspReports"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspReports should filter by directive","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by directive"},{"ancestorTitles":["HelmetMiddleware","getCspReports"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspReports should filter by blocked URI","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by blocked URI"},{"ancestorTitles":["HelmetMiddleware","getCspReports"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspReports should limit results","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should limit results"},{"ancestorTitles":["HelmetMiddleware","getCspStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspStats should calculate statistics correctly","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should calculate statistics correctly"},{"ancestorTitles":["HelmetMiddleware","getCspStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspStats should group by hour","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should group by hour"},{"ancestorTitles":["HelmetMiddleware","getCspStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware getCspStats should include recent violations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should include recent violations"},{"ancestorTitles":["HelmetMiddleware","createRouteSpecificMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware createRouteSpecificMiddleware should apply different configs for different routes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should apply different configs for different routes"},{"ancestorTitles":["HelmetMiddleware","createNonceMiddleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware createNonceMiddleware should generate nonce for inline scripts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate nonce for inline scripts"},{"ancestorTitles":["HelmetMiddleware","createNonceMiddleware"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: expect(received).toHaveBeenCalledWith(...expected)\n\nMatcher error: received value must be a mock or spy function\n\nReceived has type:  function\nReceived has value: [Function anonymous]\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/unit/security/helmet-middleware.test.js:332:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"HelmetMiddleware createNonceMiddleware should modify CSP header to include nonce","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should modify CSP header to include nonce"},{"ancestorTitles":["HelmetMiddleware","testHeaders"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware testHeaders should identify missing security headers","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should identify missing security headers"},{"ancestorTitles":["HelmetMiddleware","testHeaders"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware testHeaders should pass with all security headers present","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should pass with all security headers present"},{"ancestorTitles":["HelmetMiddleware","testHeaders"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware testHeaders should provide recommendations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should provide recommendations"},{"ancestorTitles":["HelmetMiddleware","configuration options"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware configuration options should handle custom HSTS config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle custom HSTS config"},{"ancestorTitles":["HelmetMiddleware","configuration options"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware configuration options should handle custom referrer policy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle custom referrer policy"},{"ancestorTitles":["HelmetMiddleware","configuration options"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HelmetMiddleware configuration options should handle CSP report-only mode","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle CSP report-only mode"}],"endTime":1753397522267,"message":"  ● HelmetMiddleware › CSP Report Handler › should handle errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: 500\n    Received: 400\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 153 |\u001b[39m       handler(req\u001b[33m,\u001b[39m res)\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 155 |\u001b[39m       expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 156 |\u001b[39m       expect(res\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({ error\u001b[33m:\u001b[39m \u001b[32m'Failed to process CSP report'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/unit/security/helmet-middleware.test.js:155:26)\n\n  ● HelmetMiddleware › createNonceMiddleware › should modify CSP header to include nonce\n\n    expect(received).toHaveBeenCalledWith(...expected)\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function anonymous]\n\n    \u001b[0m \u001b[90m 330 |\u001b[39m       res\u001b[33m.\u001b[39msetHeader(\u001b[32m'Content-Security-Policy'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m\"script-src 'self'\"\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 331 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 332 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 333 |\u001b[39m         \u001b[32m'Content-Security-Policy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 334 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`'nonce-${res.locals.nonce}'`\u001b[39m)\n     \u001b[90m 335 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/unit/security/helmet-middleware.test.js:332:29)\n","name":"/home/jenner/code/mcps/tests/unit/security/helmet-middleware.test.js","startTime":1753397522175,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["CORSMiddleware","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware constructor should use default options when none provided","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should use default options when none provided"},{"ancestorTitles":["CORSMiddleware","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["CORSMiddleware","isOriginAllowed"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware isOriginAllowed should allow any origin with wildcard","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should allow any origin with wildcard"},{"ancestorTitles":["CORSMiddleware","isOriginAllowed"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware isOriginAllowed should allow exact match origins","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should allow exact match origins"},{"ancestorTitles":["CORSMiddleware","isOriginAllowed"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware isOriginAllowed should support regex patterns","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should support regex patterns"},{"ancestorTitles":["CORSMiddleware","isOriginAllowed"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware isOriginAllowed should support wildcard subdomains","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should support wildcard subdomains"},{"ancestorTitles":["CORSMiddleware","isOriginAllowed"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware isOriginAllowed should return false for null or undefined origin","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return false for null or undefined origin"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should handle regular requests with allowed origin","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle regular requests with allowed origin"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should use referer if origin is not present","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use referer if origin is not present"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should handle wildcard origin without credentials","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle wildcard origin without credentials"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should not set wildcard origin when credentials are enabled","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should not set wildcard origin when credentials are enabled"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should expose custom headers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should expose custom headers"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should call handlePreflight for OPTIONS requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should call handlePreflight for OPTIONS requests"},{"ancestorTitles":["CORSMiddleware","handle"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handle should not set headers for disallowed origins","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not set headers for disallowed origins"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should handle preflight requests with all headers","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should handle preflight requests with all headers"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should validate requested method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate requested method"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should validate requested headers case-insensitively","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate requested headers case-insensitively"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should handle preflight without request headers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle preflight without request headers"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should continue to next middleware if preflightContinue is true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should continue to next middleware if preflightContinue is true"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should use custom success status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use custom success status"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"Access-Control-Allow-Origin\", \"*\"\nReceived\n       1: \"Access-Control-Allow-Origin\", \"https://example.com\"\n       2: \"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-API-Key\"\n       3: \"Access-Control-Max-Age\", \"86400\"\n\nNumber of calls: 3","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"Access-Control-Allow-Origin\", \"*\"\nReceived\n       1: \"Access-Control-Allow-Origin\", \"https://example.com\"\n       2: \"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-API-Key\"\n       3: \"Access-Control-Max-Age\", \"86400\"\n\nNumber of calls: 3\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/unit/security/cors.test.js:278:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"CORSMiddleware handlePreflight should handle wildcard origin without credentials in preflight","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle wildcard origin without credentials in preflight"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should not set origin header for disallowed origins in preflight","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not set origin header for disallowed origins in preflight"},{"ancestorTitles":["CORSMiddleware","handlePreflight"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware handlePreflight should handle preflight with custom max age","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle preflight with custom max age"},{"ancestorTitles":["CORSMiddleware","Edge cases"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware Edge cases should handle requests without any origin headers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle requests without any origin headers"},{"ancestorTitles":["CORSMiddleware","Edge cases"],"duration":0,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-API-Key\"\nReceived\n       1: \"Access-Control-Allow-Origin\", \"https://example.com\"\n       2: \"Access-Control-Allow-Credentials\", \"true\"\n       3: \"Access-Control-Max-Age\", \"86400\"\n\nNumber of calls: 3","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-API-Key\"\nReceived\n       1: \"Access-Control-Allow-Origin\", \"https://example.com\"\n       2: \"Access-Control-Allow-Credentials\", \"true\"\n       3: \"Access-Control-Max-Age\", \"86400\"\n\nNumber of calls: 3\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/tests/unit/security/cors.test.js:327:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"CORSMiddleware Edge cases should handle malformed request headers gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle malformed request headers gracefully"},{"ancestorTitles":["CORSMiddleware","Edge cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CORSMiddleware Edge cases should handle mixed origin configurations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle mixed origin configurations"}],"endTime":1753397522272,"message":"  ● CORSMiddleware › handlePreflight › should handle wildcard origin without credentials in preflight\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Access-Control-Allow-Origin\", \"*\"\n    Received\n           1: \"Access-Control-Allow-Origin\", \"https://example.com\"\n           2: \"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-API-Key\"\n           3: \"Access-Control-Max-Age\", \"86400\"\n\n    Number of calls: 3\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m       corsMiddleware\u001b[33m.\u001b[39mhandlePreflight(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next)\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Access-Control-Allow-Origin'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'*'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Access-Control-Allow-Credentials'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'true'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/unit/security/cors.test.js:278:29)\n\n  ● CORSMiddleware › Edge cases › should handle malformed request headers gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Access-Control-Allow-Headers\", \"Content-Type, Authorization, X-API-Key\"\n    Received\n           1: \"Access-Control-Allow-Origin\", \"https://example.com\"\n           2: \"Access-Control-Allow-Credentials\", \"true\"\n           3: \"Access-Control-Max-Age\", \"86400\"\n\n    Number of calls: 3\n\n    \u001b[0m \u001b[90m 325 |\u001b[39m       corsMiddleware\u001b[33m.\u001b[39mhandlePreflight(req\u001b[33m,\u001b[39m res\u001b[33m,\u001b[39m next)\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 327 |\u001b[39m       expect(res\u001b[33m.\u001b[39msetHeader)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Access-Control-Allow-Headers'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Content-Type, Authorization, X-API-Key'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 328 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m     it(\u001b[32m'should handle mixed origin configurations'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (tests/unit/security/cors.test.js:327:29)\n","name":"/home/jenner/code/mcps/tests/unit/security/cors.test.js","startTime":1753397522197,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ComplianceTools","setupAuditLogging"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools setupAuditLogging should setup audit logging with default configuration","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should setup audit logging with default configuration"},{"ancestorTitles":["ComplianceTools","setupAuditLogging"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools setupAuditLogging should create required directories","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create required directories"},{"ancestorTitles":["ComplianceTools","setupAuditLogging"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools setupAuditLogging should accept custom configuration","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should accept custom configuration"},{"ancestorTitles":["ComplianceTools","setupAuditLogging"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools setupAuditLogging should initialize metrics when configured","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize metrics when configured"},{"ancestorTitles":["ComplianceTools","setupAuditLogging"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools setupAuditLogging should throw error for invalid config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid config"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should generate SOC2 compliance report","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should generate SOC2 compliance report"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should generate HIPAA compliance report","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate HIPAA compliance report"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should generate GDPR compliance report","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate GDPR compliance report"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should accept case-insensitive report types","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should accept case-insensitive report types"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should save report to file","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should save report to file"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should calculate compliance score correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should calculate compliance score correctly"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should throw error for unsupported report type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unsupported report type"},{"ancestorTitles":["ComplianceTools","generateComplianceReport"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools generateComplianceReport should throw error for invalid report type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid report type"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should perform comprehensive security scan","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should perform comprehensive security scan"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should perform infrastructure scan","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should perform infrastructure scan"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should perform application scan","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should perform application scan"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should calculate risk score","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should calculate risk score"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should save scan results to file","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should save scan results to file"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should generate remediation recommendations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should generate remediation recommendations"},{"ancestorTitles":["ComplianceTools","performSecurityScan"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools performSecurityScan should throw error for invalid target","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid target"},{"ancestorTitles":["ComplianceTools","trackComplianceMetrics"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools trackComplianceMetrics should track comprehensive metrics","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should track comprehensive metrics"},{"ancestorTitles":["ComplianceTools","trackComplianceMetrics"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools trackComplianceMetrics should calculate trends","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should calculate trends"},{"ancestorTitles":["ComplianceTools","trackComplianceMetrics"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools trackComplianceMetrics should detect anomalies","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect anomalies"},{"ancestorTitles":["ComplianceTools","trackComplianceMetrics"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools trackComplianceMetrics should save metrics to file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should save metrics to file"},{"ancestorTitles":["ComplianceTools","trackComplianceMetrics"],"duration":48,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools trackComplianceMetrics should emit alerts for anomalies","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should emit alerts for anomalies"},{"ancestorTitles":["ComplianceTools","Event handling"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Event handling should emit audit events","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should emit audit events"},{"ancestorTitles":["ComplianceTools","Event handling"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Event handling should log audit events to memory","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should log audit events to memory"},{"ancestorTitles":["ComplianceTools","Event handling"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Event handling should write audit events to file when configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should write audit events to file when configured"},{"ancestorTitles":["ComplianceTools","Compliance frameworks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Compliance frameworks should initialize compliance frameworks","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize compliance frameworks"},{"ancestorTitles":["ComplianceTools","Compliance frameworks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Compliance frameworks should have SOC2 controls defined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have SOC2 controls defined"},{"ancestorTitles":["ComplianceTools","Compliance frameworks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Compliance frameworks should have HIPAA safeguards defined","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have HIPAA safeguards defined"},{"ancestorTitles":["ComplianceTools","Compliance frameworks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Compliance frameworks should have GDPR principles defined","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have GDPR principles defined"},{"ancestorTitles":["ComplianceTools","Helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Helper methods should calculate compliance score correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should calculate compliance score correctly"},{"ancestorTitles":["ComplianceTools","Helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Helper methods should calculate risk score based on vulnerabilities","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should calculate risk score based on vulnerabilities"},{"ancestorTitles":["ComplianceTools","Helper methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Helper methods should assign correct priority based on severity","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should assign correct priority based on severity"},{"ancestorTitles":["ComplianceTools","Helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceTools Helper methods should estimate effort based on severity","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should estimate effort based on severity"}],"endTime":1753397522280,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/enterprise/tests/compliance.test.js","startTime":1753397521652,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","JWT Authentication Bypass Attempts"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass JWT Authentication Bypass Attempts should prevent JWT signature stripping","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent JWT signature stripping"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","JWT Authentication Bypass Attempts"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass JWT Authentication Bypass Attempts should prevent JWT algorithm confusion attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent JWT algorithm confusion attacks"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","JWT Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass JWT Authentication Bypass Attempts should prevent weak secret key attacks","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent weak secret key attacks"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","JWT Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass JWT Authentication Bypass Attempts should prevent token replay attacks with expired tokens","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent token replay attacks with expired tokens"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","JWT Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass JWT Authentication Bypass Attempts should prevent privilege escalation via token manipulation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent privilege escalation via token manipulation"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","API Key Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass API Key Authentication Bypass Attempts should prevent brute force API key guessing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent brute force API key guessing"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","API Key Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass API Key Authentication Bypass Attempts should prevent API key format manipulation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent API key format manipulation"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","API Key Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass API Key Authentication Bypass Attempts should prevent permission escalation via API keys","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent permission escalation via API keys"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","API Key Authentication Bypass Attempts"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass API Key Authentication Bypass Attempts should prevent API key reuse after revocation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent API key reuse after revocation"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Token Refresh Authentication Bypass"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Token Refresh Authentication Bypass should prevent refresh token reuse after rotation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent refresh token reuse after rotation"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Token Refresh Authentication Bypass"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Token Refresh Authentication Bypass should prevent cross-user token refresh","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent cross-user token refresh"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Token Refresh Authentication Bypass"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Token Refresh Authentication Bypass should prevent infinite token refresh chains","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent infinite token refresh chains"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","OAuth Authentication Bypass"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass OAuth Authentication Bypass should prevent OAuth state parameter bypass","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent OAuth state parameter bypass"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","OAuth Authentication Bypass"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass OAuth Authentication Bypass should prevent OAuth token injection","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent OAuth token injection"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","OAuth Authentication Bypass"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass OAuth Authentication Bypass should prevent OAuth redirect URI manipulation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent OAuth redirect URI manipulation"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Session Fixation Prevention"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Session Fixation Prevention should regenerate session ID on authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should regenerate session ID on authentication"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Authentication Race Conditions"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Authentication Race Conditions should handle concurrent authentication attempts safely","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle concurrent authentication attempts safely"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Authentication Race Conditions"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Authentication Race Conditions should prevent race condition in API key validation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent race condition in API key validation"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Authentication Downgrade Attacks"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Authentication Downgrade Attacks should prevent downgrade from strong to weak authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent downgrade from strong to weak authentication"},{"ancestorTitles":["Security Vulnerability Tests - Authentication Bypass","Authentication Context Validation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/security/auth-bypass.test.js:24:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Vulnerability Tests - Authentication Bypass Authentication Context Validation should validate authentication context consistency","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate authentication context consistency"}],"endTime":1753397522284,"message":"  ● Security Vulnerability Tests - Authentication Bypass › JWT Authentication Bypass Attempts › should prevent JWT signature stripping\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › JWT Authentication Bypass Attempts › should prevent JWT algorithm confusion attacks\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › JWT Authentication Bypass Attempts › should prevent weak secret key attacks\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › JWT Authentication Bypass Attempts › should prevent token replay attacks with expired tokens\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › JWT Authentication Bypass Attempts › should prevent privilege escalation via token manipulation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › API Key Authentication Bypass Attempts › should prevent brute force API key guessing\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › API Key Authentication Bypass Attempts › should prevent API key format manipulation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › API Key Authentication Bypass Attempts › should prevent permission escalation via API keys\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › API Key Authentication Bypass Attempts › should prevent API key reuse after revocation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Token Refresh Authentication Bypass › should prevent refresh token reuse after rotation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Token Refresh Authentication Bypass › should prevent cross-user token refresh\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Token Refresh Authentication Bypass › should prevent infinite token refresh chains\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › OAuth Authentication Bypass › should prevent OAuth state parameter bypass\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › OAuth Authentication Bypass › should prevent OAuth token injection\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › OAuth Authentication Bypass › should prevent OAuth redirect URI manipulation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Session Fixation Prevention › should regenerate session ID on authentication\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Authentication Race Conditions › should handle concurrent authentication attempts safely\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Authentication Race Conditions › should prevent race condition in API key validation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Authentication Downgrade Attacks › should prevent downgrade from strong to weak authentication\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n\n  ● Security Vulnerability Tests - Authentication Bypass › Authentication Context Validation › should validate authentication context consistency\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 26 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/security/auth-bypass.test.js:24:20)\n","name":"/home/jenner/code/mcps/tests/security/auth-bypass.test.js","startTime":1753397522095,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Metrics Collection Integration","HTTP Metrics Collection"],"duration":48,"failureDetails":[{}],"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Object.expect (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:81:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)\n----\n    at Test._assertStatus (/home/jenner/code/mcps/node_modules/supertest/lib/test.js:309:14)\n    at /home/jenner/code/mcps/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/jenner/code/mcps/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/jenner/code/mcps/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/jenner/code/mcps/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/jenner/code/mcps/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2419:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Metrics Collection Integration HTTP Metrics Collection should collect HTTP request metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect HTTP request metrics"},{"ancestorTitles":["Metrics Collection Integration","HTTP Metrics Collection"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration HTTP Metrics Collection should track request sizes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should track request sizes"},{"ancestorTitles":["Metrics Collection Integration","Business Metrics Collection"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Business Metrics Collection should collect business events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect business events"},{"ancestorTitles":["Metrics Collection Integration","Business Metrics Collection"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Business Metrics Collection should track API usage metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should track API usage metrics"},{"ancestorTitles":["Metrics Collection Integration","Database Metrics Collection"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Database Metrics Collection should collect database operation metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect database operation metrics"},{"ancestorTitles":["Metrics Collection Integration","Database Metrics Collection"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Database Metrics Collection should track connection pool metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should track connection pool metrics"},{"ancestorTitles":["Metrics Collection Integration","Cache Metrics Collection"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Cache Metrics Collection should collect cache operation metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect cache operation metrics"},{"ancestorTitles":["Metrics Collection Integration","Custom Metrics"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Custom Metrics should allow custom metric definitions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow custom metric definitions"},{"ancestorTitles":["Metrics Collection Integration","System Metrics"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration System Metrics should collect system resource metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect system resource metrics"},{"ancestorTitles":["Metrics Collection Integration","Metric Aggregation"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Metric Aggregation should aggregate metrics across multiple sources","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should aggregate metrics across multiple sources"},{"ancestorTitles":["Metrics Collection Integration","Metrics Export Formats"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Metrics Export Formats should export metrics in Prometheus format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should export metrics in Prometheus format"},{"ancestorTitles":["Metrics Collection Integration","Metrics Export Formats"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Metrics Export Formats should export metrics as JSON","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should export metrics as JSON"},{"ancestorTitles":["Metrics Collection Integration","Real-time Monitoring"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Real-time Monitoring should provide real-time metric updates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should provide real-time metric updates"},{"ancestorTitles":["Metrics Collection Integration","Real-time Monitoring"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js:24:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Collection Integration Real-time Monitoring should handle metric resets","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle metric resets"}],"endTime":1753397522289,"message":"  ● Metrics Collection Integration › HTTP Metrics Collection › should collect HTTP request metrics\n\n    expected 200 \"OK\", got 500 \"Internal Server Error\"\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m       \n     \u001b[90m 80 |\u001b[39m       \u001b[90m// Make multiple requests\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/test'\u001b[39m)\u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/test'\u001b[39m)\u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39mpost(\u001b[32m'/api/users'\u001b[39m)\u001b[33m.\u001b[39msend({ name\u001b[33m:\u001b[39m \u001b[32m'Test'\u001b[39m })\u001b[33m.\u001b[39mexpect(\u001b[35m201\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m       \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/error'\u001b[39m)\u001b[33m.\u001b[39mexpect(\u001b[35m500\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.expect (tests/integration/monitoring/metrics-collection.test.js:81:39)\n      ----\n      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n      at node_modules/supertest/lib/test.js:365:13\n      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n      at Test.assert (node_modules/supertest/lib/test.js:195:23)\n      at localAssert (node_modules/supertest/lib/test.js:138:14)\n      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n\n  ● Metrics Collection Integration › HTTP Metrics Collection › should track request sizes\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Business Metrics Collection › should collect business events\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Business Metrics Collection › should track API usage metrics\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Database Metrics Collection › should collect database operation metrics\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Database Metrics Collection › should track connection pool metrics\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Cache Metrics Collection › should collect cache operation metrics\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Custom Metrics › should allow custom metric definitions\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › System Metrics › should collect system resource metrics\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Metric Aggregation › should aggregate metrics across multiple sources\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Metrics Export Formats › should export metrics in Prometheus format\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Metrics Export Formats › should export metrics as JSON\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Real-time Monitoring › should provide real-time metric updates\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n\n  ● Metrics Collection Integration › Real-time Monitoring › should handle metric resets\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/integration/monitoring/metrics-collection.test.js:24:21)\n","name":"/home/jenner/code/mcps/tests/integration/monitoring/metrics-collection.test.js","startTime":1753397521618,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration IDE extension initializes with SDK instance","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"IDE extension initializes with SDK instance"},{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration Code completion suggests available MCP services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Code completion suggests available MCP services"},{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration Hover info shows service documentation from SDK","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Hover info shows service documentation from SDK"},{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration Diagnostics validate service configurations against SDK","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Diagnostics validate service configurations against SDK"},{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration Service panel shows real-time health from SDK","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Service panel shows real-time health from SDK"},{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration Debugging integration uses SDK service endpoints","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Debugging integration uses SDK service endpoints"},{"ancestorTitles":["IDE Extension and SDK Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Not implemented - SDK team will implement\n    at new SDKCoreInterface (/home/jenner/code/mcps/mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"IDE Extension and SDK Integration Code actions can install missing services via SDK","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Code actions can install missing services via SDK"}],"endTime":1753397522294,"message":"  ● IDE Extension and SDK Integration › IDE extension initializes with SDK instance\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n\n  ● IDE Extension and SDK Integration › Code completion suggests available MCP services\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n\n  ● IDE Extension and SDK Integration › Hover info shows service documentation from SDK\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n\n  ● IDE Extension and SDK Integration › Diagnostics validate service configurations against SDK\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n\n  ● IDE Extension and SDK Integration › Service panel shows real-time health from SDK\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n\n  ● IDE Extension and SDK Integration › Debugging integration uses SDK service endpoints\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n\n  ● IDE Extension and SDK Integration › Code actions can install missing services via SDK\n\n    Not implemented - SDK team will implement\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m {\n     \u001b[90m  6 |\u001b[39m   constructor(config) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Not implemented - SDK team will implement'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m   }\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Authentication methods\u001b[39m\u001b[0m\n\n      at new SDKCoreInterface (mcp-local-setup/interfaces/phase5/sdk-core.interface.js:7:11)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js:13:11)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/ide-sdk-integration.test.js","startTime":1753397522220,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["CommunityFeatures","rateService"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures rateService should add a new rating","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should add a new rating"},{"ancestorTitles":["CommunityFeatures","rateService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures rateService should update an existing rating","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should update an existing rating"},{"ancestorTitles":["CommunityFeatures","rateService"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures rateService should validate rating range","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate rating range"},{"ancestorTitles":["CommunityFeatures","rateService"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures rateService should require service ID and user ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require service ID and user ID"},{"ancestorTitles":["CommunityFeatures","rateService"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures rateService should update catalog rating","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update catalog rating"},{"ancestorTitles":["CommunityFeatures","rateService"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'events')\n    at Object.events (/home/jenner/code/mcps/mcp-local-setup/tests/unit/community/features.test.js:172:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"CommunityFeatures rateService should track analytics event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should track analytics event"},{"ancestorTitles":["CommunityFeatures","submitReview"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures submitReview should add a new review","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should add a new review"},{"ancestorTitles":["CommunityFeatures","submitReview"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures submitReview should update an existing review","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should update an existing review"},{"ancestorTitles":["CommunityFeatures","submitReview"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures submitReview should validate review content","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate review content"},{"ancestorTitles":["CommunityFeatures","submitReview"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures submitReview should limit review length","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should limit review length"},{"ancestorTitles":["CommunityFeatures","submitReview"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures submitReview should update rating if included","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update rating if included"},{"ancestorTitles":["CommunityFeatures","getUsageAnalytics"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getUsageAnalytics should return analytics summary","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return analytics summary"},{"ancestorTitles":["CommunityFeatures","getUsageAnalytics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getUsageAnalytics should calculate trends","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should calculate trends"},{"ancestorTitles":["CommunityFeatures","getUsageAnalytics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getUsageAnalytics should return top actions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return top actions"},{"ancestorTitles":["CommunityFeatures","getUsageAnalytics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getUsageAnalytics should handle service without analytics","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle service without analytics"},{"ancestorTitles":["CommunityFeatures","getUsageAnalytics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getUsageAnalytics should require service ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require service ID"},{"ancestorTitles":["CommunityFeatures","getCommunityStats"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getCommunityStats should return comprehensive statistics","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should return comprehensive statistics"},{"ancestorTitles":["CommunityFeatures","getCommunityStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getCommunityStats should calculate rating distribution","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should calculate rating distribution"},{"ancestorTitles":["CommunityFeatures","getCommunityStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getCommunityStats should calculate engagement score","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should calculate engagement score"},{"ancestorTitles":["CommunityFeatures","getCommunityStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getCommunityStats should include recent reviews","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include recent reviews"},{"ancestorTitles":["CommunityFeatures","getCommunityStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures getCommunityStats should handle service without data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle service without data"},{"ancestorTitles":["CommunityFeatures","private methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures private methods should track events with time aggregations","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should track events with time aggregations"},{"ancestorTitles":["CommunityFeatures","private methods"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeGreaterThan(expected)\n\nExpected: > 50\nReceived:   1","pass":false}}],"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 50\nReceived:   1\n    at Object.toBeGreaterThan (/home/jenner/code/mcps/mcp-local-setup/tests/unit/community/features.test.js:362:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"CommunityFeatures private methods should calculate week number correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should calculate week number correctly"},{"ancestorTitles":["CommunityFeatures","private methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures private methods should calculate engagement score","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should calculate engagement score"},{"ancestorTitles":["CommunityFeatures","private methods"],"duration":3,"failureDetails":[{"matcherResult":{"actual":0,"expected":25,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 25\nReceived: 0","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 25\nReceived: 0\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/unit/community/features.test.js:388:26)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"CommunityFeatures private methods should calculate growth rate","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should calculate growth rate"},{"ancestorTitles":["CommunityFeatures","private methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures private methods should handle zero previous downloads in growth rate","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle zero previous downloads in growth rate"},{"ancestorTitles":["CommunityFeatures","initialization"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures initialization should create data directory and files","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create data directory and files"},{"ancestorTitles":["CommunityFeatures","initialization"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommunityFeatures initialization should not overwrite existing files","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not overwrite existing files"}],"endTime":1753397522297,"message":"  ● CommunityFeatures › rateService › should track analytics event\n\n    TypeError: Cannot read properties of undefined (reading 'events')\n\n    \u001b[0m \u001b[90m 170 |\u001b[39m       expect(analyticsCall)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 171 |\u001b[39m       \u001b[36mconst\u001b[39m analyticsData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(analyticsCall[\u001b[35m1\u001b[39m])\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 172 |\u001b[39m       expect(analyticsData[\u001b[32m'service-1'\u001b[39m]\u001b[33m.\u001b[39mevents)\u001b[33m.\u001b[39mtoContainEqual(\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 173 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 174 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'rating'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 175 |\u001b[39m           userId\u001b[33m:\u001b[39m \u001b[32m'user-5'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.events (mcp-local-setup/tests/unit/community/features.test.js:172:41)\n\n  ● CommunityFeatures › private methods › should calculate week number correctly\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 50\n    Received:   1\n\n    \u001b[0m \u001b[90m 360 |\u001b[39m       \n     \u001b[90m 361 |\u001b[39m       expect(week1)\u001b[33m.\u001b[39mtoBe(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 362 |\u001b[39m       expect(week2)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m50\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 363 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 364 |\u001b[39m\n     \u001b[90m 365 |\u001b[39m     it(\u001b[32m'should calculate engagement score'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeGreaterThan (mcp-local-setup/tests/unit/community/features.test.js:362:21)\n\n  ● CommunityFeatures › private methods › should calculate growth rate\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 25\n    Received: 0\n\n    \u001b[0m \u001b[90m 386 |\u001b[39m\n     \u001b[90m 387 |\u001b[39m       \u001b[36mconst\u001b[39m growthRate \u001b[33m=\u001b[39m community\u001b[33m.\u001b[39m_calculateGrowthRate(analytics)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 388 |\u001b[39m       expect(growthRate)\u001b[33m.\u001b[39mtoBe(\u001b[35m25\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 25% growth\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 389 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 390 |\u001b[39m\n     \u001b[90m 391 |\u001b[39m     it(\u001b[32m'should handle zero previous downloads in growth rate'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/unit/community/features.test.js:388:26)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/community/features.test.js","startTime":1753397522184,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Marketplace + Enterprise Integration","Tenant-based Service Access"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:37:52)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Tenant-based Service Access should restrict marketplace access based on tenant permissions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should restrict marketplace access based on tenant permissions"},{"ancestorTitles":["Marketplace + Enterprise Integration","Tenant-based Service Access"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:72:42)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Tenant-based Service Access should enforce tenant quotas on service installation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce tenant quotas on service installation"},{"ancestorTitles":["Marketplace + Enterprise Integration","Marketplace Publishing with Multi-tenancy"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:102:42)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Marketplace Publishing with Multi-tenancy should allow tenants to publish private services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow tenants to publish private services"},{"ancestorTitles":["Marketplace + Enterprise Integration","Marketplace Publishing with Multi-tenancy"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:139:51)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Marketplace Publishing with Multi-tenancy should track marketplace revenue per tenant","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should track marketplace revenue per tenant"},{"ancestorTitles":["Marketplace + Enterprise Integration","SSO + Marketplace Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Invalid authentication request\n    at SSOAuthentication.authenticate (/home/jenner/code/mcps/mcp-local-setup/enterprise/sso/authentication.js:215:13)\n    at Object.authenticate (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:184:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Marketplace + Enterprise Integration SSO + Marketplace Integration should use SSO for marketplace authentication","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use SSO for marketplace authentication"},{"ancestorTitles":["Marketplace + Enterprise Integration","SSO + Marketplace Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: ssoAuth.configureRoleMapping is not a function\n    at Object.configureRoleMapping (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:207:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration SSO + Marketplace Integration should map SSO roles to marketplace permissions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should map SSO roles to marketplace permissions"},{"ancestorTitles":["Marketplace + Enterprise Integration","Compliance in Marketplace Operations"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:232:42)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Compliance in Marketplace Operations should audit all marketplace transactions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should audit all marketplace transactions"},{"ancestorTitles":["Marketplace + Enterprise Integration","Compliance in Marketplace Operations"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:298:44)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Compliance in Marketplace Operations should enforce data residency for marketplace data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce data residency for marketplace data"},{"ancestorTitles":["Marketplace + Enterprise Integration","Community Features with Enterprise Controls"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:335:42)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Community Features with Enterprise Controls should moderate reviews based on tenant policies","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should moderate reviews based on tenant policies"},{"ancestorTitles":["Marketplace + Enterprise Integration","Community Features with Enterprise Controls"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: communityFeatures.trackUsage is not a function\n    at Object.trackUsage (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:376:35)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Community Features with Enterprise Controls should aggregate analytics per tenant","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should aggregate analytics per tenant"},{"ancestorTitles":["Marketplace + Enterprise Integration","Billing Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: tenantManager.createTenant is not a function\n    at Object.createTenant (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:407:42)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Marketplace + Enterprise Integration Billing Integration should handle marketplace billing through tenant billing system","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle marketplace billing through tenant billing system"}],"endTime":1753397522298,"message":"  ● Marketplace + Enterprise Integration › Tenant-based Service Access › should restrict marketplace access based on tenant permissions\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 35 |\u001b[39m     test(\u001b[32m'should restrict marketplace access based on tenant permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 36 |\u001b[39m       \u001b[90m// Create test tenants\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 37 |\u001b[39m       \u001b[36mconst\u001b[39m enterpriseTenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m    |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 38 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Enterprise Corp'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 39 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 40 |\u001b[39m         features\u001b[33m:\u001b[39m [\u001b[32m'unlimited-services'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'private-marketplace'\u001b[39m]\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:37:52)\n\n  ● Marketplace + Enterprise Integration › Tenant-based Service Access › should enforce tenant quotas on service installation\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m\n     \u001b[90m 71 |\u001b[39m     test(\u001b[32m'should enforce tenant quotas on service installation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m       \u001b[36mconst\u001b[39m tenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Limited Corp'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 74 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'basic'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 75 |\u001b[39m         quotas\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:72:42)\n\n  ● Marketplace + Enterprise Integration › Marketplace Publishing with Multi-tenancy › should allow tenants to publish private services\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m   describe(\u001b[32m'Marketplace Publishing with Multi-tenancy'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 101 |\u001b[39m     test(\u001b[32m'should allow tenants to publish private services'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m       \u001b[36mconst\u001b[39m tenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Service Provider Inc'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 104 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 105 |\u001b[39m         features\u001b[33m:\u001b[39m [\u001b[32m'marketplace-publisher'\u001b[39m]\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:102:42)\n\n  ● Marketplace + Enterprise Integration › Marketplace Publishing with Multi-tenancy › should track marketplace revenue per tenant\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m\n     \u001b[90m 138 |\u001b[39m     test(\u001b[32m'should track marketplace revenue per tenant'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       \u001b[36mconst\u001b[39m publisherTenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'SaaS Provider'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 141 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\n     \u001b[90m 142 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:139:51)\n\n  ● Marketplace + Enterprise Integration › SSO + Marketplace Integration › should use SSO for marketplace authentication\n\n    Invalid authentication request\n\n    \u001b[0m \u001b[90m 213 |\u001b[39m   \u001b[36masync\u001b[39m authenticate(credentials\u001b[33m,\u001b[39m provider) {\n     \u001b[90m 214 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mcredentials \u001b[33m||\u001b[39m \u001b[33m!\u001b[39mprovider) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 215 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Invalid authentication request'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 216 |\u001b[39m     }\n     \u001b[90m 217 |\u001b[39m\n     \u001b[90m 218 |\u001b[39m     \u001b[36mconst\u001b[39m providerConfig \u001b[33m=\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39m_getProvider(provider)\u001b[33m;\u001b[39m\u001b[0m\n\n      at SSOAuthentication.authenticate (mcp-local-setup/enterprise/sso/authentication.js:215:13)\n      at Object.authenticate (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:184:40)\n\n  ● Marketplace + Enterprise Integration › SSO + Marketplace Integration › should map SSO roles to marketplace permissions\n\n    TypeError: ssoAuth.configureRoleMapping is not a function\n\n    \u001b[0m \u001b[90m 205 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 206 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 207 |\u001b[39m       \u001b[36mawait\u001b[39m ssoAuth\u001b[33m.\u001b[39mconfigureRoleMapping(roleMapping)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 208 |\u001b[39m\n     \u001b[90m 209 |\u001b[39m       \u001b[90m// Test different role access\u001b[39m\n     \u001b[90m 210 |\u001b[39m       \u001b[36mconst\u001b[39m adminUser \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m ssoAuth\u001b[33m.\u001b[39mauthenticate({\u001b[0m\n\n      at Object.configureRoleMapping (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:207:21)\n\n  ● Marketplace + Enterprise Integration › Compliance in Marketplace Operations › should audit all marketplace transactions\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 230 |\u001b[39m   describe(\u001b[32m'Compliance in Marketplace Operations'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 231 |\u001b[39m     test(\u001b[32m'should audit all marketplace transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 232 |\u001b[39m       \u001b[36mconst\u001b[39m tenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 233 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Regulated Corp'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 234 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 235 |\u001b[39m         compliance\u001b[33m:\u001b[39m [\u001b[32m'SOC2'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'HIPAA'\u001b[39m]\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:232:42)\n\n  ● Marketplace + Enterprise Integration › Compliance in Marketplace Operations › should enforce data residency for marketplace data\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 296 |\u001b[39m\n     \u001b[90m 297 |\u001b[39m     test(\u001b[32m'should enforce data residency for marketplace data'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 298 |\u001b[39m       \u001b[36mconst\u001b[39m euTenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 299 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'EU Company'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 300 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 301 |\u001b[39m         dataResidency\u001b[33m:\u001b[39m \u001b[32m'eu-west-1'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:298:44)\n\n  ● Marketplace + Enterprise Integration › Community Features with Enterprise Controls › should moderate reviews based on tenant policies\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 333 |\u001b[39m   describe(\u001b[32m'Community Features with Enterprise Controls'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 334 |\u001b[39m     test(\u001b[32m'should moderate reviews based on tenant policies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 335 |\u001b[39m       \u001b[36mconst\u001b[39m tenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 336 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Strict Corp'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 337 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 338 |\u001b[39m         policies\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:335:42)\n\n  ● Marketplace + Enterprise Integration › Community Features with Enterprise Controls › should aggregate analytics per tenant\n\n    TypeError: communityFeatures.trackUsage is not a function\n\n    \u001b[0m \u001b[90m 374 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m tenantId \u001b[36mof\u001b[39m tenants) {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 376 |\u001b[39m           \u001b[36mawait\u001b[39m communityFeatures\u001b[33m.\u001b[39mtrackUsage({\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 377 |\u001b[39m             tenantId\u001b[33m,\u001b[39m\n     \u001b[90m 378 |\u001b[39m             serviceId\u001b[33m:\u001b[39m \u001b[32m'popular-service'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 379 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.trackUsage (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:376:35)\n\n  ● Marketplace + Enterprise Integration › Billing Integration › should handle marketplace billing through tenant billing system\n\n    TypeError: tenantManager.createTenant is not a function\n\n    \u001b[0m \u001b[90m 405 |\u001b[39m   describe(\u001b[32m'Billing Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 406 |\u001b[39m     test(\u001b[32m'should handle marketplace billing through tenant billing system'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 407 |\u001b[39m       \u001b[36mconst\u001b[39m tenant \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m tenantManager\u001b[33m.\u001b[39mcreateTenant({\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 408 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Paying Customer'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 409 |\u001b[39m         plan\u001b[33m:\u001b[39m \u001b[32m'enterprise'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 410 |\u001b[39m         billing\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.createTenant (mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js:407:42)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/marketplace-enterprise.integration.test.js","startTime":1753397522148,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Security Authentication Flow Integration","Complete JWT Authentication Flow"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Complete JWT Authentication Flow should handle full JWT login and refresh flow","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle full JWT login and refresh flow"},{"ancestorTitles":["Security Authentication Flow Integration","Complete JWT Authentication Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Complete JWT Authentication Flow should handle token expiration and renewal","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle token expiration and renewal"},{"ancestorTitles":["Security Authentication Flow Integration","OAuth Integration Flow"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration OAuth Integration Flow should handle complete OAuth flow with Google","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle complete OAuth flow with Google"},{"ancestorTitles":["Security Authentication Flow Integration","OAuth Integration Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration OAuth Integration Flow should handle OAuth errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle OAuth errors gracefully"},{"ancestorTitles":["Security Authentication Flow Integration","API Key Authentication Flow"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration API Key Authentication Flow should handle API key generation and validation flow","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle API key generation and validation flow"},{"ancestorTitles":["Security Authentication Flow Integration","Multi-Auth Strategy Flow"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Multi-Auth Strategy Flow should handle multiple authentication methods in sequence","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle multiple authentication methods in sequence"},{"ancestorTitles":["Security Authentication Flow Integration","Security Token Rotation"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Security Token Rotation should handle secure token rotation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle secure token rotation"},{"ancestorTitles":["Security Authentication Flow Integration","Permission-based Access Control"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Permission-based Access Control should enforce permission-based access with API keys","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should enforce permission-based access with API keys"},{"ancestorTitles":["Security Authentication Flow Integration","Permission-based Access Control"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Permission-based Access Control should handle JWT permissions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle JWT permissions"},{"ancestorTitles":["Security Authentication Flow Integration","Session Management Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Session Management Integration should handle session lifecycle with token refresh","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle session lifecycle with token refresh"},{"ancestorTitles":["Security Authentication Flow Integration","Error Handling and Recovery"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Error Handling and Recovery should handle authentication failures gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle authentication failures gracefully"},{"ancestorTitles":["Security Authentication Flow Integration","Error Handling and Recovery"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: TokenRefresh is not a constructor\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js:26:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Security Authentication Flow Integration Error Handling and Recovery should handle Redis failures in token refresh","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle Redis failures in token refresh"}],"endTime":1753397522304,"message":"  ● Security Authentication Flow Integration › Complete JWT Authentication Flow › should handle full JWT login and refresh flow\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Complete JWT Authentication Flow › should handle token expiration and renewal\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › OAuth Integration Flow › should handle complete OAuth flow with Google\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › OAuth Integration Flow › should handle OAuth errors gracefully\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › API Key Authentication Flow › should handle API key generation and validation flow\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Multi-Auth Strategy Flow › should handle multiple authentication methods in sequence\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Security Token Rotation › should handle secure token rotation\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Permission-based Access Control › should enforce permission-based access with API keys\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Permission-based Access Control › should handle JWT permissions\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Session Management Integration › should handle session lifecycle with token refresh\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Error Handling and Recovery › should handle authentication failures gracefully\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n\n  ● Security Authentication Flow Integration › Error Handling and Recovery › should handle Redis failures in token refresh\n\n    TypeError: TokenRefresh is not a constructor\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     tokenRefresh \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mTokenRefresh\u001b[39m({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m       redis\u001b[33m:\u001b[39m mockRedisClient\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m       accessTokenExpiry\u001b[33m:\u001b[39m \u001b[35m3600\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m       refreshTokenExpiry\u001b[33m:\u001b[39m \u001b[35m2592000\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/security/auth-flow.test.js:26:20)\n","name":"/home/jenner/code/mcps/tests/integration/security/auth-flow.test.js","startTime":1753397522127,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["RegistryManager","Constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RegistryManager Constructor should initialize with correct paths","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize with correct paths"},{"ancestorTitles":["RegistryManager","Constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RegistryManager Constructor should use MCP_HOME environment variable if no basePath provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use MCP_HOME environment variable if no basePath provided"},{"ancestorTitles":["RegistryManager","loadCatalog"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:53:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager loadCatalog should load and parse catalog successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should load and parse catalog successfully"},{"ancestorTitles":["RegistryManager","loadCatalog"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockRejectedValue is not a function\n    at Object.mockRejectedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:62:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager loadCatalog should handle catalog file not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle catalog file not found"},{"ancestorTitles":["RegistryManager","loadCatalog"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:74:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager loadCatalog should handle invalid JSON in catalog","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle invalid JSON in catalog"},{"ancestorTitles":["RegistryManager","loadProfile"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:93:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager loadProfile should load default profile","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should load default profile"},{"ancestorTitles":["RegistryManager","loadProfile"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockResolvedValue is not a function\n    at Object.mockResolvedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:111:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager loadProfile should load specified profile","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should load specified profile"},{"ancestorTitles":["RegistryManager","loadProfile"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: fs.readFile.mockRejectedValue is not a function\n    at Object.mockRejectedValue (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:124:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager loadProfile should handle profile not found","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle profile not found"},{"ancestorTitles":["RegistryManager","generateDockerCompose"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'find')\n    at RegistryManager.find [as generateDockerCompose] (/home/jenner/code/mcps/mcp-local-setup/scripts/registry-manager.js:84:44)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:174:7)"],"fullName":"RegistryManager generateDockerCompose should generate docker-compose configuration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should generate docker-compose configuration"},{"ancestorTitles":["RegistryManager","generateDockerCompose"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RegistryManager generateDockerCompose should handle missing catalog","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing catalog"},{"ancestorTitles":["RegistryManager","generateDockerCompose"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RegistryManager generateDockerCompose should handle missing profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing profile"},{"ancestorTitles":["RegistryManager","generateDockerCompose"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'find')\n    at RegistryManager.find [as generateDockerCompose] (/home/jenner/code/mcps/mcp-local-setup/scripts/registry-manager.js:84:44)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:225:7)"],"fullName":"RegistryManager generateDockerCompose should filter services based on profile","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should filter services based on profile"},{"ancestorTitles":["RegistryManager","updateService"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: registryManager.updateService is not a function\n    at Object.updateService (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:253:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager updateService should update service in catalog","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update service in catalog"},{"ancestorTitles":["RegistryManager","updateService"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: registryManager.updateService is not a function\n    at Object.updateService (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:274:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager updateService should add new service to catalog","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should add new service to catalog"},{"ancestorTitles":["RegistryManager","removeService"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: registryManager.removeService is not a function\n    at Object.removeService (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:293:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager removeService should remove service from catalog","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should remove service from catalog"},{"ancestorTitles":["RegistryManager","removeService"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: registryManager.removeService is not a function\n    at Object.removeService (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:308:29)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager removeService should handle removing non-existent service","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle removing non-existent service"},{"ancestorTitles":["RegistryManager","validateCatalog"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: registryManager.validateCatalog is not a function\n    at Object.validateCatalog (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:329:38)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager validateCatalog should validate catalog structure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate catalog structure"},{"ancestorTitles":["RegistryManager","validateCatalog"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: registryManager.validateCatalog is not a function\n    at Object.validateCatalog (/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:344:38)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"RegistryManager validateCatalog should detect missing required fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should detect missing required fields"}],"endTime":1753397522310,"message":"  ● RegistryManager › loadCatalog › should load and parse catalog successfully\n\n    TypeError: fs.readFile.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m       fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockCatalog))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       \n     \u001b[90m 55 |\u001b[39m       \u001b[36mconst\u001b[39m catalog \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mloadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m       \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:53:19)\n\n  ● RegistryManager › loadCatalog › should handle catalog file not found\n\n    TypeError: fs.readFile.mockRejectedValue is not a function\n\n    \u001b[0m \u001b[90m 60 |\u001b[39m\n     \u001b[90m 61 |\u001b[39m     it(\u001b[32m'should handle catalog file not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 62 |\u001b[39m       fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockRejectedValue(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'ENOENT: no such file'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 63 |\u001b[39m       \n     \u001b[90m 64 |\u001b[39m       \u001b[36mconst\u001b[39m catalog \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mloadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m       \u001b[0m\n\n      at Object.mockRejectedValue (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:62:19)\n\n  ● RegistryManager › loadCatalog › should handle invalid JSON in catalog\n\n    TypeError: fs.readFile.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m\n     \u001b[90m 73 |\u001b[39m     it(\u001b[32m'should handle invalid JSON in catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'invalid json{'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m       \n     \u001b[90m 76 |\u001b[39m       \u001b[36mconst\u001b[39m catalog \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mloadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m       \u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:74:19)\n\n  ● RegistryManager › loadProfile › should load default profile\n\n    TypeError: fs.readFile.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 91 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 93 |\u001b[39m       fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'mocked yaml content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 94 |\u001b[39m       yaml\u001b[33m.\u001b[39mload\u001b[33m.\u001b[39mmockReturnValue(mockProfile)\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m       \n     \u001b[90m 96 |\u001b[39m       \u001b[36mconst\u001b[39m profile \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mloadProfile()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:93:19)\n\n  ● RegistryManager › loadProfile › should load specified profile\n\n    TypeError: fs.readFile.mockResolvedValue is not a function\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m       fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'mocked yaml content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m       yaml\u001b[33m.\u001b[39mload\u001b[33m.\u001b[39mmockReturnValue(mockProfile)\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m       \n     \u001b[90m 114 |\u001b[39m       \u001b[36mconst\u001b[39m profile \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mloadProfile(\u001b[32m'development'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockResolvedValue (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:111:19)\n\n  ● RegistryManager › loadProfile › should handle profile not found\n\n    TypeError: fs.readFile.mockRejectedValue is not a function\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m\n     \u001b[90m 123 |\u001b[39m     it(\u001b[32m'should handle profile not found'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m       fs\u001b[33m.\u001b[39mreadFile\u001b[33m.\u001b[39mmockRejectedValue(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'ENOENT'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m       \n     \u001b[90m 126 |\u001b[39m       \u001b[36mconst\u001b[39m profile \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mloadProfile(\u001b[32m'missing'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m       \u001b[0m\n\n      at Object.mockRejectedValue (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:124:19)\n\n  ● RegistryManager › generateDockerCompose › should generate docker-compose configuration\n\n    TypeError: Cannot read properties of undefined (reading 'find')\n\n    \u001b[0m \u001b[90m 82 |\u001b[39m\n     \u001b[90m 83 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m serviceId \u001b[36mof\u001b[39m enabledServices) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 84 |\u001b[39m             \u001b[36mconst\u001b[39m server \u001b[33m=\u001b[39m catalog\u001b[33m.\u001b[39mservers\u001b[33m.\u001b[39mfind(s \u001b[33m=>\u001b[39m s\u001b[33m.\u001b[39mid \u001b[33m===\u001b[39m serviceId)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 85 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mserver) {\n     \u001b[90m 86 |\u001b[39m                 console\u001b[33m.\u001b[39mwarn(\u001b[32m`Service ${serviceId} not found in catalog`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 87 |\u001b[39m                 \u001b[36mcontinue\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at RegistryManager.find [as generateDockerCompose] (mcp-local-setup/scripts/registry-manager.js:84:44)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:174:7)\n\n  ● RegistryManager › generateDockerCompose › should filter services based on profile\n\n    TypeError: Cannot read properties of undefined (reading 'find')\n\n    \u001b[0m \u001b[90m 82 |\u001b[39m\n     \u001b[90m 83 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m serviceId \u001b[36mof\u001b[39m enabledServices) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 84 |\u001b[39m             \u001b[36mconst\u001b[39m server \u001b[33m=\u001b[39m catalog\u001b[33m.\u001b[39mservers\u001b[33m.\u001b[39mfind(s \u001b[33m=>\u001b[39m s\u001b[33m.\u001b[39mid \u001b[33m===\u001b[39m serviceId)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 85 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mserver) {\n     \u001b[90m 86 |\u001b[39m                 console\u001b[33m.\u001b[39mwarn(\u001b[32m`Service ${serviceId} not found in catalog`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 87 |\u001b[39m                 \u001b[36mcontinue\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at RegistryManager.find [as generateDockerCompose] (mcp-local-setup/scripts/registry-manager.js:84:44)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:225:7)\n\n  ● RegistryManager › updateService › should update service in catalog\n\n    TypeError: registryManager.updateService is not a function\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mupdateService(updatedService)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m\n     \u001b[90m 255 |\u001b[39m       expect(fs\u001b[33m.\u001b[39mwriteFile)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m 256 |\u001b[39m         registryManager\u001b[33m.\u001b[39mcatalogPath\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.updateService (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:253:29)\n\n  ● RegistryManager › updateService › should add new service to catalog\n\n    TypeError: registryManager.updateService is not a function\n\n    \u001b[0m \u001b[90m 272 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 273 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 274 |\u001b[39m       \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mupdateService(newService)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 275 |\u001b[39m\n     \u001b[90m 276 |\u001b[39m       \u001b[36mconst\u001b[39m writtenData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m1\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       expect(writtenData\u001b[33m.\u001b[39mservices[\u001b[32m'new-service'\u001b[39m])\u001b[33m.\u001b[39mtoEqual(newService)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.updateService (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:274:29)\n\n  ● RegistryManager › removeService › should remove service from catalog\n\n    TypeError: registryManager.removeService is not a function\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m       fs\u001b[33m.\u001b[39mwriteFile \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m       \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mremoveService(\u001b[32m'service1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[36mconst\u001b[39m writtenData \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(fs\u001b[33m.\u001b[39mwriteFile\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m1\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 296 |\u001b[39m       expect(writtenData\u001b[33m.\u001b[39mservices\u001b[33m.\u001b[39mservice1)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.removeService (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:293:29)\n\n  ● RegistryManager › removeService › should handle removing non-existent service\n\n    TypeError: registryManager.removeService is not a function\n\n    \u001b[0m \u001b[90m 306 |\u001b[39m       fs\u001b[33m.\u001b[39mwriteFile \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 308 |\u001b[39m       \u001b[36mawait\u001b[39m registryManager\u001b[33m.\u001b[39mremoveService(\u001b[32m'non-existent'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 309 |\u001b[39m\n     \u001b[90m 310 |\u001b[39m       expect(fs\u001b[33m.\u001b[39mwriteFile)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 311 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.removeService (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:308:29)\n\n  ● RegistryManager › validateCatalog › should validate catalog structure\n\n    TypeError: registryManager.validateCatalog is not a function\n\n    \u001b[0m \u001b[90m 327 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 328 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 329 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m registryManager\u001b[33m.\u001b[39mvalidateCatalog(validCatalog)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 330 |\u001b[39m       expect(result\u001b[33m.\u001b[39mvalid)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 331 |\u001b[39m       expect(result\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m 332 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.validateCatalog (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:329:38)\n\n  ● RegistryManager › validateCatalog › should detect missing required fields\n\n    TypeError: registryManager.validateCatalog is not a function\n\n    \u001b[0m \u001b[90m 342 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 343 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 344 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m registryManager\u001b[33m.\u001b[39mvalidateCatalog(invalidCatalog)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 345 |\u001b[39m       expect(result\u001b[33m.\u001b[39mvalid)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 346 |\u001b[39m       expect(result\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Service service1 missing required field: name'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 347 |\u001b[39m       expect(result\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Service service1 missing required field: version'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.validateCatalog (mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js:344:38)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/scripts-registry-manager.unit.test.js","startTime":1753397522152,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["LogFormatters","ecsFormat"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"LogFormatters ecsFormat should format logs according to ECS schema","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should format logs according to ECS schema"},{"ancestorTitles":["LogFormatters","ecsFormat"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"LogFormatters ecsFormat should handle error fields","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle error fields"},{"ancestorTitles":["LogFormatters","ecsFormat"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LogFormatters ecsFormat should handle HTTP fields","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle HTTP fields"},{"ancestorTitles":["LogFormatters","jsonFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.jsonFormat is not a function\n    at Object.jsonFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:81:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters jsonFormat should format logs as JSON","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should format logs as JSON"},{"ancestorTitles":["LogFormatters","jsonFormat"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.jsonFormat is not a function\n    at Object.jsonFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:99:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters jsonFormat should handle errors in JSON format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle errors in JSON format"},{"ancestorTitles":["LogFormatters","prettyFormat"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.prettyFormat is not a function\n    at Object.prettyFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:119:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters prettyFormat should format logs in human-readable format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should format logs in human-readable format"},{"ancestorTitles":["LogFormatters","prettyFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.prettyFormat is not a function\n    at Object.prettyFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:135:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters prettyFormat should colorize output when enabled","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should colorize output when enabled"},{"ancestorTitles":["LogFormatters","prettyFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.prettyFormat is not a function\n    at Object.prettyFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:152:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters prettyFormat should include metadata when present","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should include metadata when present"},{"ancestorTitles":["LogFormatters","compactFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.compactFormat is not a function\n    at Object.compactFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:171:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters compactFormat should format logs in compact single-line format","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should format logs in compact single-line format"},{"ancestorTitles":["LogFormatters","compactFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.compactFormat is not a function\n    at Object.compactFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:189:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters compactFormat should truncate long messages","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should truncate long messages"},{"ancestorTitles":["LogFormatters","logstashFormat"],"duration":2,"failureDetails":[{"matcherResult":{"expected":"info","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"info\"\nReceived: undefined","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"info\"\nReceived: undefined\n    at Object.toBe (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:223:31)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters logstashFormat should format logs for Logstash ingestion","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"should format logs for Logstash ingestion"},{"ancestorTitles":["LogFormatters","logstashFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'userId')\n    at Object.userId (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:242:28)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters logstashFormat should add fields from metadata","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should add fields from metadata"},{"ancestorTitles":["LogFormatters","customFormat"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.customFormat is not a function\n    at Object.customFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:254:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters customFormat should allow custom formatting function","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow custom formatting function"},{"ancestorTitles":["LogFormatters","customFormat"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.customFormat is not a function\n    at Object.customFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:268:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters customFormat should support template strings","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should support template strings"},{"ancestorTitles":["LogFormatters","multiFormat"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.multiFormat is not a function\n    at Object.multiFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:286:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters multiFormat should combine multiple formatters","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should combine multiple formatters"},{"ancestorTitles":["LogFormatters","filterFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.filterFormat is not a function\n    at Object.filterFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:306:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters filterFormat should filter logs based on criteria","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should filter logs based on criteria"},{"ancestorTitles":["LogFormatters","filterFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.filterFormat is not a function\n    at Object.filterFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:332:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters filterFormat should filter based on metadata fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should filter based on metadata fields"},{"ancestorTitles":["LogFormatters","maskFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.maskFormat is not a function\n    at Object.maskFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:368:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters maskFormat should mask sensitive fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should mask sensitive fields"},{"ancestorTitles":["LogFormatters","maskFormat"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: LogFormatters.maskFormat is not a function\n    at Object.maskFormat (/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js:390:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"LogFormatters maskFormat should handle nested fields","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle nested fields"}],"endTime":1753397522335,"message":"  ● LogFormatters › jsonFormat › should format logs as JSON\n\n    TypeError: LogFormatters.jsonFormat is not a function\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m   describe(\u001b[32m'jsonFormat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 80 |\u001b[39m     it(\u001b[32m'should format logs as JSON'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mjsonFormat()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'info'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.jsonFormat (tests/unit/monitoring/logging/formatters.test.js:81:39)\n\n  ● LogFormatters › jsonFormat › should handle errors in JSON format\n\n    TypeError: LogFormatters.jsonFormat is not a function\n\n    \u001b[0m \u001b[90m  97 |\u001b[39m\n     \u001b[90m  98 |\u001b[39m     it(\u001b[32m'should handle errors in JSON format'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mjsonFormat()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mconst\u001b[39m error \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Test error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m       \n     \u001b[90m 102 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\u001b[0m\n\n      at Object.jsonFormat (tests/unit/monitoring/logging/formatters.test.js:99:39)\n\n  ● LogFormatters › prettyFormat › should format logs in human-readable format\n\n    TypeError: LogFormatters.prettyFormat is not a function\n\n    \u001b[0m \u001b[90m 117 |\u001b[39m   describe(\u001b[32m'prettyFormat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m     it(\u001b[32m'should format logs in human-readable format'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 119 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mprettyFormat()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 120 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 121 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'info'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 122 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.prettyFormat (tests/unit/monitoring/logging/formatters.test.js:119:39)\n\n  ● LogFormatters › prettyFormat › should colorize output when enabled\n\n    TypeError: LogFormatters.prettyFormat is not a function\n\n    \u001b[0m \u001b[90m 133 |\u001b[39m\n     \u001b[90m 134 |\u001b[39m     it(\u001b[32m'should colorize output when enabled'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 135 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mprettyFormat({ colorize\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 136 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 137 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'error'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 138 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Error message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.prettyFormat (tests/unit/monitoring/logging/formatters.test.js:135:39)\n\n  ● LogFormatters › prettyFormat › should include metadata when present\n\n    TypeError: LogFormatters.prettyFormat is not a function\n\n    \u001b[0m \u001b[90m 150 |\u001b[39m\n     \u001b[90m 151 |\u001b[39m     it(\u001b[32m'should include metadata when present'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mprettyFormat()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 153 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 154 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'info'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 155 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.prettyFormat (tests/unit/monitoring/logging/formatters.test.js:152:39)\n\n  ● LogFormatters › compactFormat › should format logs in compact single-line format\n\n    TypeError: LogFormatters.compactFormat is not a function\n\n    \u001b[0m \u001b[90m 169 |\u001b[39m   describe(\u001b[32m'compactFormat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 170 |\u001b[39m     it(\u001b[32m'should format logs in compact single-line format'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 171 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mcompactFormat()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 172 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 173 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'info'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 174 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.compactFormat (tests/unit/monitoring/logging/formatters.test.js:171:39)\n\n  ● LogFormatters › compactFormat › should truncate long messages\n\n    TypeError: LogFormatters.compactFormat is not a function\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m\n     \u001b[90m 188 |\u001b[39m     it(\u001b[32m'should truncate long messages'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mcompactFormat({ maxLength\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m       \u001b[36mconst\u001b[39m longMessage \u001b[33m=\u001b[39m \u001b[32m'A'\u001b[39m\u001b[33m.\u001b[39mrepeat(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 191 |\u001b[39m       \n     \u001b[90m 192 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\u001b[0m\n\n      at Object.compactFormat (tests/unit/monitoring/logging/formatters.test.js:189:39)\n\n  ● LogFormatters › logstashFormat › should format logs for Logstash ingestion\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"info\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m       expect(parsed[\u001b[32m'@version'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Test message'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mseverity)\u001b[33m.\u001b[39mtoBe(\u001b[32m'info'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mhost)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test-host'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mservice)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test-service'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (tests/unit/monitoring/logging/formatters.test.js:223:31)\n\n  ● LogFormatters › logstashFormat › should add fields from metadata\n\n    TypeError: Cannot read properties of undefined (reading 'userId')\n\n    \u001b[0m \u001b[90m 240 |\u001b[39m       \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(formatted[\u001b[33mSymbol\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfor\u001b[39m(\u001b[32m'message'\u001b[39m)])\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 242 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mfields\u001b[33m.\u001b[39muserId)\u001b[33m.\u001b[39mtoBe(\u001b[35m123\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 243 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mfields\u001b[33m.\u001b[39mrequestId)\u001b[33m.\u001b[39mtoBe(\u001b[32m'req-456'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 244 |\u001b[39m       expect(parsed\u001b[33m.\u001b[39mtags)\u001b[33m.\u001b[39mtoEqual([\u001b[32m'api'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'v2'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 245 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.userId (tests/unit/monitoring/logging/formatters.test.js:242:28)\n\n  ● LogFormatters › customFormat › should allow custom formatting function\n\n    TypeError: LogFormatters.customFormat is not a function\n\n    \u001b[0m \u001b[90m 252 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 253 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 254 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mcustomFormat(customFormatter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 255 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 256 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'info'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 257 |\u001b[39m         message\u001b[33m:\u001b[39m \u001b[32m'Test message'\u001b[39m\u001b[0m\n\n      at Object.customFormat (tests/unit/monitoring/logging/formatters.test.js:254:39)\n\n  ● LogFormatters › customFormat › should support template strings\n\n    TypeError: LogFormatters.customFormat is not a function\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m     it(\u001b[32m'should support template strings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 267 |\u001b[39m       \u001b[36mconst\u001b[39m template \u001b[33m=\u001b[39m \u001b[32m'{{timestamp}} [{{level}}] {{service}}: {{message}}'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mcustomFormat(template)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m       \n     \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m logInfo \u001b[33m=\u001b[39m {\n     \u001b[90m 271 |\u001b[39m         level\u001b[33m:\u001b[39m \u001b[32m'info'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.customFormat (tests/unit/monitoring/logging/formatters.test.js:268:39)\n\n  ● LogFormatters › multiFormat › should combine multiple formatters\n\n    TypeError: LogFormatters.multiFormat is not a function\n\n    \u001b[0m \u001b[90m 284 |\u001b[39m   describe(\u001b[32m'multiFormat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 285 |\u001b[39m     it(\u001b[32m'should combine multiple formatters'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 286 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mmultiFormat([\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 287 |\u001b[39m         winston\u001b[33m.\u001b[39mformat\u001b[33m.\u001b[39mtimestamp()\u001b[33m,\u001b[39m\n     \u001b[90m 288 |\u001b[39m         winston\u001b[33m.\u001b[39mformat\u001b[33m.\u001b[39merrors({ stack\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m,\u001b[39m\n     \u001b[90m 289 |\u001b[39m         winston\u001b[33m.\u001b[39mformat\u001b[33m.\u001b[39mjson()\u001b[0m\n\n      at Object.multiFormat (tests/unit/monitoring/logging/formatters.test.js:286:39)\n\n  ● LogFormatters › filterFormat › should filter logs based on criteria\n\n    TypeError: LogFormatters.filterFormat is not a function\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m   describe(\u001b[32m'filterFormat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 305 |\u001b[39m     it(\u001b[32m'should filter logs based on criteria'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mfilterFormat({\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m         levels\u001b[33m:\u001b[39m [\u001b[32m'error'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'warn'\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 308 |\u001b[39m         excludeMessages\u001b[33m:\u001b[39m [\u001b[35m/debug/i\u001b[39m]\n     \u001b[90m 309 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.filterFormat (tests/unit/monitoring/logging/formatters.test.js:306:39)\n\n  ● LogFormatters › filterFormat › should filter based on metadata fields\n\n    TypeError: LogFormatters.filterFormat is not a function\n\n    \u001b[0m \u001b[90m 330 |\u001b[39m\n     \u001b[90m 331 |\u001b[39m     it(\u001b[32m'should filter based on metadata fields'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 332 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mfilterFormat({\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 333 |\u001b[39m         metadata\u001b[33m:\u001b[39m {\n     \u001b[90m 334 |\u001b[39m           environment\u001b[33m:\u001b[39m \u001b[32m'production'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 335 |\u001b[39m           userId\u001b[33m:\u001b[39m (value) \u001b[33m=>\u001b[39m value \u001b[33m>\u001b[39m \u001b[35m100\u001b[39m\u001b[0m\n\n      at Object.filterFormat (tests/unit/monitoring/logging/formatters.test.js:332:39)\n\n  ● LogFormatters › maskFormat › should mask sensitive fields\n\n    TypeError: LogFormatters.maskFormat is not a function\n\n    \u001b[0m \u001b[90m 366 |\u001b[39m   describe(\u001b[32m'maskFormat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 367 |\u001b[39m     it(\u001b[32m'should mask sensitive fields'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 368 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mmaskFormat({\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 369 |\u001b[39m         fields\u001b[33m:\u001b[39m [\u001b[32m'password'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'token'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'ssn'\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 370 |\u001b[39m         patterns\u001b[33m:\u001b[39m [\u001b[35m/\\b\\d{3}-\\d{2}-\\d{4}\\b/g\u001b[39m] \u001b[90m// SSN pattern\u001b[39m\n     \u001b[90m 371 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.maskFormat (tests/unit/monitoring/logging/formatters.test.js:368:39)\n\n  ● LogFormatters › maskFormat › should handle nested fields\n\n    TypeError: LogFormatters.maskFormat is not a function\n\n    \u001b[0m \u001b[90m 388 |\u001b[39m\n     \u001b[90m 389 |\u001b[39m     it(\u001b[32m'should handle nested fields'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 390 |\u001b[39m       \u001b[36mconst\u001b[39m formatter \u001b[33m=\u001b[39m \u001b[33mLogFormatters\u001b[39m\u001b[33m.\u001b[39mmaskFormat({\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 391 |\u001b[39m         fields\u001b[33m:\u001b[39m [\u001b[32m'user.password'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'auth.token'\u001b[39m]\n     \u001b[90m 392 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 393 |\u001b[39m\u001b[0m\n\n      at Object.maskFormat (tests/unit/monitoring/logging/formatters.test.js:390:39)\n","name":"/home/jenner/code/mcps/tests/unit/monitoring/logging/formatters.test.js","startTime":1753397522151,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Monitoring + Cloud Integration","AWS Monitoring Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Environment must have name and region\n    at AWSDeployment.deploy (/home/jenner/code/mcps/mcp-local-setup/deploy/aws/deployment.js:332:13)\n    at Object.deploy (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:34:46)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration AWS Monitoring Integration should collect metrics from AWS-deployed services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect metrics from AWS-deployed services"},{"ancestorTitles":["Monitoring + Cloud Integration","AWS Monitoring Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: alertingSystem.addChannel is not a function\n    at Object.addChannel (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:57:28)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration AWS Monitoring Integration should trigger alerts for AWS service anomalies","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should trigger alerts for AWS service anomalies"},{"ancestorTitles":["Monitoring + Cloud Integration","GCP Monitoring Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Environment must have name and projectId\n    at GCPDeployment.deploy (/home/jenner/code/mcps/mcp-local-setup/deploy/gcp/deployment.js:535:13)\n    at Object.deploy (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:89:46)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration GCP Monitoring Integration should collect metrics from GCP Cloud Run services","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect metrics from GCP Cloud Run services"},{"ancestorTitles":["Monitoring + Cloud Integration","GCP Monitoring Integration"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: gcpDeployment.getMetrics is not a function\n    at Object.getMetrics (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:107:46)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration GCP Monitoring Integration should integrate with GCP monitoring APIs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should integrate with GCP monitoring APIs"},{"ancestorTitles":["Monitoring + Cloud Integration","Azure Monitoring Integration"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Environment must have name, subscriptionId, and resourceGroup\n    at AzureDeployment.deploy (/home/jenner/code/mcps/mcp-local-setup/deploy/azure/deployment.js:485:13)\n    at Object.deploy (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:120:48)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration Azure Monitoring Integration should collect metrics from Azure Container Instances","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should collect metrics from Azure Container Instances"},{"ancestorTitles":["Monitoring + Cloud Integration","Cross-Cloud Monitoring"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: Environment must have name and region\n    at AWSDeployment.deploy (/home/jenner/code/mcps/mcp-local-setup/deploy/aws/deployment.js:332:13)\n    at Object.deploy (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:141:46)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration Cross-Cloud Monitoring should aggregate metrics across multiple cloud providers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should aggregate metrics across multiple cloud providers"},{"ancestorTitles":["Monitoring + Cloud Integration","Cross-Cloud Monitoring"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: metricsCollector.createDashboard is not a function\n    at Object.createDashboard (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:181:48)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration Cross-Cloud Monitoring should create unified dashboards for multi-cloud deployments","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should create unified dashboards for multi-cloud deployments"},{"ancestorTitles":["Monitoring + Cloud Integration","Alert Integration Across Clouds"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: alertingSystem.on is not a function\n    at Object.on (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:194:22)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration Alert Integration Across Clouds should correlate alerts from different cloud providers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should correlate alerts from different cloud providers"},{"ancestorTitles":["Monitoring + Cloud Integration","Performance Monitoring"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: metricsCollector.trackDeployment is not a function\n    at Object.trackDeployment (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:231:32)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Monitoring + Cloud Integration Performance Monitoring should track deployment performance metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should track deployment performance metrics"}],"endTime":1753397522372,"message":"  ● Monitoring + Cloud Integration › AWS Monitoring Integration › should collect metrics from AWS-deployed services\n\n    Environment must have name and region\n\n    \u001b[0m \u001b[90m 330 |\u001b[39m\n     \u001b[90m 331 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mname \u001b[33m||\u001b[39m \u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mregion) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 332 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Environment must have name and region'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 333 |\u001b[39m     }\n     \u001b[90m 334 |\u001b[39m\n     \u001b[90m 335 |\u001b[39m     \u001b[36mconst\u001b[39m deployment \u001b[33m=\u001b[39m {\u001b[0m\n\n      at AWSDeployment.deploy (mcp-local-setup/deploy/aws/deployment.js:332:13)\n      at Object.deploy (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:34:46)\n\n  ● Monitoring + Cloud Integration › AWS Monitoring Integration › should trigger alerts for AWS service anomalies\n\n    TypeError: alertingSystem.addChannel is not a function\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m       \u001b[36mawait\u001b[39m alertingSystem\u001b[33m.\u001b[39maddChannel(\u001b[32m'test-channel'\u001b[39m\u001b[33m,\u001b[39m alertChannel)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m       \n     \u001b[90m 59 |\u001b[39m       \u001b[90m// Create alert rule for high CPU\u001b[39m\n     \u001b[90m 60 |\u001b[39m       \u001b[36mawait\u001b[39m alertingSystem\u001b[33m.\u001b[39mcreateRule({\u001b[0m\n\n      at Object.addChannel (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:57:28)\n\n  ● Monitoring + Cloud Integration › GCP Monitoring Integration › should collect metrics from GCP Cloud Run services\n\n    Environment must have name and projectId\n\n    \u001b[0m \u001b[90m 533 |\u001b[39m\n     \u001b[90m 534 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mname \u001b[33m||\u001b[39m \u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mprojectId) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 535 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Environment must have name and projectId'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 536 |\u001b[39m     }\n     \u001b[90m 537 |\u001b[39m\n     \u001b[90m 538 |\u001b[39m     \u001b[36mconst\u001b[39m deployment \u001b[33m=\u001b[39m {\u001b[0m\n\n      at GCPDeployment.deploy (mcp-local-setup/deploy/gcp/deployment.js:535:13)\n      at Object.deploy (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:89:46)\n\n  ● Monitoring + Cloud Integration › GCP Monitoring Integration › should integrate with GCP monitoring APIs\n\n    TypeError: gcpDeployment.getMetrics is not a function\n\n    \u001b[0m \u001b[90m 105 |\u001b[39m\n     \u001b[90m 106 |\u001b[39m     test(\u001b[32m'should integrate with GCP monitoring APIs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 107 |\u001b[39m       \u001b[36mconst\u001b[39m gcpMetrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m gcpDeployment\u001b[33m.\u001b[39mgetMetrics(\u001b[32m'test-service'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 108 |\u001b[39m       \n     \u001b[90m 109 |\u001b[39m       \u001b[90m// Export to Prometheus format\u001b[39m\n     \u001b[90m 110 |\u001b[39m       \u001b[36mconst\u001b[39m prometheusMetrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m metricsCollector\u001b[33m.\u001b[39mexportMetrics(gcpMetrics)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getMetrics (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:107:46)\n\n  ● Monitoring + Cloud Integration › Azure Monitoring Integration › should collect metrics from Azure Container Instances\n\n    Environment must have name, subscriptionId, and resourceGroup\n\n    \u001b[0m \u001b[90m 483 |\u001b[39m\n     \u001b[90m 484 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mname \u001b[33m||\u001b[39m \u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39msubscriptionId \u001b[33m||\u001b[39m \u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mresourceGroup) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 485 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Environment must have name, subscriptionId, and resourceGroup'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 486 |\u001b[39m     }\n     \u001b[90m 487 |\u001b[39m\n     \u001b[90m 488 |\u001b[39m     \u001b[36mconst\u001b[39m deployment \u001b[33m=\u001b[39m {\u001b[0m\n\n      at AzureDeployment.deploy (mcp-local-setup/deploy/azure/deployment.js:485:13)\n      at Object.deploy (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:120:48)\n\n  ● Monitoring + Cloud Integration › Cross-Cloud Monitoring › should aggregate metrics across multiple cloud providers\n\n    Environment must have name and region\n\n    \u001b[0m \u001b[90m 330 |\u001b[39m\n     \u001b[90m 331 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mname \u001b[33m||\u001b[39m \u001b[33m!\u001b[39menvironment\u001b[33m.\u001b[39mregion) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 332 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Environment must have name and region'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 333 |\u001b[39m     }\n     \u001b[90m 334 |\u001b[39m\n     \u001b[90m 335 |\u001b[39m     \u001b[36mconst\u001b[39m deployment \u001b[33m=\u001b[39m {\u001b[0m\n\n      at AWSDeployment.deploy (mcp-local-setup/deploy/aws/deployment.js:332:13)\n      at Object.deploy (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:141:46)\n\n  ● Monitoring + Cloud Integration › Cross-Cloud Monitoring › should create unified dashboards for multi-cloud deployments\n\n    TypeError: metricsCollector.createDashboard is not a function\n\n    \u001b[0m \u001b[90m 179 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 180 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 181 |\u001b[39m       \u001b[36mconst\u001b[39m dashboard \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m metricsCollector\u001b[33m.\u001b[39mcreateDashboard(dashboardConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 182 |\u001b[39m       \n     \u001b[90m 183 |\u001b[39m       expect(dashboard)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'url'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 184 |\u001b[39m       expect(dashboard\u001b[33m.\u001b[39mpanels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createDashboard (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:181:48)\n\n  ● Monitoring + Cloud Integration › Alert Integration Across Clouds › should correlate alerts from different cloud providers\n\n    TypeError: alertingSystem.on is not a function\n\n    \u001b[0m \u001b[90m 192 |\u001b[39m       \n     \u001b[90m 193 |\u001b[39m       \u001b[90m// Setup alert collection\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 194 |\u001b[39m       alertingSystem\u001b[33m.\u001b[39mon(\u001b[32m'alert'\u001b[39m\u001b[33m,\u001b[39m (alert) \u001b[33m=>\u001b[39m alerts\u001b[33m.\u001b[39mpush(alert))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 195 |\u001b[39m\n     \u001b[90m 196 |\u001b[39m       \u001b[90m// Simulate alerts from different clouds\u001b[39m\n     \u001b[90m 197 |\u001b[39m       \u001b[36mawait\u001b[39m alertingSystem\u001b[33m.\u001b[39mprocessCloudAlert({\u001b[0m\n\n      at Object.on (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:194:22)\n\n  ● Monitoring + Cloud Integration › Performance Monitoring › should track deployment performance metrics\n\n    TypeError: metricsCollector.trackDeployment is not a function\n\n    \u001b[0m \u001b[90m 229 |\u001b[39m       \u001b[90m// Track deployment performance\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m [cloud\u001b[33m,\u001b[39m metrics] \u001b[36mof\u001b[39m \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(deploymentMetrics)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 231 |\u001b[39m         \u001b[36mawait\u001b[39m metricsCollector\u001b[33m.\u001b[39mtrackDeployment(cloud\u001b[33m,\u001b[39m metrics)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 232 |\u001b[39m       }\n     \u001b[90m 233 |\u001b[39m\n     \u001b[90m 234 |\u001b[39m       \u001b[36mconst\u001b[39m performanceReport \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m metricsCollector\u001b[33m.\u001b[39mgetPerformanceReport()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.trackDeployment (mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js:231:32)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/monitoring-cloud.integration.test.js","startTime":1753397522128,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Metrics Performance Under Load","High-Frequency Metric Updates"],"duration":8,"failureDetails":[{}],"failureMessages":["Error: Added label \"status\" is not included in initial labelset: [ 'method', 'route', 'status_code', 'status_class' ]\n    at validateLabel (/home/jenner/code/mcps/node_modules/prom-client/lib/validation.js:20:10)\n    at Counter.incWithoutExemplar (/home/jenner/code/mcps/node_modules/prom-client/lib/counter.js:44:4)\n    at Object.inc (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:42:48)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load High-Frequency Metric Updates should handle 10k metrics/second","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle 10k metrics/second"},{"ancestorTitles":["Metrics Performance Under Load","High-Frequency Metric Updates"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load High-Frequency Metric Updates should handle concurrent metric updates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle concurrent metric updates"},{"ancestorTitles":["Metrics Performance Under Load","Memory Efficiency"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Memory Efficiency should maintain stable memory usage with high cardinality","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should maintain stable memory usage with high cardinality"},{"ancestorTitles":["Metrics Performance Under Load","Memory Efficiency"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Memory Efficiency should handle metric lifecycle efficiently","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle metric lifecycle efficiently"},{"ancestorTitles":["Metrics Performance Under Load","Metric Collection Performance"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Metric Collection Performance should efficiently serialize large numbers of metrics","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should efficiently serialize large numbers of metrics"},{"ancestorTitles":["Metrics Performance Under Load","Metric Collection Performance"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Metric Collection Performance should handle metric endpoint under load","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle metric endpoint under load"},{"ancestorTitles":["Metrics Performance Under Load","Histogram Performance"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Histogram Performance should efficiently calculate percentiles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should efficiently calculate percentiles"},{"ancestorTitles":["Metrics Performance Under Load","Histogram Performance"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Histogram Performance should handle multiple histogram updates concurrently","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle multiple histogram updates concurrently"},{"ancestorTitles":["Metrics Performance Under Load","Label Cardinality Performance"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Label Cardinality Performance should handle high label cardinality efficiently","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle high label cardinality efficiently"},{"ancestorTitles":["Metrics Performance Under Load","Real-world Load Simulation"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Real-world Load Simulation should handle realistic mixed workload","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle realistic mixed workload"},{"ancestorTitles":["Metrics Performance Under Load","Stress Testing"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: A metric with the name mcp_mcp_active_connections has already been registered.\n    at Registry.registerMetric (/home/jenner/code/mcps/node_modules/prom-client/lib/registry.js:103:10)\n    at new Metric (/home/jenner/code/mcps/node_modules/prom-client/lib/metric.js:64:13)\n    at new Gauge (/home/jenner/code/mcps/node_modules/prom-client/lib/gauge.js:21:3)\n    at CustomMetrics._initializeMCPMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:53:41)\n    at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:24:10)\n    at new _initializeMetrics (/home/jenner/code/mcps/monitoring/metrics/custom-metrics.js:16:10)\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js:21:21)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusHook (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:246:5)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Metrics Performance Under Load Stress Testing should remain stable under extreme load","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should remain stable under extreme load"}],"endTime":1753397522376,"message":"  ● Metrics Performance Under Load › High-Frequency Metric Updates › should handle 10k metrics/second\n\n    Added label \"status\" is not included in initial labelset: [ 'method', 'route', 'status_code', 'status_class' ]\n\n    \u001b[0m \u001b[90m 40 |\u001b[39m       \u001b[90m// Generate metrics at high frequency\u001b[39m\n     \u001b[90m 41 |\u001b[39m       \u001b[36mwhile\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m startTime \u001b[33m<\u001b[39m duration \u001b[33m&&\u001b[39m operations \u001b[33m<\u001b[39m targetOps) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 42 |\u001b[39m         httpExporter\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mhttpRequestsTotal\u001b[33m.\u001b[39minc({\n     \u001b[90m    |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 43 |\u001b[39m           method\u001b[33m:\u001b[39m [\u001b[32m'GET'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'PUT'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'DELETE'\u001b[39m][operations \u001b[33m%\u001b[39m \u001b[35m4\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 44 |\u001b[39m           status\u001b[33m:\u001b[39m [\u001b[32m'200'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'201'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'400'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'500'\u001b[39m][operations \u001b[33m%\u001b[39m \u001b[35m4\u001b[39m]\n     \u001b[90m 45 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at validateLabel (node_modules/prom-client/lib/validation.js:20:10)\n      at Counter.incWithoutExemplar (node_modules/prom-client/lib/counter.js:44:4)\n      at Object.inc (tests/performance/monitoring/metrics-load.test.js:42:48)\n\n  ● Metrics Performance Under Load › High-Frequency Metric Updates › should handle concurrent metric updates\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Memory Efficiency › should maintain stable memory usage with high cardinality\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Memory Efficiency › should handle metric lifecycle efficiently\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Metric Collection Performance › should efficiently serialize large numbers of metrics\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Metric Collection Performance › should handle metric endpoint under load\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Histogram Performance › should efficiently calculate percentiles\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Histogram Performance › should handle multiple histogram updates concurrently\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Label Cardinality Performance › should handle high label cardinality efficiently\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Real-world Load Simulation › should handle realistic mixed workload\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n\n  ● Metrics Performance Under Load › Stress Testing › should remain stable under extreme load\n\n    A metric with the name mcp_mcp_active_connections has already been registered.\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m   _initializeMCPMetrics() {\n     \u001b[90m 52 |\u001b[39m     \u001b[90m// Active MCP connections\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mmetrics\u001b[33m.\u001b[39mmcpActiveConnections \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m client\u001b[33m.\u001b[39m\u001b[33mGauge\u001b[39m({\n     \u001b[90m    |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m       name\u001b[33m:\u001b[39m \u001b[32m`${this.options.prefix}mcp_active_connections`\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m       help\u001b[33m:\u001b[39m \u001b[32m'Number of active MCP connections'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m       labelNames\u001b[33m:\u001b[39m [\u001b[32m'transport'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'client_type'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'version'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at Registry.registerMetric (node_modules/prom-client/lib/registry.js:103:10)\n      at new Metric (node_modules/prom-client/lib/metric.js:64:13)\n      at new Gauge (node_modules/prom-client/lib/gauge.js:21:3)\n      at CustomMetrics._initializeMCPMetrics (monitoring/metrics/custom-metrics.js:53:41)\n      at CustomMetrics._initializeMCPMetrics [as _initializeMetrics] (monitoring/metrics/custom-metrics.js:24:10)\n      at new _initializeMetrics (monitoring/metrics/custom-metrics.js:16:10)\n      at Object.<anonymous> (tests/performance/monitoring/metrics-load.test.js:21:21)\n","name":"/home/jenner/code/mcps/tests/performance/monitoring/metrics-load.test.js","startTime":1753397521641,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["AzureDeployment","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment constructor should initialize with default values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize with default values"},{"ancestorTitles":["AzureDeployment","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment constructor should use environment variables when available","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should use environment variables when available"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should create valid container instance configuration","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should create valid container instance configuration"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should throw error for invalid configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid configuration"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should handle secure environment variables","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle secure environment variables"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should handle image registry credentials","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle image registry credentials"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should configure VNet integration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should configure VNet integration"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should configure diagnostics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should configure diagnostics"},{"ancestorTitles":["AzureDeployment","configureContainerInstances"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment configureContainerInstances should configure managed identity","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should configure managed identity"},{"ancestorTitles":["AzureDeployment","generateARMTemplates"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment generateARMTemplates should generate valid ARM template","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should generate valid ARM template"},{"ancestorTitles":["AzureDeployment","generateARMTemplates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment generateARMTemplates should throw error for invalid resources","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid resources"},{"ancestorTitles":["AzureDeployment","generateARMTemplates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment generateARMTemplates should generate load balancer resources","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should generate load balancer resources"},{"ancestorTitles":["AzureDeployment","generateARMTemplates"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment generateARMTemplates should generate monitoring resources","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate monitoring resources"},{"ancestorTitles":["AzureDeployment","generateARMTemplates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment generateARMTemplates should handle container groups with networking","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle container groups with networking"},{"ancestorTitles":["AzureDeployment","setupNetworkSecurityGroups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment setupNetworkSecurityGroups should create NSG with security rules","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create NSG with security rules"},{"ancestorTitles":["AzureDeployment","setupNetworkSecurityGroups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment setupNetworkSecurityGroups should throw error for invalid rules","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid rules"},{"ancestorTitles":["AzureDeployment","setupNetworkSecurityGroups"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment setupNetworkSecurityGroups should handle service tags","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle service tags"},{"ancestorTitles":["AzureDeployment","setupNetworkSecurityGroups"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment setupNetworkSecurityGroups should handle multiple address prefixes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle multiple address prefixes"},{"ancestorTitles":["AzureDeployment","setupNetworkSecurityGroups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment setupNetworkSecurityGroups should add NSG to ARM template if exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should add NSG to ARM template if exists"},{"ancestorTitles":["AzureDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment deploy should create deployment manifest","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create deployment manifest"},{"ancestorTitles":["AzureDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment deploy should throw error for invalid environment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid environment"},{"ancestorTitles":["AzureDeployment","deploy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment deploy should handle deployment without monitoring","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle deployment without monitoring"},{"ancestorTitles":["AzureDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment deploy should include load balancer configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should include load balancer configuration"},{"ancestorTitles":["AzureDeployment","deploy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment deploy should include ARM template in manifest","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include ARM template in manifest"},{"ancestorTitles":["AzureDeployment","helper methods"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment helper methods should format environment variables with secure values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should format environment variables with secure values"},{"ancestorTitles":["AzureDeployment","helper methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AzureDeployment helper methods should handle empty environment variables","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty environment variables"}],"endTime":1753397522380,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/deploy/tests/azure.test.js","startTime":1753397522308,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Client Configuration Generation E2E Tests","Client SDK Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client SDK Configuration should generate Python client configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate Python client configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Client SDK Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client SDK Configuration should generate JavaScript/TypeScript client configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate JavaScript/TypeScript client configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Client SDK Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client SDK Configuration should generate Go client configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate Go client configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Authentication Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Authentication Configuration should generate OAuth2 client configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate OAuth2 client configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Authentication Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Authentication Configuration should generate API key authentication configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate API key authentication configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Authentication Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Authentication Configuration should generate mTLS client certificate configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate mTLS client certificate configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Service Discovery Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Service Discovery Configuration should generate static service discovery configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate static service discovery configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Service Discovery Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Service Discovery Configuration should generate dynamic service discovery configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate dynamic service discovery configuration"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Client Template Generation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client Template Generation should generate client SDK from OpenAPI specification","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate client SDK from OpenAPI specification"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Client Template Generation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client Template Generation should generate gRPC client from protobuf","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate gRPC client from protobuf"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Client Configuration Export"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client Configuration Export should export client configuration package","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should export client configuration package"},{"ancestorTitles":["Client Configuration Generation E2E Tests","Client Configuration Export"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Client Configuration Generation E2E Tests Client Configuration Export should generate client configuration documentation","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate client configuration documentation"}],"endTime":1753397522393,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/e2e/client-configuration.e2e.test.js","startTime":1753397522280,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Profile Switching Integration Tests","Profile Creation"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Creation should create a new profile with services","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a new profile with services"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Creation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Creation should create profile with empty services list","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create profile with empty services list"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Creation"],"duration":8,"failureDetails":[{"message":"expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: \"/home/jenner/.mcp-platform/profiles/duplicate-profile.yml\""}],"failureMessages":["Error: expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: \"/home/jenner/.mcp-platform/profiles/duplicate-profile.yml\"\n    at expect (/home/jenner/code/mcps/node_modules/expect/build/index.js:113:15)\n    at Object.expect (/home/jenner/code/mcps/mcp-local-setup/tests/integration/profile-switching.integration.test.js:86:13)"],"fullName":"Profile Switching Integration Tests Profile Creation should handle profile name conflicts","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle profile name conflicts"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Creation"],"duration":6,"failureDetails":[{"name":"YAMLException","reason":"bad indentation of a mapping entry","mark":{"name":null,"buffer":"invalid: yaml: structure:\n","position":13,"line":0,"column":13,"snippet":" 1 | invalid: yaml: structure:\n------------------^"},"message":"bad indentation of a mapping entry (1:14)\n\n 1 | invalid: yaml: structure:\n------------------^"}],"failureMessages":["YAMLException: bad indentation of a mapping entry (1:14)\n\n 1 | invalid: yaml: structure:\n------------------^\n    at generateError (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:183:10)\n    at throwError (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:187:9)\n    at readBlockMapping (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:1182:7)\n    at composeNode (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:1441:12)\n    at readDocument (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:1625:3)\n    at loadDocuments (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:1688:5)\n    at Object.load (/home/jenner/code/mcps/mcp-local-setup/node_modules/js-yaml/lib/loader.js:1714:19)\n    at Object.load (/home/jenner/code/mcps/mcp-local-setup/tests/integration/profile-switching.integration.test.js:99:25)"],"fullName":"Profile Switching Integration Tests Profile Creation should validate profile yaml structure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate profile yaml structure"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Switching"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Switching should switch to an existing profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should switch to an existing profile"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Switching"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Switching should handle switching to non-existent profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle switching to non-existent profile"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Switching"],"duration":46,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/profile-switching.integration.test.js:161:25)"],"fullName":"Profile Switching Integration Tests Profile Switching should update docker-compose when switching profiles","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update docker-compose when switching profiles"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Switching"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Switching should preserve profile settings when switching","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should preserve profile settings when switching"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Deletion"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Deletion should delete a profile successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete a profile successfully"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Deletion"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Deletion should handle deleting current profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle deleting current profile"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Deletion"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Deletion should not affect other profiles when deleting","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not affect other profiles when deleting"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Management CLI"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Management CLI should list all available profiles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should list all available profiles"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Management CLI"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Management CLI should show current profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should show current profile"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Management CLI"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Management CLI should export profile configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export profile configuration"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Management CLI"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Management CLI should import profile configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should import profile configuration"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Environment Variables"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Environment Variables should apply profile-specific environment variables","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should apply profile-specific environment variables"},{"ancestorTitles":["Profile Switching Integration Tests","Profile Environment Variables"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Profile Switching Integration Tests Profile Environment Variables should merge profile env with system env","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should merge profile env with system env"}],"endTime":1753397522399,"message":"  ● Profile Switching Integration Tests › Profile Creation › should handle profile name conflicts\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: \"/home/jenner/.mcp-platform/profiles/duplicate-profile.yml\"\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m       \u001b[90m// Try to create duplicate\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m       \u001b[36mawait\u001b[39m expect(createTestProfile([\u001b[32m'service2'\u001b[39m]\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m profileName }))\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m         \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.expect (mcp-local-setup/tests/integration/profile-switching.integration.test.js:86:13)\n\n  ● Profile Switching Integration Tests › Profile Creation › should validate profile yaml structure\n\n    YAMLException: bad indentation of a mapping entry (1:14)\n\n     1 | invalid: yaml: structure:\n    ------------------^\n\n    \u001b[0m \u001b[90m  97 |\u001b[39m\n     \u001b[90m  98 |\u001b[39m       \u001b[90m// Try to load the profile\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  99 |\u001b[39m       \u001b[36mawait\u001b[39m expect(yaml\u001b[33m.\u001b[39mload(\u001b[36mawait\u001b[39m fs\u001b[33m.\u001b[39mreadFile(profilePath\u001b[33m,\u001b[39m \u001b[32m'utf8'\u001b[39m)))\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 100 |\u001b[39m         \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at generateError (mcp-local-setup/node_modules/js-yaml/lib/loader.js:183:10)\n      at throwError (mcp-local-setup/node_modules/js-yaml/lib/loader.js:187:9)\n      at readBlockMapping (mcp-local-setup/node_modules/js-yaml/lib/loader.js:1182:7)\n      at composeNode (mcp-local-setup/node_modules/js-yaml/lib/loader.js:1441:12)\n      at readDocument (mcp-local-setup/node_modules/js-yaml/lib/loader.js:1625:3)\n      at loadDocuments (mcp-local-setup/node_modules/js-yaml/lib/loader.js:1688:5)\n      at Object.load (mcp-local-setup/node_modules/js-yaml/lib/loader.js:1714:19)\n      at Object.load (mcp-local-setup/tests/integration/profile-switching.integration.test.js:99:25)\n\n  ● Profile Switching Integration Tests › Profile Switching › should update docker-compose when switching profiles\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \u001b[36mconst\u001b[39m generated \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m generateCompose()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 161 |\u001b[39m       expect(generated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Docker compose should now contain services from profile1\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mconst\u001b[39m composePath \u001b[33m=\u001b[39m path\u001b[33m.\u001b[39mjoin(\u001b[33mMCP_HOME\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'docker-compose.yml'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/profile-switching.integration.test.js:161:25)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/profile-switching.integration.test.js","startTime":1753397522127,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Production Limits Configuration","Module Loading"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Module Loading should load limits module successfully","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should load limits module successfully"},{"ancestorTitles":["Production Limits Configuration","Module Loading"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Module Loading should have correct limit categories","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should have correct limit categories"},{"ancestorTitles":["Production Limits Configuration","parseTimeToMs Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseTimeToMs Function should parse seconds correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse seconds correctly"},{"ancestorTitles":["Production Limits Configuration","parseTimeToMs Function"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseTimeToMs Function should parse minutes correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse minutes correctly"},{"ancestorTitles":["Production Limits Configuration","parseTimeToMs Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseTimeToMs Function should parse hours correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse hours correctly"},{"ancestorTitles":["Production Limits Configuration","parseTimeToMs Function"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseTimeToMs Function should parse days correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse days correctly"},{"ancestorTitles":["Production Limits Configuration","parseTimeToMs Function"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseTimeToMs Function should throw error for invalid time format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should throw error for invalid time format"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should parse bytes correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse bytes correctly"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should parse kilobytes correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse kilobytes correctly"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should parse megabytes correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse megabytes correctly"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should parse gigabytes correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should parse gigabytes correctly"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should parse terabytes correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should parse terabytes correctly"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should handle case insensitive units","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle case insensitive units"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should handle spaces between number and unit","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle spaces between number and unit"},{"ancestorTitles":["Production Limits Configuration","parseSizeToBytes Function"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration parseSizeToBytes Function should throw error for invalid size format","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should throw error for invalid size format"},{"ancestorTitles":["Production Limits Configuration","Rate Limit Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Rate Limit Configuration should have global rate limit defaults","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have global rate limit defaults"},{"ancestorTitles":["Production Limits Configuration","Rate Limit Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Rate Limit Configuration should override global rate limit from environment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should override global rate limit from environment"},{"ancestorTitles":["Production Limits Configuration","Rate Limit Configuration"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Rate Limit Configuration should have stricter limits for auth endpoints","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have stricter limits for auth endpoints"},{"ancestorTitles":["Production Limits Configuration","Rate Limit Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Rate Limit Configuration should have appropriate API endpoint limits","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have appropriate API endpoint limits"},{"ancestorTitles":["Production Limits Configuration","Rate Limit Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Rate Limit Configuration should skip rate limiting for health endpoints","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip rate limiting for health endpoints"},{"ancestorTitles":["Production Limits Configuration","Rate Limit Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Rate Limit Configuration should have per-user tier limits","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should have per-user tier limits"},{"ancestorTitles":["Production Limits Configuration","getRateLimitConfig Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration getRateLimitConfig Function should return exact match config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return exact match config"},{"ancestorTitles":["Production Limits Configuration","getRateLimitConfig Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration getRateLimitConfig Function should return wildcard match config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return wildcard match config"},{"ancestorTitles":["Production Limits Configuration","getRateLimitConfig Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration getRateLimitConfig Function should prioritize more specific wildcard patterns","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should prioritize more specific wildcard patterns"},{"ancestorTitles":["Production Limits Configuration","getRateLimitConfig Function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration getRateLimitConfig Function should return global config for unmatched endpoints","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return global config for unmatched endpoints"},{"ancestorTitles":["Production Limits Configuration","Storage Quotas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Storage Quotas should have correct storage quotas per tier","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should have correct storage quotas per tier"},{"ancestorTitles":["Production Limits Configuration","API Quotas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration API Quotas should have correct API quotas per tier","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should have correct API quotas per tier"},{"ancestorTitles":["Production Limits Configuration","Service Quotas"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Service Quotas should have correct service quotas per tier","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should have correct service quotas per tier"},{"ancestorTitles":["Production Limits Configuration","Request Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Request Limits should have correct body size limits","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have correct body size limits"},{"ancestorTitles":["Production Limits Configuration","Request Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Request Limits should override body size limits from environment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should override body size limits from environment"},{"ancestorTitles":["Production Limits Configuration","Request Limits"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Request Limits should have query parameter limits","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have query parameter limits"},{"ancestorTitles":["Production Limits Configuration","Request Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Request Limits should have header limits","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have header limits"},{"ancestorTitles":["Production Limits Configuration","Request Limits"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Request Limits should have pagination limits","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have pagination limits"},{"ancestorTitles":["Production Limits Configuration","Request Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Request Limits should have timeout limits","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have timeout limits"},{"ancestorTitles":["Production Limits Configuration","Connection Limits"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Connection Limits should have correct connection limits","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have correct connection limits"},{"ancestorTitles":["Production Limits Configuration","Connection Limits"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Connection Limits should have database pool configuration","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have database pool configuration"},{"ancestorTitles":["Production Limits Configuration","Connection Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Connection Limits should override database pool from environment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should override database pool from environment"},{"ancestorTitles":["Production Limits Configuration","Connection Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Connection Limits should have Redis pool configuration","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have Redis pool configuration"},{"ancestorTitles":["Production Limits Configuration","Processing Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Processing Limits should have CPU limits","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have CPU limits"},{"ancestorTitles":["Production Limits Configuration","Processing Limits"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Processing Limits should have memory limits","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have memory limits"},{"ancestorTitles":["Production Limits Configuration","Processing Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Processing Limits should have task processing limits","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have task processing limits"},{"ancestorTitles":["Production Limits Configuration","Security Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Security Limits should have password requirements","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should have password requirements"},{"ancestorTitles":["Production Limits Configuration","Security Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Security Limits should have session limits","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have session limits"},{"ancestorTitles":["Production Limits Configuration","Security Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Security Limits should have token limits","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have token limits"},{"ancestorTitles":["Production Limits Configuration","Security Limits"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Security Limits should have IP-based security limits","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have IP-based security limits"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","getLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions getLimit should get nested limit values","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get nested limit values"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","getLimit"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions getLimit should throw error for unknown limit paths","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for unknown limit paths"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions checkLimit should check if value is within limit","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check if value is within limit"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","checkLimit"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions checkLimit should handle unlimited values (-1)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle unlimited values (-1)"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","checkLimit"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions checkLimit should throw error for non-numeric limits","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-numeric limits"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","getQuotaForTier"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions getQuotaForTier should get storage quotas for tier","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get storage quotas for tier"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","getQuotaForTier"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions getQuotaForTier should get API quotas for tier","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get API quotas for tier"},{"ancestorTitles":["Production Limits Configuration","Limit Utility Functions","getQuotaForTier"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Production Limits Configuration Limit Utility Functions getQuotaForTier should throw error for unknown tier or quota type","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for unknown tier or quota type"}],"endTime":1753397522423,"message":"","name":"/home/jenner/code/mcps/tests/unit/config/limits.test.js","startTime":1753397522295,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Observability Stack Integration"],"duration":159,"failureDetails":[],"failureMessages":[],"fullName":"Observability Stack Integration Request logging includes metrics correlation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Request logging includes metrics correlation"},{"ancestorTitles":["Observability Stack Integration"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Observability Stack Integration Errors are tracked with context from logs and metrics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Errors are tracked with context from logs and metrics"},{"ancestorTitles":["Observability Stack Integration"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Observability Stack Integration Performance metrics trigger automatic error tracking","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"Performance metrics trigger automatic error tracking"},{"ancestorTitles":["Observability Stack Integration"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Observability Stack Integration Middleware integration provides full observability","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Middleware integration provides full observability"},{"ancestorTitles":["Observability Stack Integration"],"duration":57,"failureDetails":[],"failureMessages":[],"fullName":"Observability Stack Integration Distributed tracing connects logs, metrics, and errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Distributed tracing connects logs, metrics, and errors"}],"endTime":1753397522440,"message":"","name":"/home/jenner/code/mcps/tests/integration/phase6/observability-integration.test.js","startTime":1753397521628,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AWSDeployment","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment constructor should initialize with default values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should initialize with default values"},{"ancestorTitles":["AWSDeployment","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment constructor should use environment variables when available","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use environment variables when available"},{"ancestorTitles":["AWSDeployment","createECSTaskDefinition"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment createECSTaskDefinition should create valid ECS task definition","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should create valid ECS task definition"},{"ancestorTitles":["AWSDeployment","createECSTaskDefinition"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment createECSTaskDefinition should throw error for invalid configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid configuration"},{"ancestorTitles":["AWSDeployment","createECSTaskDefinition"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment createECSTaskDefinition should handle custom port mappings","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle custom port mappings"},{"ancestorTitles":["AWSDeployment","createECSTaskDefinition"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment createECSTaskDefinition should add volumes when specified","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add volumes when specified"},{"ancestorTitles":["AWSDeployment","generateCloudFormationTemplate"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment generateCloudFormationTemplate should generate valid CloudFormation template","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should generate valid CloudFormation template"},{"ancestorTitles":["AWSDeployment","generateCloudFormationTemplate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment generateCloudFormationTemplate should throw error for invalid services","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid services"},{"ancestorTitles":["AWSDeployment","generateCloudFormationTemplate"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment generateCloudFormationTemplate should handle services with load balancer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle services with load balancer"},{"ancestorTitles":["AWSDeployment","configureAutoScaling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment configureAutoScaling should configure CPU-based auto-scaling","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should configure CPU-based auto-scaling"},{"ancestorTitles":["AWSDeployment","configureAutoScaling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment configureAutoScaling should configure memory-based auto-scaling","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should configure memory-based auto-scaling"},{"ancestorTitles":["AWSDeployment","configureAutoScaling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment configureAutoScaling should configure custom metric auto-scaling","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should configure custom metric auto-scaling"},{"ancestorTitles":["AWSDeployment","configureAutoScaling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment configureAutoScaling should throw error for invalid rules","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid rules"},{"ancestorTitles":["AWSDeployment","configureAutoScaling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment configureAutoScaling should throw error for unsupported metric type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unsupported metric type"},{"ancestorTitles":["AWSDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment deploy should create deployment manifest","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create deployment manifest"},{"ancestorTitles":["AWSDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment deploy should throw error for invalid environment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid environment"},{"ancestorTitles":["AWSDeployment","deploy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment deploy should handle deployment failure","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle deployment failure"},{"ancestorTitles":["AWSDeployment","helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment helper methods should format environment variables correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should format environment variables correctly"},{"ancestorTitles":["AWSDeployment","helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AWSDeployment helper methods should sanitize resource names","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should sanitize resource names"}],"endTime":1753397522456,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/deploy/tests/aws.test.js","startTime":1753397522396,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MultiTenancy","createTenantIsolation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy createTenantIsolation should create a new tenant with proper isolation","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create a new tenant with proper isolation"},{"ancestorTitles":["MultiTenancy","createTenantIsolation"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy createTenantIsolation should throw error for invalid tenant ID","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw error for invalid tenant ID"},{"ancestorTitles":["MultiTenancy","createTenantIsolation"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy createTenantIsolation should throw error if tenant already exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if tenant already exists"},{"ancestorTitles":["MultiTenancy","createTenantIsolation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy createTenantIsolation should create tenant directory structure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create tenant directory structure"},{"ancestorTitles":["MultiTenancy","setResourceQuotas"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy setResourceQuotas should set resource quotas for a tenant","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should set resource quotas for a tenant"},{"ancestorTitles":["MultiTenancy","setResourceQuotas"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy setResourceQuotas should throw error for non-existent tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-existent tenant"},{"ancestorTitles":["MultiTenancy","setResourceQuotas"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy setResourceQuotas should validate quota keys","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate quota keys"},{"ancestorTitles":["MultiTenancy","setResourceQuotas"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy setResourceQuotas should validate quota values","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate quota values"},{"ancestorTitles":["MultiTenancy","setResourceQuotas"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy setResourceQuotas should persist quota configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should persist quota configuration"},{"ancestorTitles":["MultiTenancy","integrateBilling"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy integrateBilling should integrate with supported billing providers","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should integrate with supported billing providers"},{"ancestorTitles":["MultiTenancy","integrateBilling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy integrateBilling should throw error for unsupported provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unsupported provider"},{"ancestorTitles":["MultiTenancy","integrateBilling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy integrateBilling should encrypt API keys","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should encrypt API keys"},{"ancestorTitles":["MultiTenancy","integrateBilling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy integrateBilling should use default plans if not provided","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should use default plans if not provided"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should suspend a tenant","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should suspend a tenant"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should resume a suspended tenant","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should resume a suspended tenant"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should throw error when resuming non-suspended tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error when resuming non-suspended tenant"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should schedule tenant for deletion with grace period","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should schedule tenant for deletion with grace period"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should upgrade tenant plan","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should upgrade tenant plan"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should downgrade tenant plan","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should downgrade tenant plan"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should throw error for invalid action","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid action"},{"ancestorTitles":["MultiTenancy","manageTenantLifecycle"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy manageTenantLifecycle should throw error for non-existent tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-existent tenant"},{"ancestorTitles":["MultiTenancy","Helper methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy Helper methods should generate unique network segments","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate unique network segments"},{"ancestorTitles":["MultiTenancy","Helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MultiTenancy Helper methods should generate consistent network segments for same tenant","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate consistent network segments for same tenant"}],"endTime":1753397522465,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/enterprise/tests/tenancy.test.js","startTime":1753397522297,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Backup & Restore Integration Tests","Full Platform Backup"],"duration":45,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Full Platform Backup should create full platform backup","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create full platform backup"},{"ancestorTitles":["Backup & Restore Integration Tests","Full Platform Backup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Full Platform Backup should list backups with metadata","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should list backups with metadata"},{"ancestorTitles":["Backup & Restore Integration Tests","Full Platform Backup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Full Platform Backup should get detailed backup metadata","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get detailed backup metadata"},{"ancestorTitles":["Backup & Restore Integration Tests","Full Platform Backup"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Full Platform Backup should verify backup integrity","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should verify backup integrity"},{"ancestorTitles":["Backup & Restore Integration Tests","Full Platform Backup"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Full Platform Backup should restore from full backup","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should restore from full backup"},{"ancestorTitles":["Backup & Restore Integration Tests","Selective Service Backup"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Selective Service Backup should backup specific services only","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should backup specific services only"},{"ancestorTitles":["Backup & Restore Integration Tests","Selective Service Backup"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Selective Service Backup should restore specific services only","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should restore specific services only"},{"ancestorTitles":["Backup & Restore Integration Tests","Selective Service Backup"],"duration":16,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeLessThan(expected)\n\nExpected: < 993\nReceived:   993","pass":false}}],"failureMessages":["Error: expect(received).toBeLessThan(expected)\n\nExpected: < 993\nReceived:   993\n    at Object.toBeLessThan (/home/jenner/code/mcps/mcp-local-setup/tests/integration/backup.integration.test.js:157:35)"],"fullName":"Backup & Restore Integration Tests Selective Service Backup should handle incremental backups","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should handle incremental backups"},{"ancestorTitles":["Backup & Restore Integration Tests","Scheduled Backups"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Scheduled Backups should schedule automatic backups","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should schedule automatic backups"},{"ancestorTitles":["Backup & Restore Integration Tests","Scheduled Backups"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeInstanceOf(expected)\n\nExpected constructor: Date\n\nReceived value has no prototype\nReceived value: null","pass":false}}],"failureMessages":["Error: expect(received).toBeInstanceOf(expected)\n\nExpected constructor: Date\n\nReceived value has no prototype\nReceived value: null\n    at Object.toBeInstanceOf (/home/jenner/code/mcps/mcp-local-setup/tests/integration/backup.integration.test.js:184:42)"],"fullName":"Backup & Restore Integration Tests Scheduled Backups should list backup schedules","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"failed","title":"should list backup schedules"},{"ancestorTitles":["Backup & Restore Integration Tests","Scheduled Backups"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Scheduled Backups should update backup schedule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update backup schedule"},{"ancestorTitles":["Backup & Restore Integration Tests","Scheduled Backups"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Scheduled Backups should execute scheduled backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should execute scheduled backup"},{"ancestorTitles":["Backup & Restore Integration Tests","Scheduled Backups"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Scheduled Backups should delete backup schedule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should delete backup schedule"},{"ancestorTitles":["Backup & Restore Integration Tests","Cross-Version Compatibility"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Cross-Version Compatibility should restore backup from older platform version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should restore backup from older platform version"},{"ancestorTitles":["Backup & Restore Integration Tests","Cross-Version Compatibility"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Cross-Version Compatibility should handle version-specific migrations during restore","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle version-specific migrations during restore"},{"ancestorTitles":["Backup & Restore Integration Tests","Cross-Version Compatibility"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Cross-Version Compatibility should warn about incompatible version differences","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should warn about incompatible version differences"},{"ancestorTitles":["Backup & Restore Integration Tests","Backup Import/Export"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Backup Import/Export should export backup to external location","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should export backup to external location"},{"ancestorTitles":["Backup & Restore Integration Tests","Backup Import/Export"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Backup Import/Export should import backup from external location","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should import backup from external location"},{"ancestorTitles":["Backup & Restore Integration Tests","Backup Import/Export"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Backup Import/Export should handle S3/cloud storage export","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle S3/cloud storage export"},{"ancestorTitles":["Backup & Restore Integration Tests","Backup Storage Management"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Backup Storage Management should report storage statistics","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should report storage statistics"},{"ancestorTitles":["Backup & Restore Integration Tests","Backup Storage Management"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Backup Storage Management should clean up old backups","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should clean up old backups"},{"ancestorTitles":["Backup & Restore Integration Tests","Backup Storage Management"],"duration":1,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/backup.integration.test.js:298:29)"],"fullName":"Backup & Restore Integration Tests Backup Storage Management should delete specific backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete specific backup"},{"ancestorTitles":["Backup & Restore Integration Tests","Error Handling"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Error Handling should handle restore failures gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle restore failures gracefully"},{"ancestorTitles":["Backup & Restore Integration Tests","Error Handling"],"duration":9,"failureDetails":[{"message":"expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: \"backup-2025-07-24T22-52-02-438Z-7bfbf9bc\""}],"failureMessages":["Error: expect(received).rejects.toThrow()\n\nReceived promise resolved instead of rejected\nResolved to value: \"backup-2025-07-24T22-52-02-438Z-7bfbf9bc\"\n    at expect (/home/jenner/code/mcps/node_modules/expect/build/index.js:113:15)\n    at Object.expect (/home/jenner/code/mcps/mcp-local-setup/tests/integration/backup.integration.test.js:323:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Backup & Restore Integration Tests Error Handling should validate backup options","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate backup options"},{"ancestorTitles":["Backup & Restore Integration Tests","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Error Handling should handle storage space issues","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle storage space issues"},{"ancestorTitles":["Backup & Restore Integration Tests","Dry Run Operations"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Backup & Restore Integration Tests Dry Run Operations should simulate restore without applying changes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should simulate restore without applying changes"}],"endTime":1753397522467,"message":"  ● Backup & Restore Integration Tests › Selective Service Backup › should handle incremental backups\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 993\n    Received:   993\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m             \u001b[36mconst\u001b[39m metadata \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m backup\u001b[33m.\u001b[39mgetBackupMetadata(incrementalId)\u001b[33m;\u001b[39m\n     \u001b[90m 156 |\u001b[39m             expect(metadata\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'incremental'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m             expect(metadata\u001b[33m.\u001b[39msize)\u001b[33m.\u001b[39mtoBeLessThan(metadata\u001b[33m.\u001b[39msize)\u001b[33m;\u001b[39m \u001b[90m// Should be smaller than full\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 160 |\u001b[39m\u001b[0m\n\n      at Object.toBeLessThan (mcp-local-setup/tests/integration/backup.integration.test.js:157:35)\n\n  ● Backup & Restore Integration Tests › Scheduled Backups › should list backup schedules\n\n    expect(received).toBeInstanceOf(expected)\n\n    Expected constructor: Date\n\n    Received value has no prototype\n    Received value: null\n\n    \u001b[0m \u001b[90m 182 |\u001b[39m             expect(testSchedule\u001b[33m.\u001b[39mcronExpression)\u001b[33m.\u001b[39mtoBe(\u001b[32m'0 2 * * *'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 183 |\u001b[39m             expect(testSchedule\u001b[33m.\u001b[39menabled)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m             expect(testSchedule\u001b[33m.\u001b[39mnextRun)\u001b[33m.\u001b[39mtoBeInstanceOf(\u001b[33mDate\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 185 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m         it(\u001b[32m'should update backup schedule'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeInstanceOf (mcp-local-setup/tests/integration/backup.integration.test.js:184:42)\n\n  ● Backup & Restore Integration Tests › Backup Storage Management › should delete specific backup\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 296 |\u001b[39m         it(\u001b[32m'should delete specific backup'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 297 |\u001b[39m             \u001b[36mconst\u001b[39m deleted \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m backup\u001b[33m.\u001b[39mdeleteBackup(testBackupId)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 298 |\u001b[39m             expect(deleted)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 299 |\u001b[39m\n     \u001b[90m 300 |\u001b[39m             \u001b[36mawait\u001b[39m expect(backup\u001b[33m.\u001b[39mgetBackupMetadata(testBackupId))\n     \u001b[90m 301 |\u001b[39m                 \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Backup not found'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/backup.integration.test.js:298:29)\n\n  ● Backup & Restore Integration Tests › Error Handling › should validate backup options\n\n    expect(received).rejects.toThrow()\n\n    Received promise resolved instead of rejected\n    Resolved to value: \"backup-2025-07-24T22-52-02-438Z-7bfbf9bc\"\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m             }\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m             \u001b[36mawait\u001b[39m expect(backup\u001b[33m.\u001b[39mcreateBackup(invalidOptions))\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m                 \u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 325 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.expect (mcp-local-setup/tests/integration/backup.integration.test.js:323:19)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/backup.integration.test.js","startTime":1753397522134,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Security Scan Script Tests","Script Structure Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Structure Validation should have proper shebang","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have proper shebang"},{"ancestorTitles":["Security Scan Script Tests","Script Structure Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Structure Validation should set strict error handling","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set strict error handling"},{"ancestorTitles":["Security Scan Script Tests","Script Structure Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Structure Validation should define color codes for output","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should define color codes for output"},{"ancestorTitles":["Security Scan Script Tests","Script Structure Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Structure Validation should have configurable environment variables","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have configurable environment variables"},{"ancestorTitles":["Security Scan Script Tests","Script Structure Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Structure Validation should create report directory","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create report directory"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have print_status function","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have print_status function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have check_tool function","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should have check_tool function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have install_tools function","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have install_tools function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have scan_with_trivy function","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have scan_with_trivy function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have scan_with_grype function","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have scan_with_grype function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have analyze_dockerfile function","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have analyze_dockerfile function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have check_image_config function","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have check_image_config function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have generate_report function","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have generate_report function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have scan_image function","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should have scan_image function"},{"ancestorTitles":["Security Scan Script Tests","Function Validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Function Validation should have main function","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have main function"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check for USER instruction in Dockerfile","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check for USER instruction in Dockerfile"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check for ADD vs COPY usage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check for ADD vs COPY usage"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check for latest tag usage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check for latest tag usage"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check for apt-get best practices","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check for apt-get best practices"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check for secrets in Dockerfile","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check for secrets in Dockerfile"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check critical vulnerability count","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check critical vulnerability count"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check if container runs as root","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check if container runs as root"},{"ancestorTitles":["Security Scan Script Tests","Security Best Practices Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Security Best Practices Checks should check for environment variable secrets","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check for environment variable secrets"},{"ancestorTitles":["Security Scan Script Tests","Script Execution Flow"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Execution Flow should handle command line arguments","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle command line arguments"},{"ancestorTitles":["Security Scan Script Tests","Script Execution Flow"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Execution Flow should scan all local images when no arguments","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should scan all local images when no arguments"},{"ancestorTitles":["Security Scan Script Tests","Script Execution Flow"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Execution Flow should handle dockerfile argument","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle dockerfile argument"},{"ancestorTitles":["Security Scan Script Tests","Script Execution Flow"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Execution Flow should fail on critical vulnerabilities when configured","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should fail on critical vulnerabilities when configured"},{"ancestorTitles":["Security Scan Script Tests","Script Execution Flow"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Execution Flow should generate timestamped report files","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate timestamped report files"},{"ancestorTitles":["Security Scan Script Tests","Tool Installation Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Tool Installation Checks should check and install Trivy","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check and install Trivy"},{"ancestorTitles":["Security Scan Script Tests","Tool Installation Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Tool Installation Checks should check and install Grype","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check and install Grype"},{"ancestorTitles":["Security Scan Script Tests","Tool Installation Checks"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Tool Installation Checks should check and install Docker Bench Security","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check and install Docker Bench Security"},{"ancestorTitles":["Security Scan Script Tests","Report Generation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Report Generation should create markdown report with proper structure","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create markdown report with proper structure"},{"ancestorTitles":["Security Scan Script Tests","Report Generation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Report Generation should include vulnerability summary in report","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include vulnerability summary in report"},{"ancestorTitles":["Security Scan Script Tests","Report Generation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Report Generation should include security recommendations","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should include security recommendations"},{"ancestorTitles":["Security Scan Script Tests","Script Syntax Validation (requires bash)"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Syntax Validation (requires bash) should have valid bash syntax","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have valid bash syntax"},{"ancestorTitles":["Security Scan Script Tests","Script Syntax Validation (requires bash)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Script Syntax Validation (requires bash) should be executable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should be executable"},{"ancestorTitles":["Security Scan Script Tests","Mock Security Scan Tests"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Mock Security Scan Tests should execute mock security scan functions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should execute mock security scan functions"},{"ancestorTitles":["Security Scan Script Tests","Mock Security Scan Tests"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Security Scan Script Tests Mock Security Scan Tests should analyze mock Dockerfile","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should analyze mock Dockerfile"}],"endTime":1753397522477,"message":"","name":"/home/jenner/code/mcps/tests/integration/docker/security-scan.test.js","startTime":1753397522377,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AlertingSystem","Constructor"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Constructor should initialize with default configuration","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should initialize with default configuration"},{"ancestorTitles":["AlertingSystem","defineAlertRule"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem defineAlertRule should define a valid alert rule","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should define a valid alert rule"},{"ancestorTitles":["AlertingSystem","defineAlertRule"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem defineAlertRule should throw error if rule has no name","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if rule has no name"},{"ancestorTitles":["AlertingSystem","defineAlertRule"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem defineAlertRule should validate severity levels","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate severity levels"},{"ancestorTitles":["AlertingSystem","defineAlertRule"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem defineAlertRule should set default values for optional fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should set default values for optional fields"},{"ancestorTitles":["AlertingSystem","configureNotificationChannel"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem configureNotificationChannel should configure email channel","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should configure email channel"},{"ancestorTitles":["AlertingSystem","configureNotificationChannel"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem configureNotificationChannel should configure Slack channel","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should configure Slack channel"},{"ancestorTitles":["AlertingSystem","configureNotificationChannel"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem configureNotificationChannel should configure webhook channel","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should configure webhook channel"},{"ancestorTitles":["AlertingSystem","configureNotificationChannel"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem configureNotificationChannel should configure console channel","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should configure console channel"},{"ancestorTitles":["AlertingSystem","configureNotificationChannel"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem configureNotificationChannel should throw error for missing channel properties","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for missing channel properties"},{"ancestorTitles":["AlertingSystem","configureNotificationChannel"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem configureNotificationChannel should throw error for unsupported channel type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unsupported channel type"},{"ancestorTitles":["AlertingSystem","setupEscalationPolicy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem setupEscalationPolicy should setup valid escalation policy","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should setup valid escalation policy"},{"ancestorTitles":["AlertingSystem","setupEscalationPolicy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem setupEscalationPolicy should throw error if policy has no name or levels","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if policy has no name or levels"},{"ancestorTitles":["AlertingSystem","setupEscalationPolicy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem setupEscalationPolicy should throw error if levels is empty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if levels is empty"},{"ancestorTitles":["AlertingSystem","setupEscalationPolicy"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem setupEscalationPolicy should set default values for level properties","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should set default values for level properties"},{"ancestorTitles":["AlertingSystem","sendAlert"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem sendAlert should send alert successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should send alert successfully"},{"ancestorTitles":["AlertingSystem","sendAlert"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem sendAlert should throw error if alert has no rule","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if alert has no rule"},{"ancestorTitles":["AlertingSystem","sendAlert"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem sendAlert should throw error if rule not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if rule not found"},{"ancestorTitles":["AlertingSystem","sendAlert"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem sendAlert should throttle alerts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should throttle alerts"},{"ancestorTitles":["AlertingSystem","sendAlert"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem sendAlert should add alert to history","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add alert to history"},{"ancestorTitles":["AlertingSystem","sendAlert"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem sendAlert should handle escalation policy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle escalation policy"},{"ancestorTitles":["AlertingSystem","Notification sending"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Notification sending should send notifications to multiple channels","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should send notifications to multiple channels"},{"ancestorTitles":["AlertingSystem","Notification sending"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Notification sending should handle notification failures gracefully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle notification failures gracefully"},{"ancestorTitles":["AlertingSystem","Alert management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert management should acknowledge alert","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should acknowledge alert"},{"ancestorTitles":["AlertingSystem","Alert management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert management should resolve alert","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should resolve alert"},{"ancestorTitles":["AlertingSystem","Alert management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert management should throw error for non-existent alert","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-existent alert"},{"ancestorTitles":["AlertingSystem","Alert management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert management should get active alerts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get active alerts"},{"ancestorTitles":["AlertingSystem","Alert management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert management should get alert history","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get alert history"},{"ancestorTitles":["AlertingSystem","Alert management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert management should limit history size","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should limit history size"},{"ancestorTitles":["AlertingSystem","Alert statistics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert statistics should get alert statistics","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should get alert statistics"},{"ancestorTitles":["AlertingSystem","Alert statistics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert statistics should clear resolved alerts from history","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clear resolved alerts from history"},{"ancestorTitles":["AlertingSystem","Alert formatting"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert formatting should format alert as text","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should format alert as text"},{"ancestorTitles":["AlertingSystem","Alert formatting"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert formatting should format alert as HTML","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should format alert as HTML"},{"ancestorTitles":["AlertingSystem","Alert formatting"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert formatting should get correct severity color","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get correct severity color"},{"ancestorTitles":["AlertingSystem","Alert ID generation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem Alert ID generation should generate unique alert IDs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate unique alert IDs"},{"ancestorTitles":["AlertingSystem","History management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertingSystem History management should maintain history size limit","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should maintain history size limit"}],"endTime":1753397522491,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/monitoring/tests/alerting-system.test.js","startTime":1753397522289,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration deploys a basic stack","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"deploys a basic stack"},{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration scales services","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"scales services"},{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration enables auto-scaling","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"enables auto-scaling"},{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration creates ConfigMaps and Secrets","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"creates ConfigMaps and Secrets"},{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration gets service endpoints","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"gets service endpoints"},{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration installs Helm charts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"installs Helm charts"},{"ancestorTitles":["Orchestration Implementation","Kubernetes Orchestration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Kubernetes Orchestration gets deployment status and resource usage","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"gets deployment status and resource usage"},{"ancestorTitles":["Orchestration Implementation","Docker Swarm Orchestration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Docker Swarm Orchestration deploys a stack to Swarm","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"deploys a stack to Swarm"},{"ancestorTitles":["Orchestration Implementation","Docker Swarm Orchestration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Docker Swarm Orchestration updates a Swarm stack","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"updates a Swarm stack"},{"ancestorTitles":["Orchestration Implementation","Docker Swarm Orchestration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Docker Swarm Orchestration Helm not supported on Swarm","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Helm not supported on Swarm"},{"ancestorTitles":["Orchestration Implementation","Cross-Platform Features"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Cross-Platform Features delete stack works on both platforms","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"delete stack works on both platforms"},{"ancestorTitles":["Orchestration Implementation","Cross-Platform Features"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Cross-Platform Features service discovery works on both platforms","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"service discovery works on both platforms"},{"ancestorTitles":["Orchestration Implementation","Integration with CI/CD"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration Implementation Integration with CI/CD deploys built artifacts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"deploys built artifacts"}],"endTime":1753397522491,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/orchestration-only.test.js","startTime":1753397522461,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":43,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should create instance successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create instance successfully"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should initialize Prometheus","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize Prometheus"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should collect service metrics","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should collect service metrics"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should track performance metrics","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should track performance metrics"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should export metrics","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export metrics"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should handle errors properly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle errors properly"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should record HTTP requests","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should record HTTP requests"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should update active services","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update active services"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should record errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should record errors"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should get system metrics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get system metrics"},{"ancestorTitles":["MetricsCollector - Simple Tests","Basic functionality"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"MetricsCollector - Simple Tests Basic functionality should clear metrics properly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clear metrics properly"}],"endTime":1753397522494,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/monitoring/tests/metrics-collector-simple.test.js","startTime":1753397522316,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SDK and CLI Plugin Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SDK and CLI Plugin Integration CLI plugin can authenticate using SDK","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"CLI plugin can authenticate using SDK"},{"ancestorTitles":["SDK and CLI Plugin Integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SDK and CLI Plugin Integration CLI plugin can list and install services via SDK","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"CLI plugin can list and install services via SDK"},{"ancestorTitles":["SDK and CLI Plugin Integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SDK and CLI Plugin Integration CLI plugin can monitor service health through SDK","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"CLI plugin can monitor service health through SDK"},{"ancestorTitles":["SDK and CLI Plugin Integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SDK and CLI Plugin Integration Plugin loader validates plugin interface implementation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Plugin loader validates plugin interface implementation"},{"ancestorTitles":["SDK and CLI Plugin Integration"],"duration":151,"failureDetails":[],"failureMessages":[],"fullName":"SDK and CLI Plugin Integration SDK events are accessible to CLI plugins","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"SDK events are accessible to CLI plugins"}],"endTime":1753397522495,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/sdk-cli-integration.test.js","startTime":1753397522304,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ErrorTracker Unit Tests","Error capture"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Error capture should capture exceptions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should capture exceptions"},{"ancestorTitles":["ErrorTracker Unit Tests","Error capture"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Error capture should capture with context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should capture with context"},{"ancestorTitles":["ErrorTracker Unit Tests","Error capture"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Error capture should respect sample rate","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should respect sample rate"},{"ancestorTitles":["ErrorTracker Unit Tests","Message capture"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Message capture should capture messages","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should capture messages"},{"ancestorTitles":["ErrorTracker Unit Tests","Message capture"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Message capture should capture with different levels","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should capture with different levels"},{"ancestorTitles":["ErrorTracker Unit Tests","Context management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Context management should set user context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set user context"},{"ancestorTitles":["ErrorTracker Unit Tests","Context management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Context management should set tags","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set tags"},{"ancestorTitles":["ErrorTracker Unit Tests","Context management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Context management should set extra context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set extra context"},{"ancestorTitles":["ErrorTracker Unit Tests","Breadcrumbs"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Breadcrumbs should add breadcrumbs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should add breadcrumbs"},{"ancestorTitles":["ErrorTracker Unit Tests","Breadcrumbs"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Breadcrumbs should limit breadcrumbs","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should limit breadcrumbs"},{"ancestorTitles":["ErrorTracker Unit Tests","Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Middleware should create error handler middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create error handler middleware"},{"ancestorTitles":["ErrorTracker Unit Tests","Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Middleware should handle errors in middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle errors in middleware"},{"ancestorTitles":["ErrorTracker Unit Tests","Middleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Middleware should create request handler middleware","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create request handler middleware"},{"ancestorTitles":["ErrorTracker Unit Tests","Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Middleware should add request breadcrumbs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add request breadcrumbs"},{"ancestorTitles":["ErrorTracker Unit Tests","Performance monitoring"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Performance monitoring should start transaction","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should start transaction"},{"ancestorTitles":["ErrorTracker Unit Tests","Performance monitoring"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Performance monitoring should set transaction tags","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set transaction tags"},{"ancestorTitles":["ErrorTracker Unit Tests","Performance monitoring"],"duration":100,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Performance monitoring should finish transaction","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should finish transaction"},{"ancestorTitles":["ErrorTracker Unit Tests","Alert configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Alert configuration should configure alerts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should configure alerts"},{"ancestorTitles":["ErrorTracker Unit Tests","Error boundary"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Error boundary should create error boundary","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create error boundary"},{"ancestorTitles":["ErrorTracker Unit Tests","Private methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Private methods should generate unique event IDs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate unique event IDs"},{"ancestorTitles":["ErrorTracker Unit Tests","Private methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Private methods should parse stack traces","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should parse stack traces"},{"ancestorTitles":["ErrorTracker Unit Tests","Private methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ErrorTracker Unit Tests Private methods should filter headers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should filter headers"}],"endTime":1753397522501,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/error-tracker.test.js","startTime":1753397522339,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PrometheusExporter","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["PrometheusExporter","constructor"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter constructor should set default labels","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set default labels"},{"ancestorTitles":["PrometheusExporter","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter constructor should initialize built-in exporters","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should initialize built-in exporters"},{"ancestorTitles":["PrometheusExporter","HTTP exporter"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter HTTP exporter should create HTTP metrics","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create HTTP metrics"},{"ancestorTitles":["PrometheusExporter","HTTP exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter HTTP exporter should create middleware function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create middleware function"},{"ancestorTitles":["PrometheusExporter","HTTP exporter"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter HTTP exporter should track HTTP requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track HTTP requests"},{"ancestorTitles":["PrometheusExporter","Database exporter"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Database exporter should create database metrics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should create database metrics"},{"ancestorTitles":["PrometheusExporter","Database exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Database exporter should track database queries","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track database queries"},{"ancestorTitles":["PrometheusExporter","Database exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Database exporter should track database connections","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track database connections"},{"ancestorTitles":["PrometheusExporter","Cache exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Cache exporter should create cache metrics","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create cache metrics"},{"ancestorTitles":["PrometheusExporter","Cache exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Cache exporter should track cache operations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track cache operations"},{"ancestorTitles":["PrometheusExporter","Business exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Business exporter should create business metrics","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create business metrics"},{"ancestorTitles":["PrometheusExporter","Business exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Business exporter should track business events","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track business events"},{"ancestorTitles":["PrometheusExporter","Custom exporter"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Custom exporter should create custom metrics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create custom metrics"},{"ancestorTitles":["PrometheusExporter","Custom exporter"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Custom exporter should throw error for unknown metric type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown metric type"},{"ancestorTitles":["PrometheusExporter","Metrics endpoint"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Metrics endpoint should create metrics endpoint router","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create metrics endpoint router"},{"ancestorTitles":["PrometheusExporter","Metrics endpoint"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Metrics endpoint should return metrics in Prometheus format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return metrics in Prometheus format"},{"ancestorTitles":["PrometheusExporter","Utility methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Utility methods should clear all metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should clear all metrics"},{"ancestorTitles":["PrometheusExporter","Utility methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Utility methods should reset specific metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reset specific metrics"},{"ancestorTitles":["PrometheusExporter","Utility methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PrometheusExporter Utility methods should reset all metrics in exporter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reset all metrics in exporter"}],"endTime":1753397522502,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/prometheus-exporter.test.js","startTime":1753397522384,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["WinstonConfig","constructor"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["WinstonConfig","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["WinstonConfig","createLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig createLogger should create a winston logger instance","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create a winston logger instance"},{"ancestorTitles":["WinstonConfig","createLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig createLogger should include default metadata","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should include default metadata"},{"ancestorTitles":["WinstonConfig","createLogger"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig createLogger should have request logger middleware","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have request logger middleware"},{"ancestorTitles":["WinstonConfig","createLogger"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig createLogger should have performance measurement method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have performance measurement method"},{"ancestorTitles":["WinstonConfig","createLogger"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig createLogger should have audit logging method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have audit logging method"},{"ancestorTitles":["WinstonConfig","request logging"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig request logging should create request logger middleware","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create request logger middleware"},{"ancestorTitles":["WinstonConfig","request logging"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig request logging should sanitize sensitive headers","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should sanitize sensitive headers"},{"ancestorTitles":["WinstonConfig","log level management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig log level management should update log level dynamically","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update log level dynamically"},{"ancestorTitles":["WinstonConfig","environment-specific formatting"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig environment-specific formatting should use JSON format in production","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use JSON format in production"},{"ancestorTitles":["WinstonConfig","environment-specific formatting"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig environment-specific formatting should use colorized format in development","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use colorized format in development"},{"ancestorTitles":["WinstonConfig","transport configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig transport configuration should enable console transport by default","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should enable console transport by default"},{"ancestorTitles":["WinstonConfig","transport configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig transport configuration should not create Elasticsearch transport without config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not create Elasticsearch transport without config"},{"ancestorTitles":["WinstonConfig","transport configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"WinstonConfig transport configuration should not create CloudWatch transport without config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not create CloudWatch transport without config"}],"endTime":1753397522505,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/winston-config.test.js","startTime":1753397522384,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ReadinessProbe","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe constructor should set default values","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should set default values"},{"ancestorTitles":["ReadinessProbe","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["ReadinessProbe","parseDependencies()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe parseDependencies() should parse DATABASE_URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should parse DATABASE_URL"},{"ancestorTitles":["ReadinessProbe","parseDependencies()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe parseDependencies() should use default PostgreSQL port","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use default PostgreSQL port"},{"ancestorTitles":["ReadinessProbe","parseDependencies()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe parseDependencies() should parse REDIS_URL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should parse REDIS_URL"},{"ancestorTitles":["ReadinessProbe","parseDependencies()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe parseDependencies() should use default Redis port","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use default Redis port"},{"ancestorTitles":["ReadinessProbe","parseDependencies()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe parseDependencies() should parse DEPENDENCY_SERVICES","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should parse DEPENDENCY_SERVICES"},{"ancestorTitles":["ReadinessProbe","parseDependencies()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe parseDependencies() should handle invalid dependency URLs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle invalid dependency URLs"},{"ancestorTitles":["ReadinessProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe check() should resolve when receiving valid JSON response with ready=true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve when receiving valid JSON response with ready=true"},{"ancestorTitles":["ReadinessProbe","check()"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe check() should reject when receiving JSON response with ready=false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject when receiving JSON response with ready=false"},{"ancestorTitles":["ReadinessProbe","check()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe check() should resolve for status 200 without valid JSON","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve for status 200 without valid JSON"},{"ancestorTitles":["ReadinessProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe check() should reject for 503 status code","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject for 503 status code"},{"ancestorTitles":["ReadinessProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe check() should handle connection errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle connection errors"},{"ancestorTitles":["ReadinessProbe","check()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe check() should handle request timeout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle request timeout"},{"ancestorTitles":["ReadinessProbe","checkTcpConnection()"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkTcpConnection() should resolve when connection succeeds","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should resolve when connection succeeds"},{"ancestorTitles":["ReadinessProbe","checkTcpConnection()"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkTcpConnection() should reject on connection timeout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject on connection timeout"},{"ancestorTitles":["ReadinessProbe","checkTcpConnection()"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkTcpConnection() should reject on connection error","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject on connection error"},{"ancestorTitles":["ReadinessProbe","checkTcpConnection()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkTcpConnection() should use custom timeout","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom timeout"},{"ancestorTitles":["ReadinessProbe","checkHttpDependency()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkHttpDependency() should resolve for successful HTTP check","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should resolve for successful HTTP check"},{"ancestorTitles":["ReadinessProbe","checkHttpDependency()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkHttpDependency() should reject for non-2xx status","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject for non-2xx status"},{"ancestorTitles":["ReadinessProbe","checkHttpDependency()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkHttpDependency() should handle HTTPS dependencies","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle HTTPS dependencies"},{"ancestorTitles":["ReadinessProbe","checkHttpDependency()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkHttpDependency() should use default health path","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use default health path"},{"ancestorTitles":["ReadinessProbe","checkDependencies()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkDependencies() should check all dependencies successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should check all dependencies successfully"},{"ancestorTitles":["ReadinessProbe","checkDependencies()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkDependencies() should handle dependency failures","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle dependency failures"},{"ancestorTitles":["ReadinessProbe","checkDependencies()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkDependencies() should return ready=true when no dependencies","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return ready=true when no dependencies"},{"ancestorTitles":["ReadinessProbe","checkDns()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkDns() should return working status when DNS resolves","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return working status when DNS resolves"},{"ancestorTitles":["ReadinessProbe","checkDns()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe checkDns() should return failed status when DNS fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return failed status when DNS fails"},{"ancestorTitles":["ReadinessProbe","fullCheck()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe fullCheck() should perform all checks successfully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should perform all checks successfully"},{"ancestorTitles":["ReadinessProbe","fullCheck()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe fullCheck() should handle app check failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle app check failure"},{"ancestorTitles":["ReadinessProbe","fullCheck()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe fullCheck() should handle dependency check failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle dependency check failure"},{"ancestorTitles":["ReadinessProbe","fullCheck()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe fullCheck() should handle DNS check failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle DNS check failure"},{"ancestorTitles":["ReadinessProbe","fullCheck()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe fullCheck() should skip dependency check when no dependencies","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip dependency check when no dependencies"},{"ancestorTitles":["ReadinessProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe CLI execution should exit 0 when all checks pass","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should exit 0 when all checks pass"},{"ancestorTitles":["ReadinessProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe CLI execution should exit 1 when checks fail","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should exit 1 when checks fail"},{"ancestorTitles":["ReadinessProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"ReadinessProbe CLI execution should handle check errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should handle check errors"}],"endTime":1753397522515,"message":"","name":"/home/jenner/code/mcps/tests/unit/docker/health/readiness.test.js","startTime":1753397522427,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["SSOAuthentication","configureSAML"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication configureSAML should configure SAML provider with valid config","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should configure SAML provider with valid config"},{"ancestorTitles":["SSOAuthentication","configureSAML"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication configureSAML should throw error for missing required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for missing required fields"},{"ancestorTitles":["SSOAuthentication","configureSAML"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication configureSAML should use default values for optional fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should use default values for optional fields"},{"ancestorTitles":["SSOAuthentication","configureSAML"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication configureSAML should store provider configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should store provider configuration"},{"ancestorTitles":["SSOAuthentication","setupOAuth2"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication setupOAuth2 should setup OAuth2 provider with valid config","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should setup OAuth2 provider with valid config"},{"ancestorTitles":["SSOAuthentication","setupOAuth2"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication setupOAuth2 should encrypt client secret","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should encrypt client secret"},{"ancestorTitles":["SSOAuthentication","setupOAuth2"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication setupOAuth2 should generate PKCE challenge when enabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate PKCE challenge when enabled"},{"ancestorTitles":["SSOAuthentication","setupOAuth2"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication setupOAuth2 should build authorization URL with parameters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should build authorization URL with parameters"},{"ancestorTitles":["SSOAuthentication","integrateLDAP"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication integrateLDAP should integrate LDAP with valid config","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should integrate LDAP with valid config"},{"ancestorTitles":["SSOAuthentication","integrateLDAP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication integrateLDAP should encrypt bind password","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should encrypt bind password"},{"ancestorTitles":["SSOAuthentication","integrateLDAP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication integrateLDAP should use default search filters","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use default search filters"},{"ancestorTitles":["SSOAuthentication","integrateLDAP"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication integrateLDAP should throw error for missing required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for missing required fields"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should authenticate via SAML","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should authenticate via SAML"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should authenticate via OAuth2","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should authenticate via OAuth2"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should authenticate via LDAP","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should authenticate via LDAP"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should throw error for invalid provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid provider"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should throw error for LDAP without credentials","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for LDAP without credentials"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should create and store session","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create and store session"},{"ancestorTitles":["SSOAuthentication","authenticate"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication authenticate should generate valid JWT tokens","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate valid JWT tokens"},{"ancestorTitles":["SSOAuthentication","Provider management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication Provider management should find provider by exact match","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should find provider by exact match"},{"ancestorTitles":["SSOAuthentication","Provider management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication Provider management should find provider by suffix match","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should find provider by suffix match"},{"ancestorTitles":["SSOAuthentication","Token generation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication Token generation should generate access token with correct claims","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate access token with correct claims"},{"ancestorTitles":["SSOAuthentication","Token generation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SSOAuthentication Token generation should generate refresh token with longer expiry","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate refresh token with longer expiry"}],"endTime":1753397522522,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/enterprise/tests/authentication.test.js","startTime":1753397522402,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Production Deployment Integration"],"duration":49,"failureDetails":[],"failureMessages":[],"fullName":"Production Deployment Integration Production startup sequence","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"Production startup sequence"},{"ancestorTitles":["Production Deployment Integration"],"duration":129,"failureDetails":[{}],"failureMessages":["Error: Added label \"status\" is not included in initial labelset: []\n    at validateLabel (/home/jenner/code/mcps/node_modules/prom-client/lib/validation.js:20:10)\n    at /home/jenner/code/mcps/node_modules/prom-client/lib/histogram.js:235:3\n    at Histogram.observeWithoutExemplar (/home/jenner/code/mcps/node_modules/prom-client/lib/histogram.js:74:54)\n    at /home/jenner/code/mcps/node_modules/prom-client/lib/histogram.js:185:9\n    at Object.requestTimer (/home/jenner/code/mcps/tests/integration/phase6/production-deployment.test.js:151:7)"],"fullName":"Production Deployment Integration Production request flow with all components","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"failed","title":"Production request flow with all components"},{"ancestorTitles":["Production Deployment Integration"],"duration":3,"failureDetails":[{}],"failureMessages":["ReferenceError: Cannot access 'health' before initialization\n    at Object.<anonymous> (/home/jenner/code/mcps/tests/integration/phase6/production-deployment.test.js:183:20)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Production Deployment Integration Production monitoring and alerting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Production monitoring and alerting"},{"ancestorTitles":["Production Deployment Integration"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"Production Deployment Integration Graceful shutdown sequence","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Graceful shutdown sequence"}],"endTime":1753397522523,"message":"  ● Production Deployment Integration › Production request flow with all components\n\n    Added label \"status\" is not included in initial labelset: []\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m       requestLogger\u001b[33m.\u001b[39merror(\u001b[32m'Request failed'\u001b[39m\u001b[33m,\u001b[39m error)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m       requestTimer({ status\u001b[33m:\u001b[39m \u001b[35m500\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m     } \u001b[36mfinally\u001b[39m {\n     \u001b[90m 153 |\u001b[39m       transaction\u001b[33m.\u001b[39mfinish()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m     }\u001b[0m\n\n      at validateLabel (node_modules/prom-client/lib/validation.js:20:10)\n      at node_modules/prom-client/lib/histogram.js:235:3\n      at Histogram.observeWithoutExemplar (node_modules/prom-client/lib/histogram.js:74:54)\n      at node_modules/prom-client/lib/histogram.js:185:9\n      at Object.requestTimer (tests/integration/phase6/production-deployment.test.js:151:7)\n\n  ● Production Deployment Integration › Production monitoring and alerting\n\n    ReferenceError: Cannot access 'health' before initialization\n\n    \u001b[0m \u001b[90m 181 |\u001b[39m\n     \u001b[90m 182 |\u001b[39m     \u001b[90m// Check health degradation\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 183 |\u001b[39m     \u001b[36mconst\u001b[39m health \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m health\u001b[33m.\u001b[39mcheckHealth()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 184 |\u001b[39m     expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'degraded'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 185 |\u001b[39m\n     \u001b[90m 186 |\u001b[39m     \u001b[90m// Verify metrics\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (tests/integration/phase6/production-deployment.test.js:183:20)\n","name":"/home/jenner/code/mcps/tests/integration/phase6/production-deployment.test.js","startTime":1753397521633,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Docker Production Setup","Production Dockerfiles"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Production Dockerfiles Node.js Dockerfile exists and has required stages","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"Node.js Dockerfile exists and has required stages"},{"ancestorTitles":["Docker Production Setup","Production Dockerfiles"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Production Dockerfiles Python Dockerfile exists and has required stages","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"Python Dockerfile exists and has required stages"},{"ancestorTitles":["Docker Production Setup","Docker Compose Production"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Docker Compose Production All required services are defined","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"All required services are defined"},{"ancestorTitles":["Docker Production Setup","Docker Compose Production"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Docker Compose Production Services have resource limits","invocations":1,"location":null,"numPassingAsserts":24,"retryReasons":[],"status":"passed","title":"Services have resource limits"},{"ancestorTitles":["Docker Production Setup","Docker Compose Production"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Docker Compose Production Services have health checks","invocations":1,"location":null,"numPassingAsserts":30,"retryReasons":[],"status":"passed","title":"Services have health checks"},{"ancestorTitles":["Docker Production Setup","Docker Compose Production"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Docker Compose Production Production networking is configured","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"Production networking is configured"},{"ancestorTitles":["Docker Production Setup","Docker Compose Production"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Docker Compose Production Volumes are properly configured","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"Volumes are properly configured"},{"ancestorTitles":["Docker Production Setup","Docker Compose Production"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Docker Compose Production Logging is configured for all services","invocations":1,"location":null,"numPassingAsserts":30,"retryReasons":[],"status":"passed","title":"Logging is configured for all services"},{"ancestorTitles":["Docker Production Setup","Health Monitoring"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Health Monitoring Health monitor server exists","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Health monitor server exists"},{"ancestorTitles":["Docker Production Setup","Health Monitoring"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Health Monitoring Health monitor package.json exists","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Health monitor package.json exists"},{"ancestorTitles":["Docker Production Setup","Production Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Production Configuration Nginx configuration exists","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"Nginx configuration exists"},{"ancestorTitles":["Docker Production Setup","Production Configuration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Production Configuration Production environment example exists","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Production environment example exists"},{"ancestorTitles":["Docker Production Setup","Production Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Production Configuration Graceful shutdown handler exists","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Graceful shutdown handler exists"},{"ancestorTitles":["Docker Production Setup","Documentation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Docker Production Setup Documentation Production README exists and is comprehensive","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"Production README exists and is comprehensive"}],"endTime":1753397522530,"message":"","name":"/home/jenner/code/mcps/tests/docker-production.test.js","startTime":1753397522469,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GCPDeployment","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment constructor should initialize with default values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should initialize with default values"},{"ancestorTitles":["GCPDeployment","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment constructor should use environment variables when available","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use environment variables when available"},{"ancestorTitles":["GCPDeployment","configureCloudRun"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment configureCloudRun should create valid Cloud Run configuration","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should create valid Cloud Run configuration"},{"ancestorTitles":["GCPDeployment","configureCloudRun"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment configureCloudRun should throw error for invalid configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid configuration"},{"ancestorTitles":["GCPDeployment","configureCloudRun"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment configureCloudRun should handle VPC connector configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle VPC connector configuration"},{"ancestorTitles":["GCPDeployment","configureCloudRun"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment configureCloudRun should handle Cloud SQL connections","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle Cloud SQL connections"},{"ancestorTitles":["GCPDeployment","configureCloudRun"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment configureCloudRun should handle auto-scaling configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should handle auto-scaling configuration"},{"ancestorTitles":["GCPDeployment","generateTerraformModules"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment generateTerraformModules should generate valid Terraform modules","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should generate valid Terraform modules"},{"ancestorTitles":["GCPDeployment","generateTerraformModules"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment generateTerraformModules should throw error for invalid infrastructure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid infrastructure"},{"ancestorTitles":["GCPDeployment","generateTerraformModules"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment generateTerraformModules should generate load balancer module when specified","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate load balancer module when specified"},{"ancestorTitles":["GCPDeployment","generateTerraformModules"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment generateTerraformModules should sanitize Terraform resource names","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should sanitize Terraform resource names"},{"ancestorTitles":["GCPDeployment","setupLoadBalancing"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment setupLoadBalancing should configure load balancing with multiple services","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should configure load balancing with multiple services"},{"ancestorTitles":["GCPDeployment","setupLoadBalancing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment setupLoadBalancing should throw error for invalid configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid configuration"},{"ancestorTitles":["GCPDeployment","setupLoadBalancing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment setupLoadBalancing should configure host-based routing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should configure host-based routing"},{"ancestorTitles":["GCPDeployment","setupLoadBalancing"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment setupLoadBalancing should configure security policy","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should configure security policy"},{"ancestorTitles":["GCPDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment deploy should create deployment manifest","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should create deployment manifest"},{"ancestorTitles":["GCPDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment deploy should throw error for invalid environment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should throw error for invalid environment"},{"ancestorTitles":["GCPDeployment","deploy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment deploy should handle deployment without load balancer","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle deployment without load balancer"},{"ancestorTitles":["GCPDeployment","deploy"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment deploy should include Terraform modules in manifest","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include Terraform modules in manifest"},{"ancestorTitles":["GCPDeployment","helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment helper methods should format environment variables correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should format environment variables correctly"},{"ancestorTitles":["GCPDeployment","helper methods"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment helper methods should sanitize Terraform names","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should sanitize Terraform names"},{"ancestorTitles":["GCPDeployment","helper methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GCPDeployment helper methods should format Terraform JSON correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should format Terraform JSON correctly"}],"endTime":1753397522528,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/deploy/tests/gcp.test.js","startTime":1753397522475,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ConfigValidator","validateEnvironmentConstraints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateEnvironmentConstraints should validate production constraints","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should validate production constraints"},{"ancestorTitles":["ConfigValidator","validateEnvironmentConstraints"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateEnvironmentConstraints should validate development constraints","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate development constraints"},{"ancestorTitles":["ConfigValidator","validateEnvironmentConstraints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateEnvironmentConstraints should validate staging constraints","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate staging constraints"},{"ancestorTitles":["ConfigValidator","validateSecurity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateSecurity should detect plain text secrets","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should detect plain text secrets"},{"ancestorTitles":["ConfigValidator","validateSecurity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateSecurity should validate auth configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate auth configuration"},{"ancestorTitles":["ConfigValidator","validateSecurity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateSecurity should validate rate limiting configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate rate limiting configuration"},{"ancestorTitles":["ConfigValidator","validateServiceDependencies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateServiceDependencies should validate service dependencies are met","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate service dependencies are met"},{"ancestorTitles":["ConfigValidator","validateServiceDependencies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateServiceDependencies should pass when all dependencies are met","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should pass when all dependencies are met"},{"ancestorTitles":["ConfigValidator","validateCompleteness"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateCompleteness should calculate configuration coverage","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should calculate configuration coverage"},{"ancestorTitles":["ConfigValidator","validateCompleteness"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator validateCompleteness should not warn when coverage is good","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not warn when coverage is good"},{"ancestorTitles":["ConfigValidator","custom validators"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator custom validators should register and use custom validators","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should register and use custom validators"},{"ancestorTitles":["ConfigValidator","nested validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator nested validation should validate deeply nested configurations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate deeply nested configurations"},{"ancestorTitles":["ConfigValidator","nested validation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ConfigValidator nested validation should handle arrays in configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle arrays in configuration"}],"endTime":1753397522538,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/config/config-validator.test.js","startTime":1753397522504,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration CI/CD deploys built artifacts to Kubernetes","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"CI/CD deploys built artifacts to Kubernetes"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Pipeline generates correct orchestration configs","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Pipeline generates correct orchestration configs"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Rollback works across CI/CD and orchestration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Rollback works across CI/CD and orchestration"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Orchestration scaling updates CI/CD metrics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Orchestration scaling updates CI/CD metrics"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Helm charts are generated from CI/CD and deployed","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Helm charts are generated from CI/CD and deployed"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Docker Swarm deployment via CI/CD","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Docker Swarm deployment via CI/CD"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Multi-platform deployment coordination","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Multi-platform deployment coordination"},{"ancestorTitles":["Orchestration and CI/CD Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Orchestration and CI/CD Integration Environment-specific configurations","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"Environment-specific configurations"}],"endTime":1753397522549,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/orchestration-cicd-only.test.js","startTime":1753397522505,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["JWTAuth","Token Generation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Token Generation should generate access and refresh tokens","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate access and refresh tokens"},{"ancestorTitles":["JWTAuth","Token Generation"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Token Generation should throw error for invalid payload","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid payload"},{"ancestorTitles":["JWTAuth","Token Verification"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Token Verification should verify valid token","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should verify valid token"},{"ancestorTitles":["JWTAuth","Token Verification"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Token Verification should reject invalid token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject invalid token"},{"ancestorTitles":["JWTAuth","Token Verification"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Token Verification should reject revoked token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should reject revoked token"},{"ancestorTitles":["JWTAuth","API Key Management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth API Key Management should generate API key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate API key"},{"ancestorTitles":["JWTAuth","API Key Management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth API Key Management should validate API key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate API key"},{"ancestorTitles":["JWTAuth","API Key Management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth API Key Management should revoke API key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should revoke API key"},{"ancestorTitles":["JWTAuth","Middleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Middleware should create auth middleware","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create auth middleware"},{"ancestorTitles":["JWTAuth","Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Middleware middleware should reject missing auth header","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"middleware should reject missing auth header"},{"ancestorTitles":["JWTAuth","Middleware"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"JWTAuth Middleware middleware should pass valid token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"middleware should pass valid token"}],"endTime":1753397522550,"message":"","name":"/home/jenner/code/mcps/tests/unit/security/jwt-auth.test.js","startTime":1753397522450,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CustomMetrics","constructor"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics constructor should initialize all metric categories","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should initialize all metric categories"},{"ancestorTitles":["CustomMetrics","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics constructor should use custom prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use custom prefix"},{"ancestorTitles":["CustomMetrics","MCP metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics MCP metrics should track MCP connections","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track MCP connections"},{"ancestorTitles":["CustomMetrics","MCP metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics MCP metrics should track MCP messages","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track MCP messages"},{"ancestorTitles":["CustomMetrics","MCP metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics MCP metrics should track MCP tool invocations","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track MCP tool invocations"},{"ancestorTitles":["CustomMetrics","User metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics User metrics should update user metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update user metrics"},{"ancestorTitles":["CustomMetrics","Revenue metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Revenue metrics should track revenue","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track revenue"},{"ancestorTitles":["CustomMetrics","Revenue metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Revenue metrics should update MRR","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update MRR"},{"ancestorTitles":["CustomMetrics","Security metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Security metrics should track security events","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track security events"},{"ancestorTitles":["CustomMetrics","Security metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Security metrics should track authentication attempts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track authentication attempts"},{"ancestorTitles":["CustomMetrics","SLA metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics SLA metrics should update SLA metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update SLA metrics"},{"ancestorTitles":["CustomMetrics","Metric management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Metric management should get all metric values","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get all metric values"},{"ancestorTitles":["CustomMetrics","Metric management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Metric management should reset all metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reset all metrics"},{"ancestorTitles":["CustomMetrics","Content metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Content metrics should have content metrics initialized","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have content metrics initialized"},{"ancestorTitles":["CustomMetrics","Integration metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Integration metrics should have integration metrics initialized","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have integration metrics initialized"},{"ancestorTitles":["CustomMetrics","Data quality metrics"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CustomMetrics Data quality metrics should have data quality metrics initialized","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should have data quality metrics initialized"}],"endTime":1753397522563,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/custom-metrics.test.js","startTime":1753397522480,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["RateLimiter","Rate Limiting"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Rate Limiting should allow requests within limit","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"should allow requests within limit"},{"ancestorTitles":["RateLimiter","Rate Limiting"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Rate Limiting should block requests over limit","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should block requests over limit"},{"ancestorTitles":["RateLimiter","Rate Limiting"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Rate Limiting should respect time windows","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should respect time windows"},{"ancestorTitles":["RateLimiter","Rule Management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Rule Management should add new rule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add new rule"},{"ancestorTitles":["RateLimiter","Rule Management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Rule Management should update existing rule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update existing rule"},{"ancestorTitles":["RateLimiter","Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Middleware should create IP rate limiter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create IP rate limiter"},{"ancestorTitles":["RateLimiter","Middleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Middleware should create user rate limiter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create user rate limiter"},{"ancestorTitles":["RateLimiter","Middleware"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Middleware IP rate limiter should block excessive requests","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"IP rate limiter should block excessive requests"},{"ancestorTitles":["RateLimiter","Token Consumption"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Token Consumption should consume multiple tokens at once","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should consume multiple tokens at once"},{"ancestorTitles":["RateLimiter","Token Consumption"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"RateLimiter Token Consumption should block when consuming too many tokens","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should block when consuming too many tokens"}],"endTime":1753397522567,"message":"","name":"/home/jenner/code/mcps/tests/unit/security/rate-limiter.test.js","startTime":1753397522529,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Cloud Deployment Integration","Module Exports"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Module Exports should export AWS deployment class","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export AWS deployment class"},{"ancestorTitles":["Cloud Deployment Integration","Module Exports"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Module Exports should export GCP deployment class","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export GCP deployment class"},{"ancestorTitles":["Cloud Deployment Integration","Module Exports"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Module Exports should export Azure deployment class","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should export Azure deployment class"},{"ancestorTitles":["Cloud Deployment Integration","Common Interface"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Common Interface all modules should have deploy method","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"all modules should have deploy method"},{"ancestorTitles":["Cloud Deployment Integration","Common Interface"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Common Interface all modules should handle environment configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"all modules should handle environment configuration"},{"ancestorTitles":["Cloud Deployment Integration","Cross-Cloud Deployment Scenarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Cross-Cloud Deployment Scenarios should support multi-cloud deployment configuration","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should support multi-cloud deployment configuration"},{"ancestorTitles":["Cloud Deployment Integration","Cross-Cloud Deployment Scenarios"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Cross-Cloud Deployment Scenarios should generate deployment manifests for all clouds","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should generate deployment manifests for all clouds"},{"ancestorTitles":["Cloud Deployment Integration","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Error Handling should provide consistent error messages across clouds","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should provide consistent error messages across clouds"},{"ancestorTitles":["Cloud Deployment Integration","Environment Variables"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Cloud Deployment Integration Environment Variables should respect cloud-specific environment variables","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should respect cloud-specific environment variables"}],"endTime":1753397522569,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/deploy/tests/index.test.js","startTime":1753397522505,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MarketplaceDiscovery","initialize"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery initialize should load catalog and initialize data structures","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should load catalog and initialize data structures"},{"ancestorTitles":["MarketplaceDiscovery","initialize"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery initialize should handle initialization errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle initialization errors"},{"ancestorTitles":["MarketplaceDiscovery","searchServices"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery searchServices should search services by query","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should search services by query"},{"ancestorTitles":["MarketplaceDiscovery","searchServices"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery searchServices should filter by category","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by category"},{"ancestorTitles":["MarketplaceDiscovery","searchServices"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery searchServices should filter by minimum rating","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by minimum rating"},{"ancestorTitles":["MarketplaceDiscovery","searchServices"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery searchServices should filter by tags","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should filter by tags"},{"ancestorTitles":["MarketplaceDiscovery","searchServices"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery searchServices should sort by downloads","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should sort by downloads"},{"ancestorTitles":["MarketplaceDiscovery","searchServices"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery searchServices should sort by rating","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should sort by rating"},{"ancestorTitles":["MarketplaceDiscovery","getFeaturedServices"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery getFeaturedServices should return only featured services","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return only featured services"},{"ancestorTitles":["MarketplaceDiscovery","getFeaturedServices"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery getFeaturedServices should sort featured services by score","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should sort featured services by score"},{"ancestorTitles":["MarketplaceDiscovery","browseByCategory"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery browseByCategory should return services in a category","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return services in a category"},{"ancestorTitles":["MarketplaceDiscovery","browseByCategory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery browseByCategory should throw error for invalid category","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid category"},{"ancestorTitles":["MarketplaceDiscovery","browseByCategory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery browseByCategory should sort services by downloads","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should sort services by downloads"},{"ancestorTitles":["MarketplaceDiscovery","getServiceDetails"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery getServiceDetails should return detailed service information","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should return detailed service information"},{"ancestorTitles":["MarketplaceDiscovery","getServiceDetails"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery getServiceDetails should throw error for non-existent service","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-existent service"},{"ancestorTitles":["MarketplaceDiscovery","getServiceDetails"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery getServiceDetails should include all required fields","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should include all required fields"},{"ancestorTitles":["MarketplaceDiscovery","getCategories"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery getCategories should return all categories with service counts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return all categories with service counts"},{"ancestorTitles":["MarketplaceDiscovery","private methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery private methods should calculate relevance score correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should calculate relevance score correctly"},{"ancestorTitles":["MarketplaceDiscovery","private methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MarketplaceDiscovery private methods should match version constraints","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should match version constraints"}],"endTime":1753397522572,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/marketplace/discovery.test.js","startTime":1753397522508,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["APIKeyManager","generateKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager generateKey should generate a new API key for a user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate a new API key for a user"},{"ancestorTitles":["APIKeyManager","generateKey"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager generateKey should throw error if userId is not provided","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw error if userId is not provided"},{"ancestorTitles":["APIKeyManager","generateKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager generateKey should generate unique keys for multiple calls","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate unique keys for multiple calls"},{"ancestorTitles":["APIKeyManager","generateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager generateKey should track keys by user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track keys by user"},{"ancestorTitles":["APIKeyManager","generateKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager generateKey should handle empty permissions array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty permissions array"},{"ancestorTitles":["APIKeyManager","generateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager generateKey should use default empty permissions when not specified","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use default empty permissions when not specified"},{"ancestorTitles":["APIKeyManager","validateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager validateKey should validate a valid API key","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should validate a valid API key"},{"ancestorTitles":["APIKeyManager","validateKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager validateKey should return invalid for non-existent key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return invalid for non-existent key"},{"ancestorTitles":["APIKeyManager","validateKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager validateKey should return invalid for null or undefined key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return invalid for null or undefined key"},{"ancestorTitles":["APIKeyManager","validateKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager validateKey should update usage statistics on validation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should update usage statistics on validation"},{"ancestorTitles":["APIKeyManager","revokeKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeKey should revoke a key by keyId","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should revoke a key by keyId"},{"ancestorTitles":["APIKeyManager","revokeKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeKey should remove key from user tracking when revoked","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should remove key from user tracking when revoked"},{"ancestorTitles":["APIKeyManager","revokeKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeKey should return failure for non-existent keyId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return failure for non-existent keyId"},{"ancestorTitles":["APIKeyManager","revokeKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeKey should handle multiple keys per user correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle multiple keys per user correctly"},{"ancestorTitles":["APIKeyManager","revokeUserKeys"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeUserKeys should revoke all keys for a user","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should revoke all keys for a user"},{"ancestorTitles":["APIKeyManager","revokeUserKeys"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeUserKeys should return failure for user with no keys","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return failure for user with no keys"},{"ancestorTitles":["APIKeyManager","revokeUserKeys"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager revokeUserKeys should not affect other users keys","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not affect other users keys"},{"ancestorTitles":["APIKeyManager","listUserKeys"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager listUserKeys should list all keys for a user","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should list all keys for a user"},{"ancestorTitles":["APIKeyManager","listUserKeys"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager listUserKeys should return empty array for user with no keys","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty array for user with no keys"},{"ancestorTitles":["APIKeyManager","listUserKeys"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager listUserKeys should include usage statistics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should include usage statistics"},{"ancestorTitles":["APIKeyManager","getKeyStats"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager getKeyStats should return stats for existing key","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should return stats for existing key"},{"ancestorTitles":["APIKeyManager","getKeyStats"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager getKeyStats should return not found for non-existent key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return not found for non-existent key"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should allow valid API key in Authorization header","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should allow valid API key in Authorization header"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should allow valid API key in X-API-Key header","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should allow valid API key in X-API-Key header"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should allow valid API key in query parameter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should allow valid API key in query parameter"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should reject request without API key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject request without API key"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should reject invalid API key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should reject invalid API key"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should check required permissions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check required permissions"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should allow request with sufficient permissions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should allow request with sufficient permissions"},{"ancestorTitles":["APIKeyManager","middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager middleware should handle empty required permissions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle empty required permissions"},{"ancestorTitles":["APIKeyManager","createSecureKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager createSecureKey should generate keys with mcp prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate keys with mcp prefix"},{"ancestorTitles":["APIKeyManager","createSecureKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager createSecureKey should generate unique keys","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should generate unique keys"},{"ancestorTitles":["APIKeyManager","createSecureKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager createSecureKey should generate keys of appropriate length","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate keys of appropriate length"},{"ancestorTitles":["APIKeyManager","extractApiKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager extractApiKey should extract from Authorization header with ApiKey prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should extract from Authorization header with ApiKey prefix"},{"ancestorTitles":["APIKeyManager","extractApiKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager extractApiKey should extract from X-API-Key header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should extract from X-API-Key header"},{"ancestorTitles":["APIKeyManager","extractApiKey"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager extractApiKey should extract from query parameter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should extract from query parameter"},{"ancestorTitles":["APIKeyManager","extractApiKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager extractApiKey should prioritize Authorization header over others","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should prioritize Authorization header over others"},{"ancestorTitles":["APIKeyManager","extractApiKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager extractApiKey should return null if no API key found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null if no API key found"},{"ancestorTitles":["APIKeyManager","extractApiKey"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"APIKeyManager extractApiKey should ignore Authorization header without ApiKey prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should ignore Authorization header without ApiKey prefix"}],"endTime":1753397522575,"message":"","name":"/home/jenner/code/mcps/tests/unit/security/api-key.test.js","startTime":1753397522507,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MCP CLI Command Parsing","CLI Initialization"],"duration":262,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing CLI Initialization should set up correct environment variables","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should set up correct environment variables"},{"ancestorTitles":["MCP CLI Command Parsing","CLI Initialization"],"duration":35,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing CLI Initialization should define all required command paths","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should define all required command paths"},{"ancestorTitles":["MCP CLI Command Parsing","Utility Functions"],"duration":20,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Utility Functions fileExists should check file accessibility","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"fileExists should check file accessibility"},{"ancestorTitles":["MCP CLI Command Parsing","Utility Functions"],"duration":28,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Utility Functions runCommand should spawn process with correct arguments","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"runCommand should spawn process with correct arguments"},{"ancestorTitles":["MCP CLI Command Parsing","Utility Functions"],"duration":12,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Utility Functions runCommand should handle process errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"runCommand should handle process errors"},{"ancestorTitles":["MCP CLI Command Parsing","Command Structure"],"duration":15,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Command Structure should parse version command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should parse version command"},{"ancestorTitles":["MCP CLI Command Parsing","Command Structure"],"duration":16,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Command Structure should parse help command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should parse help command"},{"ancestorTitles":["MCP CLI Command Parsing","Service Commands"],"duration":11,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Service Commands should validate service start command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate service start command"},{"ancestorTitles":["MCP CLI Command Parsing","Service Commands"],"duration":16,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Service Commands should validate service stop command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate service stop command"},{"ancestorTitles":["MCP CLI Command Parsing","Service Commands"],"duration":9,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Service Commands should validate service restart command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate service restart command"},{"ancestorTitles":["MCP CLI Command Parsing","Profile Commands"],"duration":18,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Profile Commands should handle profile list command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle profile list command"},{"ancestorTitles":["MCP CLI Command Parsing","Profile Commands"],"duration":6,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Profile Commands should handle profile switch command","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle profile switch command"},{"ancestorTitles":["MCP CLI Command Parsing","Profile Commands"],"duration":16,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Profile Commands should validate profile creation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate profile creation"},{"ancestorTitles":["MCP CLI Command Parsing","Error Handling"],"duration":9,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Error Handling should handle missing docker-compose file","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle missing docker-compose file"},{"ancestorTitles":["MCP CLI Command Parsing","Error Handling"],"duration":7,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Error Handling should handle invalid profile names","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle invalid profile names"},{"ancestorTitles":["MCP CLI Command Parsing","Error Handling"],"duration":11,"failureDetails":[{"code":"BABEL_PARSE_ERROR","reasonCode":"MissingUnicodeEscape","loc":{"line":603,"column":26,"index":21086},"pos":21086}],"failureMessages":["Jest encountered an unexpected token\n\nJest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\nOut of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\nBy default \"node_modules\" folder is ignored by transformers.\n\nHere's what you can do:\n • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n • If you need a custom transformation specify a \"transform\" option in your config.\n • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\nYou'll find more details and examples of these config options in the docs:\nhttps://jestjs.io/docs/configuration\nFor information about custom transformations, see:\nhttps://jestjs.io/docs/code-transformation\n\nDetails:\n\nSyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n\u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n    at constructor (/home/jenner/code/mcps/node_modules/@babel/parser/src/parse-error.ts:95:45)\n    at Parser.toParseError [as raise] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n    at Parser.raise [as readWord1] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n    at Parser.readWord1 [as readWord] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n    at Parser.readWord [as getTokenFromCode] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n    at Parser.getTokenFromCode [as nextToken] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n    at Parser.nextToken [as next] (/home/jenner/code/mcps/node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n    at Parser.next [as parseTemplateElement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n    at Parser.parseTemplateElement [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n    at Parser.parseTemplate [as parseTaggedTemplateExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:968:23)\n    at Parser.parseTaggedTemplateExpression [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:778:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseTemplateSubstitution] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n    at Parser.parseTemplateSubstitution [as parseTemplate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n    at Parser.parseTemplate (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n    at Parser.parseExprAtom [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:734:23)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n    at Parser.allowInAnd [as parseExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:17)\n    at Parser.parseExpression [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:683:23)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:617:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:446:17)\n    at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n    at Parser.parseIfStatement [as parseStatementContent] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:536:21)\n    at Parser.parseStatementContent [as parseStatementLike] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:477:17)\n    at Parser.parseStatementLike [as parseStatementListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:426:17)\n    at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n    at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n    at Parser.parseBlockBody [as parseBlock] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n    at Parser.parseBlock [as parseFunctionBody] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n    at Parser.parseFunctionBody [as parseArrowExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n    at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n    at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:934:27)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at parseMaybeAssign (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:257:12)\n    at Parser.callback [as allowInAnd] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n    at Parser.allowInAnd [as parseMaybeAssignAllowIn] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:256:17)\n    at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n    at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n    at Parser.parseExprListItem [as parseCallExpressionArguments] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n    at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:914:29)\n    at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:796:19)\n    at Parser.parseSubscript [as parseSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:755:19)\n    at Parser.parseSubscripts [as parseExprSubscripts] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:740:17)\n    at Parser.parseExprSubscripts [as parseUpdate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:713:21)\n    at Parser.parseUpdate [as parseMaybeUnary] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:675:23)\n    at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:409:14)\n    at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:421:23)\n    at Parser.parseExprOps [as parseMaybeConditional] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:376:23)\n    at Parser.parseMaybeConditional [as parseMaybeAssign] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:301:21)\n    at Parser.parseMaybeAssign [as parseExpressionBase] (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:226:23)\n    at parseExpressionBase (/home/jenner/code/mcps/node_modules/@babel/parser/src/parser/expression.ts:217:39)"],"fullName":"MCP CLI Command Parsing Error Handling should handle service command failures gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle service command failures gracefully"}],"endTime":1753397522574,"message":"  ● MCP CLI Command Parsing › CLI Initialization › should set up correct environment variables\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › CLI Initialization › should define all required command paths\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Utility Functions › fileExists should check file accessibility\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Utility Functions › runCommand should spawn process with correct arguments\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Utility Functions › runCommand should handle process errors\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Command Structure › should parse version command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Command Structure › should parse help command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Service Commands › should validate service start command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Service Commands › should validate service stop command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Service Commands › should validate service restart command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Profile Commands › should handle profile list command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Profile Commands › should handle profile switch command\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Profile Commands › should validate profile creation\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Error Handling › should handle missing docker-compose file\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Error Handling › should handle invalid profile names\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n\n  ● MCP CLI Command Parsing › Error Handling › should handle service command failures gracefully\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/cli/mcp-cli.js: Expecting Unicode escape sequence \\uXXXX. (603:26)\n\n    \u001b[0m \u001b[90m 601 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`\\nMCP_HOME: ${MCP_HOME}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`Config file: ${path.join(MCP_HOME, '.env')`);\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 603 |\u001b[39m \u001b[32m            console.log(`\\nAvailable clients for config generation:`);\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 604 |\u001b[39m \u001b[32m            console.log(`  - claude-code`);\u001b[39m\n     \u001b[90m 605 |\u001b[39m \u001b[32m            console.log(`  - vscode`);\u001b[39m\n     \u001b[90m 606 |\u001b[39m \u001b[32m            console.log(`  - cursor`);\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as readWord1] (node_modules/@babel/parser/src/tokenizer/index.ts:1439:16)\n      at Parser.readWord1 [as readWord] (node_modules/@babel/parser/src/tokenizer/index.ts:1465:23)\n      at Parser.readWord [as getTokenFromCode] (node_modules/@babel/parser/src/tokenizer/index.ts:1048:14)\n      at Parser.getTokenFromCode [as nextToken] (node_modules/@babel/parser/src/tokenizer/index.ts:278:10)\n      at Parser.nextToken [as next] (node_modules/@babel/parser/src/tokenizer/index.ts:121:10)\n      at Parser.next [as parseTemplateElement] (node_modules/@babel/parser/src/parser/expression.ts:1997:10)\n      at Parser.parseTemplateElement [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2009:23)\n      at Parser.parseTemplate [as parseTaggedTemplateExpression] (node_modules/@babel/parser/src/parser/expression.ts:968:23)\n      at Parser.parseTaggedTemplateExpression [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:778:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseTemplateSubstitution] (node_modules/@babel/parser/src/parser/expression.ts:2026:17)\n      at Parser.parseTemplateSubstitution [as parseTemplate] (node_modules/@babel/parser/src/parser/expression.ts:2013:31)\n      at Parser.parseTemplate (node_modules/@babel/parser/src/parser/expression.ts:1201:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:683:23)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1091:14)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseArrowExpression] (node_modules/@babel/parser/src/parser/expression.ts:2553:10)\n      at Parser.parseArrowExpression [as parseAsyncArrowFromCallExpression] (node_modules/@babel/parser/src/parser/expression.ts:1059:10)\n      at Parser.parseAsyncArrowFromCallExpression [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:934:27)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseExprListItem] (node_modules/@babel/parser/src/parser/expression.ts:2788:18)\n      at Parser.parseExprListItem [as parseCallExpressionArguments] (node_modules/@babel/parser/src/parser/expression.ts:1034:14)\n      at Parser.parseCallExpressionArguments [as parseCoverCallAndAsyncArrowHead] (node_modules/@babel/parser/src/parser/expression.ts:914:29)\n      at Parser.parseCoverCallAndAsyncArrowHead [as parseSubscript] (node_modules/@babel/parser/src/parser/expression.ts:796:19)\n      at Parser.parseSubscript [as parseSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:755:19)\n      at Parser.parseSubscripts [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:740:17)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/cli-mcp-cli.unit.test.js","startTime":1753397521622,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["LivenessProbe","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe constructor should set default values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should set default values"},{"ancestorTitles":["LivenessProbe","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["LivenessProbe","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe constructor should use environment variables","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should use environment variables"},{"ancestorTitles":["LivenessProbe","check()"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should resolve when receiving valid JSON response with alive=true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should resolve when receiving valid JSON response with alive=true"},{"ancestorTitles":["LivenessProbe","check()"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should reject when receiving JSON response with alive=false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject when receiving JSON response with alive=false"},{"ancestorTitles":["LivenessProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should resolve for 2xx status even without valid JSON","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve for 2xx status even without valid JSON"},{"ancestorTitles":["LivenessProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should reject for non-2xx status codes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject for non-2xx status codes"},{"ancestorTitles":["LivenessProbe","check()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should handle connection errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle connection errors"},{"ancestorTitles":["LivenessProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should handle request timeout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle request timeout"},{"ancestorTitles":["LivenessProbe","check()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe check() should use https when secure is true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use https when secure is true"},{"ancestorTitles":["LivenessProbe","checkProcess()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe checkProcess() should return alive status with memory info","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return alive status with memory info"},{"ancestorTitles":["LivenessProbe","checkProcess()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe checkProcess() should detect critical memory usage","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect critical memory usage"},{"ancestorTitles":["LivenessProbe","checkProcess()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe checkProcess() should detect event loop lag","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect event loop lag"},{"ancestorTitles":["LivenessProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe CLI execution should exit 0 when HTTP check passes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should exit 0 when HTTP check passes"},{"ancestorTitles":["LivenessProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe CLI execution should fallback to process check when HTTP fails","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should fallback to process check when HTTP fails"},{"ancestorTitles":["LivenessProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"LivenessProbe CLI execution should exit 1 when both checks fail","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should exit 1 when both checks fail"}],"endTime":1753397522580,"message":"","name":"/home/jenner/code/mcps/tests/unit/docker/health/liveness.test.js","startTime":1753397522518,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["Logger Unit Tests","Logging methods"],"duration":60,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Logging methods should log at different levels","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should log at different levels"},{"ancestorTitles":["Logger Unit Tests","Logging methods"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Logging methods should log with metadata","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should log with metadata"},{"ancestorTitles":["Logger Unit Tests","Logging methods"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Logging methods should log errors with stack trace","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should log errors with stack trace"},{"ancestorTitles":["Logger Unit Tests","Child logger"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Child logger should create child logger with inherited metadata","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create child logger with inherited metadata"},{"ancestorTitles":["Logger Unit Tests","Child logger"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Child logger child logger should maintain parent config","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"child logger should maintain parent config"},{"ancestorTitles":["Logger Unit Tests","Timer functionality"],"duration":105,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Timer functionality should start and end timer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should start and end timer"},{"ancestorTitles":["Logger Unit Tests","Timer functionality"],"duration":60,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Timer functionality should log timer duration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should log timer duration"},{"ancestorTitles":["Logger Unit Tests","Request logger middleware"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Request logger middleware should create middleware function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create middleware function"},{"ancestorTitles":["Logger Unit Tests","Request logger middleware"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Request logger middleware should skip specified paths","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should skip specified paths"},{"ancestorTitles":["Logger Unit Tests","Request logger middleware"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Request logger middleware should log request with headers when specified","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should log request with headers when specified"},{"ancestorTitles":["Logger Unit Tests","Log rotation"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Log rotation should rotate logs successfully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should rotate logs successfully"},{"ancestorTitles":["Logger Unit Tests","Log querying"],"duration":112,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Log querying should query logs with filters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should query logs with filters"},{"ancestorTitles":["Logger Unit Tests","Log querying"],"duration":114,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Log querying should query logs by level","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should query logs by level"},{"ancestorTitles":["Logger Unit Tests","Log querying"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Logger Unit Tests Log querying should respect date range in queries","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should respect date range in queries"}],"endTime":1753397522587,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/logger.test.js","startTime":1753397521632,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["StartupProbe","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe constructor should set default values","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should set default values"},{"ancestorTitles":["StartupProbe","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["StartupProbe","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe constructor should use environment variables","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use environment variables"},{"ancestorTitles":["StartupProbe","parseMarkers()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe parseMarkers() should parse STARTUP_MARKERS environment variable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should parse STARTUP_MARKERS environment variable"},{"ancestorTitles":["StartupProbe","parseMarkers()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe parseMarkers() should trim marker names","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should trim marker names"},{"ancestorTitles":["StartupProbe","parseMarkers()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe parseMarkers() should use default markers when env not set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use default markers when env not set"},{"ancestorTitles":["StartupProbe","parseRequiredFiles()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe parseRequiredFiles() should parse REQUIRED_FILES environment variable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should parse REQUIRED_FILES environment variable"},{"ancestorTitles":["StartupProbe","parseRequiredFiles()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe parseRequiredFiles() should trim file paths","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should trim file paths"},{"ancestorTitles":["StartupProbe","parseRequiredFiles()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe parseRequiredFiles() should return empty array when env not set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty array when env not set"},{"ancestorTitles":["StartupProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe check() should resolve when receiving valid JSON response with started=true","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve when receiving valid JSON response with started=true"},{"ancestorTitles":["StartupProbe","check()"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe check() should reject when receiving JSON response with started=false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject when receiving JSON response with started=false"},{"ancestorTitles":["StartupProbe","check()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe check() should resolve for status 200 without valid JSON","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve for status 200 without valid JSON"},{"ancestorTitles":["StartupProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe check() should reject for 503 status code","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject for 503 status code"},{"ancestorTitles":["StartupProbe","check()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe check() should handle connection errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle connection errors"},{"ancestorTitles":["StartupProbe","check()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe check() should handle request timeout with specific message","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle request timeout with specific message"},{"ancestorTitles":["StartupProbe","checkUptime()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkUptime() should report uptime met when above minimum","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report uptime met when above minimum"},{"ancestorTitles":["StartupProbe","checkUptime()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkUptime() should report uptime not met when below minimum","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report uptime not met when below minimum"},{"ancestorTitles":["StartupProbe","checkUptime()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkUptime() should handle exact minimum uptime","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle exact minimum uptime"},{"ancestorTitles":["StartupProbe","checkRequiredFiles()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkRequiredFiles() should report all files present","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should report all files present"},{"ancestorTitles":["StartupProbe","checkRequiredFiles()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkRequiredFiles() should report missing files","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report missing files"},{"ancestorTitles":["StartupProbe","checkRequiredFiles()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkRequiredFiles() should handle empty file list","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle empty file list"},{"ancestorTitles":["StartupProbe","checkMarkerFile()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkMarkerFile() should report marker file exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should report marker file exists"},{"ancestorTitles":["StartupProbe","checkMarkerFile()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkMarkerFile() should report marker file missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report marker file missing"},{"ancestorTitles":["StartupProbe","checkMarkerFile()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkMarkerFile() should use custom marker file path","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should use custom marker file path"},{"ancestorTitles":["StartupProbe","checkPort()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkPort() should detect port in use (EADDRINUSE)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect port in use (EADDRINUSE)"},{"ancestorTitles":["StartupProbe","checkPort()"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkPort() should detect port is free","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect port is free"},{"ancestorTitles":["StartupProbe","checkPort()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkPort() should handle other errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle other errors"},{"ancestorTitles":["StartupProbe","checkMemoryInit()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkMemoryInit() should report memory stabilized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report memory stabilized"},{"ancestorTitles":["StartupProbe","checkMemoryInit()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe checkMemoryInit() should report memory not stabilized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report memory not stabilized"},{"ancestorTitles":["StartupProbe","fullCheck()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe fullCheck() should pass when endpoint check succeeds","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should pass when endpoint check succeeds"},{"ancestorTitles":["StartupProbe","fullCheck()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe fullCheck() should pass with port and uptime when endpoint fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should pass with port and uptime when endpoint fails"},{"ancestorTitles":["StartupProbe","fullCheck()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe fullCheck() should fail when required conditions not met","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail when required conditions not met"},{"ancestorTitles":["StartupProbe","fullCheck()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe fullCheck() should fail when files missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail when files missing"},{"ancestorTitles":["StartupProbe","fullCheck()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe fullCheck() should fail when memory not stabilized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail when memory not stabilized"},{"ancestorTitles":["StartupProbe","fullCheck()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe fullCheck() should skip file check when no required files","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should skip file check when no required files"},{"ancestorTitles":["StartupProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe CLI execution should exit 0 when startup checks pass","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should exit 0 when startup checks pass"},{"ancestorTitles":["StartupProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe CLI execution should exit 1 when startup checks fail","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should exit 1 when startup checks fail"},{"ancestorTitles":["StartupProbe","CLI execution"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"StartupProbe CLI execution should handle check errors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"should handle check errors"}],"endTime":1753397522590,"message":"","name":"/home/jenner/code/mcps/tests/unit/docker/health/startup.test.js","startTime":1753397522504,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["Metrics Unit Tests","Counter metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Counter metrics should create counter","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create counter"},{"ancestorTitles":["Metrics Unit Tests","Counter metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Counter metrics should increment counter","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should increment counter"},{"ancestorTitles":["Metrics Unit Tests","Counter metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Counter metrics should increment counter with labels","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should increment counter with labels"},{"ancestorTitles":["Metrics Unit Tests","Gauge metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Gauge metrics should create gauge","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should create gauge"},{"ancestorTitles":["Metrics Unit Tests","Gauge metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Gauge metrics should set gauge value","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set gauge value"},{"ancestorTitles":["Metrics Unit Tests","Gauge metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Gauge metrics should increment and decrement gauge","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should increment and decrement gauge"},{"ancestorTitles":["Metrics Unit Tests","Histogram metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Histogram metrics should create histogram","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create histogram"},{"ancestorTitles":["Metrics Unit Tests","Histogram metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Histogram metrics should observe values","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should observe values"},{"ancestorTitles":["Metrics Unit Tests","Histogram metrics"],"duration":101,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Histogram metrics should use timer","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use timer"},{"ancestorTitles":["Metrics Unit Tests","Summary metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Summary metrics should create summary","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create summary"},{"ancestorTitles":["Metrics Unit Tests","Summary metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Summary metrics should observe percentiles","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should observe percentiles"},{"ancestorTitles":["Metrics Unit Tests","Default metrics"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Default metrics should collect default metrics","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should collect default metrics"},{"ancestorTitles":["Metrics Unit Tests","Default metrics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Default metrics should collect with custom options","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should collect with custom options"},{"ancestorTitles":["Metrics Unit Tests","HTTP middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests HTTP middleware should create HTTP metrics middleware","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create HTTP metrics middleware"},{"ancestorTitles":["Metrics Unit Tests","HTTP middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests HTTP middleware should track HTTP requests","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should track HTTP requests"},{"ancestorTitles":["Metrics Unit Tests","Metrics export"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Metrics export should export metrics in Prometheus format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should export metrics in Prometheus format"},{"ancestorTitles":["Metrics Unit Tests","Metrics export"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Metrics export should export metrics in JSON format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should export metrics in JSON format"},{"ancestorTitles":["Metrics Unit Tests","Metrics export"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Metrics export should strip prefix in JSON format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should strip prefix in JSON format"},{"ancestorTitles":["Metrics Unit Tests","Metrics endpoint"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Metrics endpoint should create metrics endpoint","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create metrics endpoint"},{"ancestorTitles":["Metrics Unit Tests","Metrics endpoint"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Metrics endpoint should handle metrics request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle metrics request"},{"ancestorTitles":["Metrics Unit Tests","Push gateway"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Push gateway should handle push without gateway configured","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle push without gateway configured"},{"ancestorTitles":["Metrics Unit Tests","Push gateway"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Metrics Unit Tests Push gateway should push with gateway configured","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should push with gateway configured"}],"endTime":1753397522589,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/metrics.test.js","startTime":1753397522302,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GracefulShutdown","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown constructor should set default values","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should set default values"},{"ancestorTitles":["GracefulShutdown","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["GracefulShutdown","constructor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown constructor should setup signal handlers","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should setup signal handlers"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should handle graceful shutdown on SIGTERM","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should handle graceful shutdown on SIGTERM"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should handle graceful shutdown on SIGINT","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle graceful shutdown on SIGINT"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should exit with code 1 for uncaughtException","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should exit with code 1 for uncaughtException"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should prevent multiple shutdowns","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should prevent multiple shutdowns"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should set timeout for forced shutdown","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set timeout for forced shutdown"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should force shutdown on timeout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should force shutdown on timeout"},{"ancestorTitles":["GracefulShutdown","shutdown()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown shutdown() should handle errors during shutdown","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle errors during shutdown"},{"ancestorTitles":["GracefulShutdown","closeServer()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeServer() should close server successfully","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should close server successfully"},{"ancestorTitles":["GracefulShutdown","closeServer()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeServer() should resolve immediately if no server","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve immediately if no server"},{"ancestorTitles":["GracefulShutdown","closeServer()"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeServer() should handle server close errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle server close errors"},{"ancestorTitles":["GracefulShutdown","closeConnections()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeConnections() should close all active connections","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should close all active connections"},{"ancestorTitles":["GracefulShutdown","closeConnections()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeConnections() should resolve immediately if no connections","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should resolve immediately if no connections"},{"ancestorTitles":["GracefulShutdown","closeConnections()"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeConnections() should force close connections on timeout","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should force close connections on timeout"},{"ancestorTitles":["GracefulShutdown","closeConnections()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown closeConnections() should handle connections without destroy method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle connections without destroy method"},{"ancestorTitles":["GracefulShutdown","runCleanup()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown runCleanup() should run all cleanup functions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should run all cleanup functions"},{"ancestorTitles":["GracefulShutdown","runCleanup()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown runCleanup() should handle cleanup function errors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle cleanup function errors"},{"ancestorTitles":["GracefulShutdown","runCleanup()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown runCleanup() should handle synchronous cleanup functions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle synchronous cleanup functions"},{"ancestorTitles":["GracefulShutdown","trackConnection()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown trackConnection() should add connection to set","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should add connection to set"},{"ancestorTitles":["GracefulShutdown","trackConnection()"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown trackConnection() should remove connection on close","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove connection on close"},{"ancestorTitles":["GracefulShutdown","middleware()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown middleware() should track connection and call next when not shutting down","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should track connection and call next when not shutting down"},{"ancestorTitles":["GracefulShutdown","middleware()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown middleware() should reject requests when shutting down","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should reject requests when shutting down"},{"ancestorTitles":["GracefulShutdown","Signal Handlers"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Signal Handlers should handle SIGTERM signal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle SIGTERM signal"},{"ancestorTitles":["GracefulShutdown","Signal Handlers"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Signal Handlers should handle SIGINT signal","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle SIGINT signal"},{"ancestorTitles":["GracefulShutdown","Signal Handlers"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Signal Handlers should handle uncaughtException","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle uncaughtException"},{"ancestorTitles":["GracefulShutdown","Signal Handlers"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Signal Handlers should handle unhandledRejection","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle unhandledRejection"},{"ancestorTitles":["GracefulShutdown","Integration with Express"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Integration with Express should integrate with Express server","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should integrate with Express server"},{"ancestorTitles":["GracefulShutdown","Error Scenarios"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Error Scenarios should handle multiple errors during shutdown","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle multiple errors during shutdown"},{"ancestorTitles":["GracefulShutdown","Error Scenarios"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GracefulShutdown Error Scenarios should handle connection tracking errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle connection tracking errors"}],"endTime":1753397522601,"message":"","name":"/home/jenner/code/mcps/tests/unit/docker/graceful-shutdown.test.js","startTime":1753397522516,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Cannot find module 'isomorphic-dompurify' from 'tests/unit/security/xss-protection.test.js'\n\n    \u001b[0m \u001b[90m 2 |\u001b[39m\n     \u001b[90m 3 |\u001b[39m \u001b[90m// Mock isomorphic-dompurify\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 4 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'isomorphic-dompurify'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m   |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 5 |\u001b[39m   \u001b[36mreturn\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 6 |\u001b[39m     sanitize\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn((dirty\u001b[33m,\u001b[39m config) \u001b[33m=>\u001b[39m {\n     \u001b[90m 7 |\u001b[39m       \u001b[90m// Simple mock sanitization\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.mock (tests/unit/security/xss-protection.test.js:4:6)\n","name":"/home/jenner/code/mcps/tests/unit/security/xss-protection.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    TypeError: Cannot destructure property 'O_CREAT' of 'fs.constants' as it is undefined.\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[36mconst\u001b[39m { pipeline } \u001b[33m=\u001b[39m require(\u001b[32m'stream/promises'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m \u001b[36mconst\u001b[39m { createWriteStream\u001b[33m,\u001b[39m createReadStream } \u001b[33m=\u001b[39m require(\u001b[32m'fs'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m \u001b[36mconst\u001b[39m tar \u001b[33m=\u001b[39m require(\u001b[32m'tar'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m \u001b[36mconst\u001b[39m semver \u001b[33m=\u001b[39m require(\u001b[32m'semver'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m \u001b[36mconst\u001b[39m cron \u001b[33m=\u001b[39m require(\u001b[32m'node-cron'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 16 |\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (mcp-local-setup/node_modules/tar/lib/get-write-flag.js:14:9)\n      at Object.<anonymous> (mcp-local-setup/node_modules/tar/lib/unpack.js:48:17)\n      at Object.<anonymous> (mcp-local-setup/node_modules/tar/lib/extract.js:5:16)\n      at Object.<anonymous> (mcp-local-setup/node_modules/tar/index.js:8:31)\n      at Object.require (mcp-local-setup/scripts/update-manager.js:13:13)\n      at Object.require (mcp-local-setup/tests/unit/update/update-manager.unit.test.js:5:23)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/update-manager.unit.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Cannot find module '../../../monitoring/logging/service' from 'mcp-local-setup/tests/integration/phase4/sso-compliance.integration.test.js'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mComplianceTools\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../enterprise/compliance/tools'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mTenantManager\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../enterprise/multi-tenant/tenancy'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mLoggingService\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/logging/service'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mAlertingSystem\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/alerts/alerting'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m describe(\u001b[32m'SSO + Compliance Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.require (mcp-local-setup/tests/integration/phase4/sso-compliance.integration.test.js:9:24)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/sso-compliance.integration.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Cannot find module 'validator' from 'security/validation/input-validator.js'\n\n    Require stack:\n      security/validation/input-validator.js\n      tests/unit/security/input-validator.test.js\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m \u001b[90m */\u001b[39m\n     \u001b[90m  7 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m \u001b[36mconst\u001b[39m validator \u001b[33m=\u001b[39m require(\u001b[32m'validator'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m \u001b[36mconst\u001b[39m createDOMPurify \u001b[33m=\u001b[39m require(\u001b[32m'isomorphic-dompurify'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mInputValidator\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.require (security/validation/input-validator.js:8:19)\n      at Object.<anonymous> (tests/unit/security/input-validator.test.js:1:79)\n","name":"/home/jenner/code/mcps/tests/unit/security/input-validator.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Cannot find module 'validator' from 'security/validation/input-validator.js'\n\n    Require stack:\n      security/validation/input-validator.js\n      tests/security/injection-prevention.test.js\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m \u001b[90m */\u001b[39m\n     \u001b[90m  7 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m \u001b[36mconst\u001b[39m validator \u001b[33m=\u001b[39m require(\u001b[32m'validator'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m \u001b[36mconst\u001b[39m createDOMPurify \u001b[33m=\u001b[39m require(\u001b[32m'isomorphic-dompurify'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 10 |\u001b[39m\n     \u001b[90m 11 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mInputValidator\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.require (security/validation/input-validator.js:8:19)\n      at Object.<anonymous> (tests/security/injection-prevention.test.js:1:76)\n","name":"/home/jenner/code/mcps/tests/security/injection-prevention.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["OAuth2Provider","constructor"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider constructor should require authorizationURL and tokenURL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require authorizationURL and tokenURL"},{"ancestorTitles":["OAuth2Provider","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider constructor should initialize with provided config","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize with provided config"},{"ancestorTitles":["OAuth2Provider","getAuthorizationUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider getAuthorizationUrl should generate valid authorization URL","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should generate valid authorization URL"},{"ancestorTitles":["OAuth2Provider","getAuthorizationUrl"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider getAuthorizationUrl should use custom parameters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should use custom parameters"},{"ancestorTitles":["OAuth2Provider","getAuthorizationUrl"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider getAuthorizationUrl should store state for CSRF protection","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should store state for CSRF protection"},{"ancestorTitles":["OAuth2Provider","exchangeCodeForToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider exchangeCodeForToken should require code and state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require code and state"},{"ancestorTitles":["OAuth2Provider","exchangeCodeForToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider exchangeCodeForToken should verify state exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should verify state exists"},{"ancestorTitles":["OAuth2Provider","exchangeCodeForToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider exchangeCodeForToken should exchange code for tokens","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should exchange code for tokens"},{"ancestorTitles":["OAuth2Provider","exchangeCodeForToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider exchangeCodeForToken should prevent state reuse","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should prevent state reuse"},{"ancestorTitles":["OAuth2Provider","refreshToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider refreshToken should require refresh token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require refresh token"},{"ancestorTitles":["OAuth2Provider","refreshToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider refreshToken should return new access token","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return new access token"},{"ancestorTitles":["OAuth2Provider","validateToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider validateToken should require access token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require access token"},{"ancestorTitles":["OAuth2Provider","validateToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider validateToken should validate stored tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate stored tokens"},{"ancestorTitles":["OAuth2Provider","validateToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider validateToken should detect expired tokens","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect expired tokens"},{"ancestorTitles":["OAuth2Provider","getUserInfo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider getUserInfo should require userInfoURL","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require userInfoURL"},{"ancestorTitles":["OAuth2Provider","getUserInfo"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: User info URL not configured\n    at OAuth2Provider.getUserInfo (/home/jenner/code/mcps/security/api-auth/oauth.js:213:13)\n    at Object.getUserInfo (/home/jenner/code/mcps/tests/unit/security/oauth.test.js:161:39)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"OAuth2Provider getUserInfo should return user info","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return user info"},{"ancestorTitles":["OAuth2Provider","revokeToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider revokeToken should handle missing token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing token"},{"ancestorTitles":["OAuth2Provider","revokeToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider revokeToken should remove token from store","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove token from store"},{"ancestorTitles":["OAuth2Provider","createOAuth2Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider createOAuth2Middleware should require Bearer token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should require Bearer token"},{"ancestorTitles":["OAuth2Provider","createOAuth2Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider createOAuth2Middleware should validate token and call next","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should validate token and call next"},{"ancestorTitles":["OAuth2Provider","createOAuth2Middleware"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider createOAuth2Middleware should check required scopes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check required scopes"},{"ancestorTitles":["OAuth2Provider","createOAuth2Provider factory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider createOAuth2Provider factory should create provider for known providers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create provider for known providers"},{"ancestorTitles":["OAuth2Provider","createOAuth2Provider factory"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider createOAuth2Provider factory should throw for unknown provider","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw for unknown provider"},{"ancestorTitles":["OAuth2Provider","cleanupStates"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OAuth2Provider cleanupStates should remove expired states","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove expired states"}],"endTime":1753397522657,"message":"  ● OAuth2Provider › getUserInfo › should return user info\n\n    User info URL not configured\n\n    \u001b[0m \u001b[90m 211 |\u001b[39m   \u001b[36masync\u001b[39m getUserInfo(accessToken) {\n     \u001b[90m 212 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39m\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mconfig\u001b[33m.\u001b[39muserInfoURL) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 213 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'User info URL not configured'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 214 |\u001b[39m     }\n     \u001b[90m 215 |\u001b[39m\n     \u001b[90m 216 |\u001b[39m     \u001b[36mtry\u001b[39m {\u001b[0m\n\n      at OAuth2Provider.getUserInfo (security/api-auth/oauth.js:213:13)\n      at Object.getUserInfo (tests/unit/security/oauth.test.js:161:39)\n","name":"/home/jenner/code/mcps/tests/unit/security/oauth.test.js","startTime":1753397522338,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Cannot find module '../../../monitoring/logging/service' from 'mcp-local-setup/tests/integration/phase4/full-workflow.integration.test.js'\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mAzureDeployment\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../deploy/azure/deployment'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 16 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mMetricsCollector\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/metrics/collector'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mLoggingService\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/logging/service'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mAlertingSystem\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/alerts/alerting'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m describe(\u001b[32m'Phase 4 Full Workflow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.require (mcp-local-setup/tests/integration/phase4/full-workflow.integration.test.js:17:24)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase4/full-workflow.integration.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    ReferenceError: Cannot access 'mockWinston' before initialization\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 30 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'winston'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m mockWinston)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m\n     \u001b[90m 33 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'winston-daily-rotate-file'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 34 |\u001b[39m   \u001b[36mreturn\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m ({}))\u001b[33m;\u001b[39m\u001b[0m\n\n      at mockWinston (mcp-local-setup/monitoring/tests/logging-service.test.js:31:28)\n      at Object.require (mcp-local-setup/monitoring/logging/logger.js:6:17)\n      at Object.require (mcp-local-setup/monitoring/tests/logging-service.test.js:5:24)\n","name":"/home/jenner/code/mcps/mcp-local-setup/monitoring/tests/logging-service.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Cannot find module '../../../../mcp-local-setup/enterprise/sso/authentication' from 'sdk/core/index.js'\n\n    Require stack:\n      sdk/core/index.js\n      tests/sdk-core.test.js\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mEventEmitter\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'events'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m  6 |\u001b[39m \u001b[36mconst\u001b[39m crypto \u001b[33m=\u001b[39m require(\u001b[32m'crypto'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mSSOAuthentication\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../../mcp-local-setup/enterprise/sso/authentication'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mMarketplaceDiscovery\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../../mcp-local-setup/api/marketplace/discovery'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mSDKCoreInterface\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mEventEmitter\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.require (sdk/core/index.js:7:27)\n      at Object.require (tests/sdk-core.test.js:6:17)\n","name":"/home/jenner/code/mcps/tests/sdk-core.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    TypeError: Cannot assign to read only property 'createGzip' of object '#<Object>'\n\n      at node_modules/jest-mock/build/index.js:784:33\n          at Set.forEach (<anonymous>)\n","name":"/home/jenner/code/mcps/tests/unit/monitoring/logging/rotation.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/security/network/service-isolation.js: Unexpected reserved word 'public'. (240:14)\n\n    \u001b[0m \u001b[90m 238 |\u001b[39m         \u001b[90m// Group services by isolation requirements\u001b[39m\n     \u001b[90m 239 |\u001b[39m         \u001b[36mconst\u001b[39m isolated \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 240 |\u001b[39m         \u001b[36mconst\u001b[39m \u001b[36mpublic\u001b[39m \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 241 |\u001b[39m\n     \u001b[90m 242 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m rule \u001b[36mof\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mrules\u001b[33m.\u001b[39mvalues()) {\n     \u001b[90m 243 |\u001b[39m             \u001b[36mif\u001b[39m (rule\u001b[33m.\u001b[39mallowed) {\u001b[0m\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mRateLimiter\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'./rate-limiter'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m  7 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mCORSManager\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'./cors-manager'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mServiceIsolation\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'./service-isolation'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mNetworkManager\u001b[39m {\n     \u001b[90m 11 |\u001b[39m     constructor() {\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as checkReservedWord] (node_modules/@babel/parser/src/parser/expression.ts:2886:12)\n      at Parser.checkReservedWord [as parseIdentifierName] (node_modules/@babel/parser/src/parser/expression.ts:2848:12)\n      at Parser.parseIdentifierName [as parseIdentifier] (node_modules/@babel/parser/src/parser/expression.ts:2805:23)\n      at Parser.parseIdentifier [as parseBindingAtom] (node_modules/@babel/parser/src/parser/lval.ts:427:17)\n      at Parser.parseBindingAtom [as parseVarId] (node_modules/@babel/parser/src/parser/statement.ts:1618:21)\n      at Parser.parseVarId [as parseVar] (node_modules/@babel/parser/src/parser/statement.ts:1577:12)\n      at Parser.parseVar [as parseVarStatement] (node_modules/@babel/parser/src/parser/statement.ts:1246:10)\n      at Parser.parseVarStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:607:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseFunctionBodyAndFinish] (node_modules/@babel/parser/src/parser/expression.ts:2585:10)\n      at Parser.parseFunctionBodyAndFinish [as parseMethod] (node_modules/@babel/parser/src/parser/expression.ts:2482:31)\n      at Parser.parseMethod [as pushClassMethod] (node_modules/@babel/parser/src/parser/statement.ts:2239:12)\n      at Parser.pushClassMethod [as parseClassMemberWithIsStatic] (node_modules/@babel/parser/src/parser/statement.ts:2060:14)\n      at Parser.parseClassMemberWithIsStatic [as parseClassMember] (node_modules/@babel/parser/src/parser/statement.ts:1933:10)\n      at parseClassMember (node_modules/@babel/parser/src/parser/statement.ts:1846:14)\n      at Parser.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)\n      at Parser.withSmartMixTopicForbiddingContext [as parseClassBody] (node_modules/@babel/parser/src/parser/statement.ts:1818:10)\n      at Parser.parseClassBody [as parseClass] (node_modules/@babel/parser/src/parser/statement.ts:1769:22)\n      at Parser.parseClass [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:527:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)\n      at Parser.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)\n      at Parser.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)\n      at Parser.parseTopLevel [as parse] (node_modules/@babel/parser/src/parser/index.ts:93:10)\n      at parse (node_modules/@babel/parser/src/index.ts:92:38)\n      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)\n          at parser.next (<anonymous>)\n      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)\n          at normalizeFile.next (<anonymous>)\n      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (mcp-local-setup/security/network/network-manager.js:8:26)\n      at Object.require (mcp-local-setup/tests/unit/security/network-manager.test.js:5:24)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/security/network-manager.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/monitoring/errors/error-boundaries.js: Support for the experimental syntax 'jsx' isn't currently enabled (96:11):\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33mFallbackComponent\u001b[39m) {\n     \u001b[90m 95 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mFallbackComponent\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m             error\u001b[33m=\u001b[39m{error}\n     \u001b[90m 98 |\u001b[39m             errorInfo\u001b[33m=\u001b[39m{errorInfo}\n     \u001b[90m 99 |\u001b[39m             resetErrorBoundary\u001b[33m=\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mresetErrorBoundary}\u001b[0m\n\n    Add @babel/preset-react (https://github.com/babel/babel/tree/main/packages/babel-preset-react) to the 'presets' section of your Babel config to enable transformation.\n    If you want to leave it as-is, add @babel/plugin-syntax-jsx (https://github.com/babel/babel/tree/main/packages/babel-plugin-syntax-jsx) to the 'plugins' section to enable parsing.\n\n    If you already added the plugin for this syntax to your config, it's possible that your config isn't being loaded.\n    You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:\n    \tnpx cross-env BABEL_SHOW_CONFIG_FOR=/home/jenner/code/mcps/monitoring/errors/error-boundaries.js <your build command>\n    See https://babeljs.io/docs/configuration#print-effective-configs for more info.\n\n    \u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mErrorBoundaries\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../../monitoring/errors/error-boundaries'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m                                                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mEventEmitter\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'events'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 3 |\u001b[39m\n     \u001b[90m 4 |\u001b[39m describe(\u001b[32m'ErrorBoundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as expectOnePlugin] (node_modules/@babel/parser/src/tokenizer/index.ts:1568:18)\n      at Parser.expectOnePlugin [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1264:16)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1813:16)\n      at Parser.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)\n      at Parser.parseReturnStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:538:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1089:28)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1089:28)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseFunctionBodyAndFinish] (node_modules/@babel/parser/src/parser/expression.ts:2585:10)\n      at Parser.parseFunctionBodyAndFinish [as parseMethod] (node_modules/@babel/parser/src/parser/expression.ts:2482:31)\n      at Parser.parseMethod [as pushClassMethod] (node_modules/@babel/parser/src/parser/statement.ts:2239:12)\n      at Parser.pushClassMethod [as parseClassMemberWithIsStatic] (node_modules/@babel/parser/src/parser/statement.ts:2018:12)\n      at Parser.parseClassMemberWithIsStatic [as parseClassMember] (node_modules/@babel/parser/src/parser/statement.ts:1933:10)\n      at parseClassMember (node_modules/@babel/parser/src/parser/statement.ts:1846:14)\n      at Parser.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)\n      at Parser.withSmartMixTopicForbiddingContext [as parseClassBody] (node_modules/@babel/parser/src/parser/statement.ts:1818:10)\n      at Parser.parseClassBody [as parseClass] (node_modules/@babel/parser/src/parser/statement.ts:1769:22)\n      at Parser.parseClass [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:527:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)\n      at Parser.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)\n      at Parser.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)\n      at Parser.parseTopLevel [as parse] (node_modules/@babel/parser/src/parser/index.ts:93:10)\n      at parse (node_modules/@babel/parser/src/index.ts:92:38)\n      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)\n          at parser.next (<anonymous>)\n      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)\n          at normalizeFile.next (<anonymous>)\n      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.<anonymous> (tests/unit/monitoring/errors/error-boundaries.test.js:1:82)\n","name":"/home/jenner/code/mcps/tests/unit/monitoring/errors/error-boundaries.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["SentryIntegration","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["SentryIntegration","constructor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration constructor should accept custom options","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should accept custom options"},{"ancestorTitles":["SentryIntegration","initialize"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration initialize should initialize Sentry with configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize Sentry with configuration"},{"ancestorTitles":["SentryIntegration","initialize"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration initialize should not initialize without DSN","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should not initialize without DSN"},{"ancestorTitles":["SentryIntegration","initialize"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration initialize should not initialize twice","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not initialize twice"},{"ancestorTitles":["SentryIntegration","error capturing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration error capturing should capture exceptions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should capture exceptions"},{"ancestorTitles":["SentryIntegration","error capturing"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration error capturing should capture messages","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should capture messages"},{"ancestorTitles":["SentryIntegration","error capturing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration error capturing should handle uninitialized state","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle uninitialized state"},{"ancestorTitles":["SentryIntegration","context management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration context management should set user context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set user context"},{"ancestorTitles":["SentryIntegration","context management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration context management should clear user context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should clear user context"},{"ancestorTitles":["SentryIntegration","context management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration context management should set tags","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set tags"},{"ancestorTitles":["SentryIntegration","context management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration context management should set context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set context"},{"ancestorTitles":["SentryIntegration","context management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration context management should add breadcrumb","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should add breadcrumb"},{"ancestorTitles":["SentryIntegration","Express integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration Express integration should create Express error handler","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create Express error handler"},{"ancestorTitles":["SentryIntegration","Express integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration Express integration should create Express request handler","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create Express request handler"},{"ancestorTitles":["SentryIntegration","Express integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration Express integration should create tracing handler","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create tracing handler"},{"ancestorTitles":["SentryIntegration","performance monitoring"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration performance monitoring should start transaction","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should start transaction"},{"ancestorTitles":["SentryIntegration","performance monitoring"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration performance monitoring should create span","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create span"},{"ancestorTitles":["SentryIntegration","utility methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration utility methods should wrap async functions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should wrap async functions"},{"ancestorTitles":["SentryIntegration","utility methods"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration utility methods should capture errors in wrapped async functions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should capture errors in wrapped async functions"},{"ancestorTitles":["SentryIntegration","utility methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration utility methods should profile transactions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should profile transactions"},{"ancestorTitles":["SentryIntegration","utility methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration utility methods should flush events","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should flush events"},{"ancestorTitles":["SentryIntegration","utility methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration utility methods should close Sentry client","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should close Sentry client"},{"ancestorTitles":["SentryIntegration","utility methods"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration utility methods should get last event ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get last event ID"},{"ancestorTitles":["SentryIntegration","event processors"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration event processors should add custom event processor","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should add custom event processor"},{"ancestorTitles":["SentryIntegration","event processors"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration event processors should queue event processors before initialization","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should queue event processors before initialization"},{"ancestorTitles":["SentryIntegration","sensitive data filtering"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration sensitive data filtering should filter sensitive data from events","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should filter sensitive data from events"},{"ancestorTitles":["SentryIntegration","Winston transport"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"SentryIntegration Winston transport should create Winston transport","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create Winston transport"}],"endTime":1753397522782,"message":"","name":"/home/jenner/code/mcps/tests/unit/monitoring/sentry-integration.test.js","startTime":1753397522576,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should detect OS and architecture correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect OS and architecture correctly"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":727,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should check for required dependencies","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check for required dependencies"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should create directory structure","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should create directory structure"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should copy installation files","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should copy installation files"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":3,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/e2e/installation-flow.e2e.test.js:125:30)"],"fullName":"Installation Flow E2E Tests Initial Installation should set correct file permissions","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should set correct file permissions"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should create default configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create default configuration"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should create default profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create default profile"},{"ancestorTitles":["Installation Flow E2E Tests","Initial Installation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Initial Installation should initialize service registry","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should initialize service registry"},{"ancestorTitles":["Installation Flow E2E Tests","Environment Setup"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Environment Setup should create environment file","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create environment file"},{"ancestorTitles":["Installation Flow E2E Tests","Environment Setup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Environment Setup should configure PATH for CLI","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should configure PATH for CLI"},{"ancestorTitles":["Installation Flow E2E Tests","Environment Setup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Environment Setup should setup shell completion","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should setup shell completion"},{"ancestorTitles":["Installation Flow E2E Tests","Post-Installation Verification"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Post-Installation Verification should verify all components are installed","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should verify all components are installed"},{"ancestorTitles":["Installation Flow E2E Tests","Post-Installation Verification"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Post-Installation Verification should run installation self-test","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should run installation self-test"},{"ancestorTitles":["Installation Flow E2E Tests","Post-Installation Verification"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Post-Installation Verification should display installation summary","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should display installation summary"},{"ancestorTitles":["Installation Flow E2E Tests","Installation Rollback"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Installation Rollback should support installation rollback on failure","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should support installation rollback on failure"},{"ancestorTitles":["Installation Flow E2E Tests","Installation Rollback"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Installation Rollback should clean up partial installation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should clean up partial installation"},{"ancestorTitles":["Installation Flow E2E Tests","Platform-Specific Installation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Platform-Specific Installation should handle Linux-specific setup","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle Linux-specific setup"},{"ancestorTitles":["Installation Flow E2E Tests","Platform-Specific Installation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Platform-Specific Installation should handle macOS-specific setup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle macOS-specific setup"},{"ancestorTitles":["Installation Flow E2E Tests","Platform-Specific Installation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Installation Flow E2E Tests Platform-Specific Installation should handle Windows-specific setup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle Windows-specific setup"}],"endTime":1753397522790,"message":"  ● Installation Flow E2E Tests › Initial Installation › should set correct file permissions\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m         \u001b[36mconst\u001b[39m stats \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fs\u001b[33m.\u001b[39mstat(filePath)\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m         \u001b[36mconst\u001b[39m isExecutable \u001b[33m=\u001b[39m (stats\u001b[33m.\u001b[39mmode \u001b[33m&\u001b[39m \u001b[35m0o111\u001b[39m) \u001b[33m!==\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m         expect(isExecutable)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m       }\n     \u001b[90m 127 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 128 |\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/e2e/installation-flow.e2e.test.js:125:30)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/e2e/installation-flow.e2e.test.js","startTime":1753397521631,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Service Deployment E2E Tests","Service Discovery and Installation"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Discovery and Installation should discover available services from registry","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should discover available services from registry"},{"ancestorTitles":["Service Deployment E2E Tests","Service Discovery and Installation"],"duration":449,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Discovery and Installation should install a service from registry","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should install a service from registry"},{"ancestorTitles":["Service Deployment E2E Tests","Service Discovery and Installation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Discovery and Installation should handle service dependencies during installation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle service dependencies during installation"},{"ancestorTitles":["Service Deployment E2E Tests","Service Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Configuration should apply custom configuration during deployment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should apply custom configuration during deployment"},{"ancestorTitles":["Service Deployment E2E Tests","Service Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Configuration should support environment-specific configurations","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should support environment-specific configurations"},{"ancestorTitles":["Service Deployment E2E Tests","Service Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Configuration should validate configuration before deployment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate configuration before deployment"},{"ancestorTitles":["Service Deployment E2E Tests","Service Deployment Strategies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Deployment Strategies should support rolling deployment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should support rolling deployment"},{"ancestorTitles":["Service Deployment E2E Tests","Service Deployment Strategies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Deployment Strategies should support blue-green deployment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should support blue-green deployment"},{"ancestorTitles":["Service Deployment E2E Tests","Service Deployment Strategies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Deployment Strategies should support canary deployment","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should support canary deployment"},{"ancestorTitles":["Service Deployment E2E Tests","Service Scaling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Scaling should scale service horizontally","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should scale service horizontally"},{"ancestorTitles":["Service Deployment E2E Tests","Service Scaling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Scaling should respect scaling cooldown periods","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should respect scaling cooldown periods"},{"ancestorTitles":["Service Deployment E2E Tests","Service Health and Recovery"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Health and Recovery should detect and recover from service failures","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect and recover from service failures"},{"ancestorTitles":["Service Deployment E2E Tests","Service Health and Recovery"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Health and Recovery should implement circuit breaker for failing services","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should implement circuit breaker for failing services"},{"ancestorTitles":["Service Deployment E2E Tests","Service Networking"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Networking should configure service networking and discovery","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should configure service networking and discovery"},{"ancestorTitles":["Service Deployment E2E Tests","Service Networking"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Networking should setup service mesh for microservices","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should setup service mesh for microservices"},{"ancestorTitles":["Service Deployment E2E Tests","Service Monitoring and Logging"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Monitoring and Logging should configure centralized logging","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should configure centralized logging"},{"ancestorTitles":["Service Deployment E2E Tests","Service Monitoring and Logging"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Service Deployment E2E Tests Service Monitoring and Logging should setup metrics collection","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should setup metrics collection"}],"endTime":1753397522821,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/e2e/service-deployment.e2e.test.js","startTime":1753397522280,"status":"passed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/mcp-local-setup/security/network/service-isolation.js: Unexpected reserved word 'public'. (240:14)\n\n    \u001b[0m \u001b[90m 238 |\u001b[39m         \u001b[90m// Group services by isolation requirements\u001b[39m\n     \u001b[90m 239 |\u001b[39m         \u001b[36mconst\u001b[39m isolated \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 240 |\u001b[39m         \u001b[36mconst\u001b[39m \u001b[36mpublic\u001b[39m \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 241 |\u001b[39m\n     \u001b[90m 242 |\u001b[39m         \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m rule \u001b[36mof\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mrules\u001b[33m.\u001b[39mvalues()) {\n     \u001b[90m 243 |\u001b[39m             \u001b[36mif\u001b[39m (rule\u001b[33m.\u001b[39mallowed) {\u001b[0m\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mRateLimiter\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'./rate-limiter'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m  7 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mCORSManager\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'./cors-manager'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mServiceIsolation\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'./service-isolation'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m \u001b[36mclass\u001b[39m \u001b[33mNetworkManager\u001b[39m {\n     \u001b[90m 11 |\u001b[39m     constructor() {\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as checkReservedWord] (node_modules/@babel/parser/src/parser/expression.ts:2886:12)\n      at Parser.checkReservedWord [as parseIdentifierName] (node_modules/@babel/parser/src/parser/expression.ts:2848:12)\n      at Parser.parseIdentifierName [as parseIdentifier] (node_modules/@babel/parser/src/parser/expression.ts:2805:23)\n      at Parser.parseIdentifier [as parseBindingAtom] (node_modules/@babel/parser/src/parser/lval.ts:427:17)\n      at Parser.parseBindingAtom [as parseVarId] (node_modules/@babel/parser/src/parser/statement.ts:1618:21)\n      at Parser.parseVarId [as parseVar] (node_modules/@babel/parser/src/parser/statement.ts:1577:12)\n      at Parser.parseVar [as parseVarStatement] (node_modules/@babel/parser/src/parser/statement.ts:1246:10)\n      at Parser.parseVarStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:607:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseFunctionBodyAndFinish] (node_modules/@babel/parser/src/parser/expression.ts:2585:10)\n      at Parser.parseFunctionBodyAndFinish [as parseMethod] (node_modules/@babel/parser/src/parser/expression.ts:2482:31)\n      at Parser.parseMethod [as pushClassMethod] (node_modules/@babel/parser/src/parser/statement.ts:2239:12)\n      at Parser.pushClassMethod [as parseClassMemberWithIsStatic] (node_modules/@babel/parser/src/parser/statement.ts:2060:14)\n      at Parser.parseClassMemberWithIsStatic [as parseClassMember] (node_modules/@babel/parser/src/parser/statement.ts:1933:10)\n      at parseClassMember (node_modules/@babel/parser/src/parser/statement.ts:1846:14)\n      at Parser.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)\n      at Parser.withSmartMixTopicForbiddingContext [as parseClassBody] (node_modules/@babel/parser/src/parser/statement.ts:1818:10)\n      at Parser.parseClassBody [as parseClass] (node_modules/@babel/parser/src/parser/statement.ts:1769:22)\n      at Parser.parseClass [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:527:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)\n      at Parser.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)\n      at Parser.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)\n      at Parser.parseTopLevel [as parse] (node_modules/@babel/parser/src/parser/index.ts:93:10)\n      at parse (node_modules/@babel/parser/src/index.ts:92:38)\n      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)\n          at parser.next (<anonymous>)\n      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)\n          at normalizeFile.next (<anonymous>)\n      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (mcp-local-setup/security/network/network-manager.js:8:26)\n      at Object.require (mcp-local-setup/security/index.js:8:24)\n      at Object.require (mcp-local-setup/tests/integration/security.integration.test.js:6:32)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/security.integration.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     • If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     • If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     • To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     • If you need a custom transformation specify a \"transform\" option in your config.\n     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    SyntaxError: /home/jenner/code/mcps/monitoring/errors/error-boundaries.js: Support for the experimental syntax 'jsx' isn't currently enabled (96:11):\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33mFallbackComponent\u001b[39m) {\n     \u001b[90m 95 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mFallbackComponent\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m             error\u001b[33m=\u001b[39m{error}\n     \u001b[90m 98 |\u001b[39m             errorInfo\u001b[33m=\u001b[39m{errorInfo}\n     \u001b[90m 99 |\u001b[39m             resetErrorBoundary\u001b[33m=\u001b[39m{\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mresetErrorBoundary}\u001b[0m\n\n    Add @babel/preset-react (https://github.com/babel/babel/tree/main/packages/babel-preset-react) to the 'presets' section of your Babel config to enable transformation.\n    If you want to leave it as-is, add @babel/plugin-syntax-jsx (https://github.com/babel/babel/tree/main/packages/babel-plugin-syntax-jsx) to the 'plugins' section to enable parsing.\n\n    If you already added the plugin for this syntax to your config, it's possible that your config isn't being loaded.\n    You can re-run Babel with the BABEL_SHOW_CONFIG_FOR environment variable to show the loaded configuration:\n    \tnpx cross-env BABEL_SHOW_CONFIG_FOR=/home/jenner/code/mcps/monitoring/errors/error-boundaries.js <your build command>\n    See https://babeljs.io/docs/configuration#print-effective-configs for more info.\n\n    \u001b[0m \u001b[90m 1 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mSentryIntegration\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/errors/sentry-integration'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mErrorBoundaries\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/errors/error-boundaries'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 3 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mAlertRouter\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/errors/alert-router'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 4 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mErrorTracker\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/errors/error-tracker'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 5 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mLogger\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'../../../monitoring/logging/logger'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at constructor (node_modules/@babel/parser/src/parse-error.ts:95:45)\n      at Parser.toParseError [as raise] (node_modules/@babel/parser/src/tokenizer/index.ts:1503:19)\n      at Parser.raise [as expectOnePlugin] (node_modules/@babel/parser/src/tokenizer/index.ts:1568:18)\n      at Parser.expectOnePlugin [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1264:16)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:257:12)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3192:12)\n      at Parser.allowInAnd [as parseMaybeAssignAllowIn] (node_modules/@babel/parser/src/parser/expression.ts:256:17)\n      at Parser.parseMaybeAssignAllowIn [as parseMaybeAssignAllowInOrVoidPattern] (node_modules/@babel/parser/src/parser/expression.ts:3306:17)\n      at Parser.parseMaybeAssignAllowInOrVoidPattern [as parseParenAndDistinguishExpression] (node_modules/@babel/parser/src/parser/expression.ts:1813:16)\n      at Parser.parseParenAndDistinguishExpression [as parseExprAtom] (node_modules/@babel/parser/src/parser/expression.ts:1162:21)\n      at Parser.parseExprAtom [as parseExprSubscripts] (node_modules/@babel/parser/src/parser/expression.ts:734:23)\n      at Parser.parseExprSubscripts [as parseUpdate] (node_modules/@babel/parser/src/parser/expression.ts:713:21)\n      at Parser.parseUpdate [as parseMaybeUnary] (node_modules/@babel/parser/src/parser/expression.ts:675:23)\n      at Parser.parseMaybeUnary [as parseMaybeUnaryOrPrivate] (node_modules/@babel/parser/src/parser/expression.ts:409:14)\n      at Parser.parseMaybeUnaryOrPrivate [as parseExprOps] (node_modules/@babel/parser/src/parser/expression.ts:421:23)\n      at Parser.parseExprOps [as parseMaybeConditional] (node_modules/@babel/parser/src/parser/expression.ts:376:23)\n      at Parser.parseMaybeConditional [as parseMaybeAssign] (node_modules/@babel/parser/src/parser/expression.ts:301:21)\n      at Parser.parseMaybeAssign [as parseExpressionBase] (node_modules/@babel/parser/src/parser/expression.ts:226:23)\n      at parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:217:39)\n      at Parser.callback [as allowInAnd] (node_modules/@babel/parser/src/parser/expression.ts:3187:16)\n      at Parser.allowInAnd [as parseExpression] (node_modules/@babel/parser/src/parser/expression.ts:217:17)\n      at Parser.parseExpression [as parseReturnStatement] (node_modules/@babel/parser/src/parser/statement.ts:1110:28)\n      at Parser.parseReturnStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:538:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1089:28)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:617:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementOrSloppyAnnexBFunctionDeclaration] (node_modules/@babel/parser/src/parser/statement.ts:446:17)\n      at Parser.parseStatementOrSloppyAnnexBFunctionDeclaration [as parseIfStatement] (node_modules/@babel/parser/src/parser/statement.ts:1089:28)\n      at Parser.parseIfStatement [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:536:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseStatementListItem] (node_modules/@babel/parser/src/parser/statement.ts:426:17)\n      at Parser.parseStatementListItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1439:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseBlock] (node_modules/@babel/parser/src/parser/statement.ts:1380:10)\n      at Parser.parseBlock [as parseFunctionBody] (node_modules/@babel/parser/src/parser/expression.ts:2616:24)\n      at Parser.parseFunctionBody [as parseFunctionBodyAndFinish] (node_modules/@babel/parser/src/parser/expression.ts:2585:10)\n      at Parser.parseFunctionBodyAndFinish [as parseMethod] (node_modules/@babel/parser/src/parser/expression.ts:2482:31)\n      at Parser.parseMethod [as pushClassMethod] (node_modules/@babel/parser/src/parser/statement.ts:2239:12)\n      at Parser.pushClassMethod [as parseClassMemberWithIsStatic] (node_modules/@babel/parser/src/parser/statement.ts:2018:12)\n      at Parser.parseClassMemberWithIsStatic [as parseClassMember] (node_modules/@babel/parser/src/parser/statement.ts:1933:10)\n      at parseClassMember (node_modules/@babel/parser/src/parser/statement.ts:1846:14)\n      at Parser.callback [as withSmartMixTopicForbiddingContext] (node_modules/@babel/parser/src/parser/expression.ts:3166:14)\n      at Parser.withSmartMixTopicForbiddingContext [as parseClassBody] (node_modules/@babel/parser/src/parser/statement.ts:1818:10)\n      at Parser.parseClassBody [as parseClass] (node_modules/@babel/parser/src/parser/statement.ts:1769:22)\n      at Parser.parseClass [as parseStatementContent] (node_modules/@babel/parser/src/parser/statement.ts:527:21)\n      at Parser.parseStatementContent [as parseStatementLike] (node_modules/@babel/parser/src/parser/statement.ts:477:17)\n      at Parser.parseStatementLike [as parseModuleItem] (node_modules/@babel/parser/src/parser/statement.ts:414:17)\n      at Parser.parseModuleItem [as parseBlockOrModuleBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1438:16)\n      at Parser.parseBlockOrModuleBlockBody [as parseBlockBody] (node_modules/@babel/parser/src/parser/statement.ts:1412:10)\n      at Parser.parseBlockBody [as parseProgram] (node_modules/@babel/parser/src/parser/statement.ts:229:10)\n      at Parser.parseProgram [as parseTopLevel] (node_modules/@babel/parser/src/parser/statement.ts:203:25)\n      at Parser.parseTopLevel [as parse] (node_modules/@babel/parser/src/parser/index.ts:93:10)\n      at parse (node_modules/@babel/parser/src/index.ts:92:38)\n      at parser (node_modules/@babel/core/src/parser/index.ts:28:19)\n          at parser.next (<anonymous>)\n      at normalizeFile (node_modules/@babel/core/src/transformation/normalize-file.ts:49:24)\n          at normalizeFile.next (<anonymous>)\n      at run (node_modules/@babel/core/src/transformation/index.ts:40:36)\n          at run.next (<anonymous>)\n      at transform (node_modules/@babel/core/src/transform.ts:29:20)\n          at transform.next (<anonymous>)\n      at evaluateSync (node_modules/gensync/index.js:251:28)\n      at sync (node_modules/gensync/index.js:89:14)\n      at fn (node_modules/@babel/core/src/errors/rewrite-stack-trace.ts:99:14)\n      at transformSync (node_modules/@babel/core/src/transform.ts:66:52)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/ScriptTransformer.js:545:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/ScriptTransformer.js:674:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/ScriptTransformer.js:726:19)\n      at Object.require (tests/integration/monitoring/error-tracking.test.js:2:25)\n","name":"/home/jenner/code/mcps/tests/integration/monitoring/error-tracking.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["TokenRefreshManager","registerToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager registerToken should register token for auto-refresh","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should register token for auto-refresh"},{"ancestorTitles":["TokenRefreshManager","registerToken"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager registerToken should require tokenId, tokenData, and refreshCallback","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require tokenId, tokenData, and refreshCallback"},{"ancestorTitles":["TokenRefreshManager","registerToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager registerToken should require expiresAt or expiresIn","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should require expiresAt or expiresIn"},{"ancestorTitles":["TokenRefreshManager","registerToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager registerToken should emit token:registered event","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should emit token:registered event"},{"ancestorTitles":["TokenRefreshManager","unregisterToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager unregisterToken should unregister token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should unregister token"},{"ancestorTitles":["TokenRefreshManager","unregisterToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager unregisterToken should clear refresh timer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should clear refresh timer"},{"ancestorTitles":["TokenRefreshManager","unregisterToken"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager unregisterToken should emit token:unregistered event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit token:unregistered event"},{"ancestorTitles":["TokenRefreshManager","scheduleRefresh"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager scheduleRefresh should schedule refresh before expiry","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should schedule refresh before expiry"},{"ancestorTitles":["TokenRefreshManager","scheduleRefresh"],"duration":102,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager scheduleRefresh should refresh immediately if token is expired","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should refresh immediately if token is expired"},{"ancestorTitles":["TokenRefreshManager","refreshToken"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager refreshToken should refresh token successfully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should refresh token successfully"},{"ancestorTitles":["TokenRefreshManager","refreshToken"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager refreshToken should emit refresh events","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should emit refresh events"},{"ancestorTitles":["TokenRefreshManager","refreshToken"],"duration":201,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager refreshToken should retry on failure","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should retry on failure"},{"ancestorTitles":["TokenRefreshManager","refreshToken"],"duration":501,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager refreshToken should fail after max retries","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should fail after max retries"},{"ancestorTitles":["TokenRefreshManager","getTokenInfo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager getTokenInfo should return token information","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return token information"},{"ancestorTitles":["TokenRefreshManager","getTokenInfo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager getTokenInfo should detect expired tokens","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect expired tokens"},{"ancestorTitles":["TokenRefreshManager","getTokenInfo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager getTokenInfo should return null for unknown token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return null for unknown token"},{"ancestorTitles":["TokenRefreshManager","forceRefresh"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager forceRefresh should manually refresh token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should manually refresh token"},{"ancestorTitles":["TokenRefreshManager","forceRefresh"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager forceRefresh should throw for unknown token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw for unknown token"},{"ancestorTitles":["TokenRefreshManager","needsRefresh"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager needsRefresh should detect when token needs refresh","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect when token needs refresh"},{"ancestorTitles":["TokenRefreshManager","needsRefresh"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager needsRefresh should return false when token is fresh","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return false when token is fresh"},{"ancestorTitles":["TokenRefreshManager","createAutoRefreshMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager createAutoRefreshMiddleware should register token on first request","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should register token on first request"},{"ancestorTitles":["TokenRefreshManager","createAutoRefreshMiddleware"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager createAutoRefreshMiddleware should refresh token if needed","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should refresh token if needed"},{"ancestorTitles":["TokenRefreshManager","createAutoRefreshMiddleware"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager createAutoRefreshMiddleware should continue on errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should continue on errors"},{"ancestorTitles":["TokenRefreshManager","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager cleanup should remove expired tokens","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove expired tokens"},{"ancestorTitles":["TokenRefreshManager","cleanup"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager cleanup should emit cleanup events","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should emit cleanup events"},{"ancestorTitles":["TokenRefreshManager","destroy"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager destroy should clean up all resources","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should clean up all resources"},{"ancestorTitles":["TokenRefreshManager","createJWTRefreshManager"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager createJWTRefreshManager should create manager with JWT-specific helpers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should create manager with JWT-specific helpers"},{"ancestorTitles":["TokenRefreshManager","createJWTRefreshManager"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TokenRefreshManager createJWTRefreshManager should register JWT tokens with refresh logic","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should register JWT tokens with refresh logic"}],"endTime":1753397523188,"message":"","name":"/home/jenner/code/mcps/tests/unit/security/token-refresh.test.js","startTime":1753397522284,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Update Mechanism Integration Tests","Platform Self-Update"],"duration":9,"failureDetails":[{}],"failureMessages":["Error: Failed to check for updates: Invalid version. Must be a string. Got type \"object\".\n    at UpdateManager.checkForUpdates (/home/jenner/code/mcps/mcp-local-setup/scripts/update-manager.js:103:19)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:38:29)"],"fullName":"Update Mechanism Integration Tests Platform Self-Update should check for platform updates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should check for platform updates"},{"ancestorTitles":["Update Mechanism Integration Tests","Platform Self-Update"],"duration":8,"failureDetails":[{}],"failureMessages":["Error: Failed to check for updates: Invalid version. Must be a string. Got type \"object\".\n    at UpdateManager.checkForUpdates (/home/jenner/code/mcps/mcp-local-setup/scripts/update-manager.js:103:19)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:57:29)"],"fullName":"Update Mechanism Integration Tests Platform Self-Update should check beta channel updates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should check beta channel updates"},{"ancestorTitles":["Update Mechanism Integration Tests","Platform Self-Update"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Platform Self-Update should download update with progress tracking","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should download update with progress tracking"},{"ancestorTitles":["Update Mechanism Integration Tests","Platform Self-Update"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Platform Self-Update should verify update integrity","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should verify update integrity"},{"ancestorTitles":["Update Mechanism Integration Tests","Platform Self-Update"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Platform Self-Update should simulate update (dry run)","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should simulate update (dry run)"},{"ancestorTitles":["Update Mechanism Integration Tests","Platform Self-Update"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Platform Self-Update should apply update with backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should apply update with backup"},{"ancestorTitles":["Update Mechanism Integration Tests","Service Updates"],"duration":563,"failureDetails":[{}],"failureMessages":["Error: Failed to check service updates: Cannot read properties of undefined (reading 'echo')\n    at ServiceUpdater.checkServiceUpdates (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:66:19)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:137:36)"],"fullName":"Update Mechanism Integration Tests Service Updates should check for service updates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should check for service updates"},{"ancestorTitles":["Update Mechanism Integration Tests","Service Updates"],"duration":274,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Service Updates should check specific service updates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should check specific service updates"},{"ancestorTitles":["Update Mechanism Integration Tests","Service Updates"],"duration":216,"failureDetails":[{}],"failureMessages":["Error: Failed to check service updates: Cannot read properties of undefined (reading 'echo')\n    at ServiceUpdater.checkServiceUpdates (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:66:19)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:161:29)"],"fullName":"Update Mechanism Integration Tests Service Updates should handle dependency resolution","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle dependency resolution"},{"ancestorTitles":["Update Mechanism Integration Tests","Service Updates"],"duration":200,"failureDetails":[{}],"failureMessages":["Error: Failed to check service updates: Cannot read properties of undefined (reading 'echo')\n    at ServiceUpdater.checkServiceUpdates (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:66:19)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:172:29)"],"fullName":"Update Mechanism Integration Tests Service Updates should detect breaking changes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should detect breaking changes"},{"ancestorTitles":["Update Mechanism Integration Tests","Service Updates"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Service Updates should update individual service","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should update individual service"},{"ancestorTitles":["Update Mechanism Integration Tests","Rollback Functionality"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Rollback Functionality should get update history","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should get update history"},{"ancestorTitles":["Update Mechanism Integration Tests","Rollback Functionality"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Rollback Functionality should rollback to previous version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should rollback to previous version"},{"ancestorTitles":["Update Mechanism Integration Tests","Rollback Functionality"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Rollback Functionality should handle rollback with data preservation","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle rollback with data preservation"},{"ancestorTitles":["Update Mechanism Integration Tests","Rollback Functionality"],"duration":13,"failureDetails":[{"matcherResult":{"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Incompatible version\"\nReceived message:   \"No backup found for version 0.1.0\"\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m             \u001b[36mconst\u001b[39m backupPath \u001b[33m=\u001b[39m path\u001b[33m.\u001b[39mjoin(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mupdateDir\u001b[33m,\u001b[39m \u001b[32m'backups'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`backup-${version}.tar.gz`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mfileExists(backupPath)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`No backup found for version ${version}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m             }\n     \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m             \u001b[90m// Check compatibility unless forced\u001b[39m\u001b[0m\n\n      at UpdateManager.rollback (mcp-local-setup/scripts/update-manager.js:268:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:241:13)","pass":false},"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Incompatible version\"\nReceived message:   \"No backup found for version 0.1.0\"\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m             \u001b[36mconst\u001b[39m backupPath \u001b[33m=\u001b[39m path\u001b[33m.\u001b[39mjoin(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mupdateDir\u001b[33m,\u001b[39m \u001b[32m'backups'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`backup-${version}.tar.gz`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mfileExists(backupPath)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`No backup found for version ${version}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m             }\n     \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m             \u001b[90m// Check compatibility unless forced\u001b[39m\u001b[0m\n\n      at UpdateManager.rollback (mcp-local-setup/scripts/update-manager.js:268:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:241:13)"}],"failureMessages":["Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Incompatible version\"\nReceived message:   \"No backup found for version 0.1.0\"\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m             \u001b[36mconst\u001b[39m backupPath \u001b[33m=\u001b[39m path\u001b[33m.\u001b[39mjoin(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mupdateDir\u001b[33m,\u001b[39m \u001b[32m'backups'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`backup-${version}.tar.gz`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mfileExists(backupPath)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`No backup found for version ${version}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m             }\n     \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m             \u001b[90m// Check compatibility unless forced\u001b[39m\u001b[0m\n\n      at UpdateManager.rollback (mcp-local-setup/scripts/update-manager.js:268:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:241:13)\n    at Object.toThrow (/home/jenner/code/mcps/node_modules/expect/build/index.js:218:22)\n    at Object.toThrow (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:242:26)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Update Mechanism Integration Tests Rollback Functionality should fail rollback to incompatible version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should fail rollback to incompatible version"},{"ancestorTitles":["Update Mechanism Integration Tests","Update Notifications"],"duration":0,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeTruthy()\n\nReceived: undefined","pass":false}}],"failureMessages":["Error: expect(received).toBeTruthy()\n\nReceived: undefined\n    at Object.toBeTruthy (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:251:41)"],"fullName":"Update Mechanism Integration Tests Update Notifications should get current update status","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should get current update status"},{"ancestorTitles":["Update Mechanism Integration Tests","Update Notifications"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Update Notifications should track update progress","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should track update progress"},{"ancestorTitles":["Update Mechanism Integration Tests","Auto-Update Configuration"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Auto-Update Configuration should configure automatic updates","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should configure automatic updates"},{"ancestorTitles":["Update Mechanism Integration Tests","Auto-Update Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Auto-Update Configuration should disable automatic updates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should disable automatic updates"},{"ancestorTitles":["Update Mechanism Integration Tests","Auto-Update Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Auto-Update Configuration should list available update channels","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should list available update channels"},{"ancestorTitles":["Update Mechanism Integration Tests","Update Cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Update Cleanup should clean up old update files","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should clean up old update files"},{"ancestorTitles":["Update Mechanism Integration Tests","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Error Handling should handle network errors during download","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle network errors during download"},{"ancestorTitles":["Update Mechanism Integration Tests","Error Handling"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Error Handling should handle corrupted update packages","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle corrupted update packages"},{"ancestorTitles":["Update Mechanism Integration Tests","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Error Handling should handle update application failures","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle update application failures"},{"ancestorTitles":["Update Mechanism Integration Tests","Error Handling"],"duration":4,"failureDetails":[{"matcherResult":{"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Downgrade not allowed\"\nReceived message:   \"metadata is not defined\"\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m                 installedAt\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m,\u001b[39m\n     \u001b[90m 245 |\u001b[39m                 installedBy\u001b[33m:\u001b[39m \u001b[32m'system'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m                 previousVersion\u001b[33m:\u001b[39m metadata\u001b[33m.\u001b[39mcurrentVersion\u001b[33m,\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m                 success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 248 |\u001b[39m                 notes\u001b[33m:\u001b[39m error\u001b[33m.\u001b[39mmessage\n     \u001b[90m 249 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[0m\n\n      at UpdateManager.metadata [as applyUpdate] (mcp-local-setup/scripts/update-manager.js:246:34)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:336:13)","pass":false},"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Downgrade not allowed\"\nReceived message:   \"metadata is not defined\"\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m                 installedAt\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m,\u001b[39m\n     \u001b[90m 245 |\u001b[39m                 installedBy\u001b[33m:\u001b[39m \u001b[32m'system'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m                 previousVersion\u001b[33m:\u001b[39m metadata\u001b[33m.\u001b[39mcurrentVersion\u001b[33m,\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m                 success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 248 |\u001b[39m                 notes\u001b[33m:\u001b[39m error\u001b[33m.\u001b[39mmessage\n     \u001b[90m 249 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[0m\n\n      at UpdateManager.metadata [as applyUpdate] (mcp-local-setup/scripts/update-manager.js:246:34)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:336:13)"}],"failureMessages":["Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Downgrade not allowed\"\nReceived message:   \"metadata is not defined\"\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m                 installedAt\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m,\u001b[39m\n     \u001b[90m 245 |\u001b[39m                 installedBy\u001b[33m:\u001b[39m \u001b[32m'system'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m                 previousVersion\u001b[33m:\u001b[39m metadata\u001b[33m.\u001b[39mcurrentVersion\u001b[33m,\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m                 success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 248 |\u001b[39m                 notes\u001b[33m:\u001b[39m error\u001b[33m.\u001b[39mmessage\n     \u001b[90m 249 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[0m\n\n      at UpdateManager.metadata [as applyUpdate] (mcp-local-setup/scripts/update-manager.js:246:34)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:336:13)\n    at Object.toThrow (/home/jenner/code/mcps/node_modules/expect/build/index.js:218:22)\n    at Object.toThrow (/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js:337:26)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Update Mechanism Integration Tests Error Handling should prevent downgrade without force flag","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should prevent downgrade without force flag"},{"ancestorTitles":["Update Mechanism Integration Tests","Multi-Stage Updates"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Multi-Stage Updates should handle updates requiring restart","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle updates requiring restart"},{"ancestorTitles":["Update Mechanism Integration Tests","Multi-Stage Updates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Multi-Stage Updates should handle database migrations during update","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle database migrations during update"},{"ancestorTitles":["Update Mechanism Integration Tests","Multi-Stage Updates"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Update Mechanism Integration Tests Multi-Stage Updates should handle configuration migrations","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle configuration migrations"}],"endTime":1753397523431,"message":"  ● Update Mechanism Integration Tests › Platform Self-Update › should check for platform updates\n\n    Failed to check for updates: Invalid version. Must be a string. Got type \"object\".\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m             \u001b[36mreturn\u001b[39m applicableUpdates\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Failed to check for updates: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m         }\n     \u001b[90m 105 |\u001b[39m     }\n     \u001b[90m 106 |\u001b[39m\u001b[0m\n\n      at UpdateManager.checkForUpdates (mcp-local-setup/scripts/update-manager.js:103:19)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:38:29)\n\n  ● Update Mechanism Integration Tests › Platform Self-Update › should check beta channel updates\n\n    Failed to check for updates: Invalid version. Must be a string. Got type \"object\".\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m             \u001b[36mreturn\u001b[39m applicableUpdates\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Failed to check for updates: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m         }\n     \u001b[90m 105 |\u001b[39m     }\n     \u001b[90m 106 |\u001b[39m\u001b[0m\n\n      at UpdateManager.checkForUpdates (mcp-local-setup/scripts/update-manager.js:103:19)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:57:29)\n\n  ● Update Mechanism Integration Tests › Service Updates › should check for service updates\n\n    Failed to check service updates: Cannot read properties of undefined (reading 'echo')\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m             \u001b[36mreturn\u001b[39m updates\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Failed to check service updates: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m         }\n     \u001b[90m 68 |\u001b[39m     }\n     \u001b[90m 69 |\u001b[39m\u001b[0m\n\n      at ServiceUpdater.checkServiceUpdates (mcp-local-setup/scripts/service-updater.js:66:19)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:137:36)\n\n  ● Update Mechanism Integration Tests › Service Updates › should handle dependency resolution\n\n    Failed to check service updates: Cannot read properties of undefined (reading 'echo')\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m             \u001b[36mreturn\u001b[39m updates\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Failed to check service updates: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m         }\n     \u001b[90m 68 |\u001b[39m     }\n     \u001b[90m 69 |\u001b[39m\u001b[0m\n\n      at ServiceUpdater.checkServiceUpdates (mcp-local-setup/scripts/service-updater.js:66:19)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:161:29)\n\n  ● Update Mechanism Integration Tests › Service Updates › should detect breaking changes\n\n    Failed to check service updates: Cannot read properties of undefined (reading 'echo')\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m             \u001b[36mreturn\u001b[39m updates\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m         } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Failed to check service updates: ${error.message}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m         }\n     \u001b[90m 68 |\u001b[39m     }\n     \u001b[90m 69 |\u001b[39m\u001b[0m\n\n      at ServiceUpdater.checkServiceUpdates (mcp-local-setup/scripts/service-updater.js:66:19)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:172:29)\n\n  ● Update Mechanism Integration Tests › Rollback Functionality › should fail rollback to incompatible version\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Incompatible version\"\n    Received message:   \"No backup found for version 0.1.0\"\n\n        \u001b[0m \u001b[90m 266 |\u001b[39m             \u001b[36mconst\u001b[39m backupPath \u001b[33m=\u001b[39m path\u001b[33m.\u001b[39mjoin(\u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mupdateDir\u001b[33m,\u001b[39m \u001b[32m'backups'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`backup-${version}.tar.gz`\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m 267 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39m\u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mfileExists(backupPath)) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`No backup found for version ${version}`\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 269 |\u001b[39m             }\n         \u001b[90m 270 |\u001b[39m\n         \u001b[90m 271 |\u001b[39m             \u001b[90m// Check compatibility unless forced\u001b[39m\u001b[0m\n\n      at UpdateManager.rollback (mcp-local-setup/scripts/update-manager.js:268:23)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:241:13)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.toThrow (mcp-local-setup/tests/integration/update.integration.test.js:242:26)\n\n  ● Update Mechanism Integration Tests › Update Notifications › should get current update status\n\n    expect(received).toBeTruthy()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 249 |\u001b[39m             \n     \u001b[90m 250 |\u001b[39m             \u001b[36mif\u001b[39m (status) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 251 |\u001b[39m                 expect(status\u001b[33m.\u001b[39mupdateId)\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 252 |\u001b[39m                 expect(status\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoMatch(\u001b[35m/downloading|ready|applying|complete|failed/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 253 |\u001b[39m                 expect(status\u001b[33m.\u001b[39mprogress)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 254 |\u001b[39m                 expect(status\u001b[33m.\u001b[39mprogress)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeTruthy (mcp-local-setup/tests/integration/update.integration.test.js:251:41)\n\n  ● Update Mechanism Integration Tests › Error Handling › should prevent downgrade without force flag\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Downgrade not allowed\"\n    Received message:   \"metadata is not defined\"\n\n        \u001b[0m \u001b[90m 244 |\u001b[39m                 installedAt\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m,\u001b[39m\n         \u001b[90m 245 |\u001b[39m                 installedBy\u001b[33m:\u001b[39m \u001b[32m'system'\u001b[39m\u001b[33m,\u001b[39m\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m                 previousVersion\u001b[33m:\u001b[39m metadata\u001b[33m.\u001b[39mcurrentVersion\u001b[33m,\u001b[39m\n         \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 247 |\u001b[39m                 success\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n         \u001b[90m 248 |\u001b[39m                 notes\u001b[33m:\u001b[39m error\u001b[33m.\u001b[39mmessage\n         \u001b[90m 249 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[0m\n\n      at UpdateManager.metadata [as applyUpdate] (mcp-local-setup/scripts/update-manager.js:246:34)\n      at Object.<anonymous> (mcp-local-setup/tests/integration/update.integration.test.js:336:13)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.toThrow (mcp-local-setup/tests/integration/update.integration.test.js:337:26)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/update.integration.test.js","startTime":1753397521630,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/workers/ChildProcessWorker.js:181:21)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/cli-commands-health.unit.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["AuthManager","authenticate"],"duration":236,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authenticate should authenticate with valid username/password","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should authenticate with valid username/password"},{"ancestorTitles":["AuthManager","authenticate"],"duration":187,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authenticate should fail authentication with invalid password","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should fail authentication with invalid password"},{"ancestorTitles":["AuthManager","authenticate"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authenticate should authenticate with API key","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should authenticate with API key"},{"ancestorTitles":["AuthManager","authenticate"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authenticate should throw error for invalid credentials format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid credentials format"},{"ancestorTitles":["AuthManager","authorize"],"duration":176,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authorize should authorize valid token for allowed resource","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should authorize valid token for allowed resource"},{"ancestorTitles":["AuthManager","authorize"],"duration":158,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authorize should deny access for unauthorized resource","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should deny access for unauthorized resource"},{"ancestorTitles":["AuthManager","authorize"],"duration":150,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authorize should deny access for invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should deny access for invalid token"},{"ancestorTitles":["AuthManager","authorize"],"duration":295,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager authorize should handle wildcard permissions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle wildcard permissions"},{"ancestorTitles":["AuthManager","rotateToken"],"duration":144,"failureDetails":[{}],"failureMessages":["Error: Bad \"options.expiresIn\" option the payload already has an \"exp\" property.\n    at Object.<anonymous>.module.exports [as sign] (/home/jenner/code/mcps/mcp-local-setup/node_modules/jsonwebtoken/sign.js:163:20)\n    at AuthManager.sign [as generateJWT] (/home/jenner/code/mcps/mcp-local-setup/security/auth/auth-manager.js:220:20)\n    at AuthManager.generateJWT (/home/jenner/code/mcps/mcp-local-setup/security/auth/auth-manager.js:156:31)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/security/auth-manager.test.js:122:29)"],"fullName":"AuthManager rotateToken should rotate valid token","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should rotate valid token"},{"ancestorTitles":["AuthManager","rotateToken"],"duration":144,"failureDetails":[{}],"failureMessages":["Error: Bad \"options.expiresIn\" option the payload already has an \"exp\" property.\n    at Object.<anonymous>.module.exports [as sign] (/home/jenner/code/mcps/mcp-local-setup/node_modules/jsonwebtoken/sign.js:163:20)\n    at AuthManager.sign [as generateJWT] (/home/jenner/code/mcps/mcp-local-setup/security/auth/auth-manager.js:220:20)\n    at AuthManager.generateJWT (/home/jenner/code/mcps/mcp-local-setup/security/auth/auth-manager.js:156:31)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/security/auth-manager.test.js:131:29)"],"fullName":"AuthManager rotateToken should keep old token valid during grace period","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should keep old token valid during grace period"},{"ancestorTitles":["AuthManager","rotateToken"],"duration":146,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager rotateToken should throw error for invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for invalid token"},{"ancestorTitles":["AuthManager","API Key Management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager API Key Management should generate API key with permissions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate API key with permissions"},{"ancestorTitles":["AuthManager","API Key Management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager API Key Management should validate API key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate API key"},{"ancestorTitles":["AuthManager","API Key Management"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager API Key Management should revoke API key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should revoke API key"},{"ancestorTitles":["AuthManager","API Key Management"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager API Key Management should update last used timestamp","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update last used timestamp"},{"ancestorTitles":["AuthManager","JWT Generation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager JWT Generation should generate valid JWT","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should generate valid JWT"},{"ancestorTitles":["AuthManager","JWT Generation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AuthManager JWT Generation should set correct expiration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should set correct expiration"}],"endTime":1753397523710,"message":"  ● AuthManager › rotateToken › should rotate valid token\n\n    Bad \"options.expiresIn\" option the payload already has an \"exp\" property.\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m \u001b[90m     */\u001b[39m\n     \u001b[90m 219 |\u001b[39m     generateJWT(payload) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m         \u001b[36mreturn\u001b[39m jwt\u001b[33m.\u001b[39msign(payload\u001b[33m,\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mjwtSecret\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m             expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m\n     \u001b[90m 222 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 223 |\u001b[39m     }\u001b[0m\n\n      at Object.<anonymous>.module.exports [as sign] (mcp-local-setup/node_modules/jsonwebtoken/sign.js:163:20)\n      at AuthManager.sign [as generateJWT] (mcp-local-setup/security/auth/auth-manager.js:220:20)\n      at AuthManager.generateJWT (mcp-local-setup/security/auth/auth-manager.js:156:31)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/security/auth-manager.test.js:122:29)\n\n  ● AuthManager › rotateToken › should keep old token valid during grace period\n\n    Bad \"options.expiresIn\" option the payload already has an \"exp\" property.\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m \u001b[90m     */\u001b[39m\n     \u001b[90m 219 |\u001b[39m     generateJWT(payload) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m         \u001b[36mreturn\u001b[39m jwt\u001b[33m.\u001b[39msign(payload\u001b[33m,\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mjwtSecret\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m             expiresIn\u001b[33m:\u001b[39m \u001b[32m'1h'\u001b[39m\n     \u001b[90m 222 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 223 |\u001b[39m     }\u001b[0m\n\n      at Object.<anonymous>.module.exports [as sign] (mcp-local-setup/node_modules/jsonwebtoken/sign.js:163:20)\n      at AuthManager.sign [as generateJWT] (mcp-local-setup/security/auth/auth-manager.js:220:20)\n      at AuthManager.generateJWT (mcp-local-setup/security/auth/auth-manager.js:156:31)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/security/auth-manager.test.js:131:29)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/security/auth-manager.test.js","startTime":1753397521624,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["HealthMonitorInterface Implementation","Basic Health Checks"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Basic Health Checks checkHealth returns overall system health","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"checkHealth returns overall system health"},{"ancestorTitles":["HealthMonitorInterface Implementation","Basic Health Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Basic Health Checks checkHealth for specific service","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"checkHealth for specific service"},{"ancestorTitles":["HealthMonitorInterface Implementation","Basic Health Checks"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Basic Health Checks registerHealthCheck adds custom check","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"registerHealthCheck adds custom check"},{"ancestorTitles":["HealthMonitorInterface Implementation","Basic Health Checks"],"duration":2002,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Basic Health Checks health check timeout handling","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"health check timeout handling"},{"ancestorTitles":["HealthMonitorInterface Implementation","Probe Endpoints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Probe Endpoints livenessProbe always returns alive","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"livenessProbe always returns alive"},{"ancestorTitles":["HealthMonitorInterface Implementation","Probe Endpoints"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Probe Endpoints readinessProbe reflects service health","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"readinessProbe reflects service health"},{"ancestorTitles":["HealthMonitorInterface Implementation","Probe Endpoints"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Probe Endpoints startupProbe tracks initialization","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"startupProbe tracks initialization"},{"ancestorTitles":["HealthMonitorInterface Implementation","HTTP Endpoints"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation HTTP Endpoints createHealthEndpoint returns router with health endpoints","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"createHealthEndpoint returns router with health endpoints"},{"ancestorTitles":["HealthMonitorInterface Implementation","HTTP Endpoints"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation HTTP Endpoints createMetricsEndpoint returns metrics in JSON format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"createMetricsEndpoint returns metrics in JSON format"},{"ancestorTitles":["HealthMonitorInterface Implementation","HTTP Endpoints"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation HTTP Endpoints createMetricsEndpoint returns metrics in Prometheus format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"createMetricsEndpoint returns metrics in Prometheus format"},{"ancestorTitles":["HealthMonitorInterface Implementation","Dependency Checking"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Dependency Checking checkDependencies includes required services","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"checkDependencies includes required services"},{"ancestorTitles":["HealthMonitorInterface Implementation","Dependency Checking"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Dependency Checking checkDependencies reports missing services","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"checkDependencies reports missing services"},{"ancestorTitles":["HealthMonitorInterface Implementation","Service Status Management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"HealthMonitorInterface Implementation Service Status Management services maintain individual status","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"services maintain individual status"}],"endTime":1753397524440,"message":"","name":"/home/jenner/code/mcps/tests/health-monitor.test.js","startTime":1753397522235,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Health Check System Integration Tests","Health Service Endpoints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Service Endpoints should return overall system health","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return overall system health"},{"ancestorTitles":["Health Check System Integration Tests","Health Service Endpoints"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Service Endpoints should return individual service health","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return individual service health"},{"ancestorTitles":["Health Check System Integration Tests","Health Service Endpoints"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Service Endpoints should return detailed health metrics","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return detailed health metrics"},{"ancestorTitles":["Health Check System Integration Tests","Health Service Endpoints"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Service Endpoints should handle service not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle service not found"},{"ancestorTitles":["Health Check System Integration Tests","Health Status Aggregation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Status Aggregation should report degraded when any service is degraded","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report degraded when any service is degraded"},{"ancestorTitles":["Health Check System Integration Tests","Health Status Aggregation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Status Aggregation should report unhealthy when any service is unhealthy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should report unhealthy when any service is unhealthy"},{"ancestorTitles":["Health Check System Integration Tests","Health Status Aggregation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Status Aggregation should handle empty service list","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle empty service list"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Intervals"],"duration":3501,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Intervals should perform health checks at configured intervals","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should perform health checks at configured intervals"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Intervals"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Intervals should cache health results appropriately","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should cache health results appropriately"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Failures"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Failures should handle timeout failures","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle timeout failures"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Failures"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Failures should handle connection refused","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle connection refused"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Failures"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Failures should handle partial service failures","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle partial service failures"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Custom Probes"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Custom Probes should execute HTTP health probes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should execute HTTP health probes"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Custom Probes"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Custom Probes should execute TCP health probes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should execute TCP health probes"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Custom Probes"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Custom Probes should execute custom script probes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should execute custom script probes"},{"ancestorTitles":["Health Check System Integration Tests","Health History and Metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health History and Metrics should track health status history","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track health status history"},{"ancestorTitles":["Health Check System Integration Tests","Health History and Metrics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health History and Metrics should calculate uptime percentage","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should calculate uptime percentage"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Integration with Docker"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Integration with Docker should detect when Docker daemon is unavailable","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect when Docker daemon is unavailable"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Integration with Docker"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Integration with Docker should check Docker container health status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check Docker container health status"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Alerting"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Alerting should trigger alerts on status change","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should trigger alerts on status change"},{"ancestorTitles":["Health Check System Integration Tests","Health Check Alerting"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Health Check System Integration Tests Health Check Alerting should not spam alerts for continued unhealthy state","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should not spam alerts for continued unhealthy state"}],"endTime":1753397525852,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/health-check.integration.test.js","startTime":1753397522224,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Docker Build Validation","Dockerfile Syntax Validation"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Syntax Validation should validate Node.js Dockerfile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate Node.js Dockerfile"},{"ancestorTitles":["Docker Build Validation","Dockerfile Syntax Validation"],"duration":11,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js:100:28)"],"fullName":"Docker Build Validation Dockerfile Syntax Validation should validate Python Dockerfile","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should validate Python Dockerfile"},{"ancestorTitles":["Docker Build Validation","Dockerfile Syntax Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Syntax Validation should validate Go Dockerfile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate Go Dockerfile"},{"ancestorTitles":["Docker Build Validation","Dockerfile Content Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Content Validation should have multi-stage builds for production optimization","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should have multi-stage builds for production optimization"},{"ancestorTitles":["Docker Build Validation","Dockerfile Content Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Content Validation should copy health check scripts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should copy health check scripts"},{"ancestorTitles":["Docker Build Validation","Dockerfile Content Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Content Validation should set appropriate working directory","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should set appropriate working directory"},{"ancestorTitles":["Docker Build Validation","Dockerfile Content Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Content Validation should expose appropriate ports","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should expose appropriate ports"},{"ancestorTitles":["Docker Build Validation","Dockerfile Content Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Dockerfile Content Validation should have proper signal handling setup","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have proper signal handling setup"},{"ancestorTitles":["Docker Build Validation","Security Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Security Configuration should run as non-root user","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should run as non-root user"},{"ancestorTitles":["Docker Build Validation","Security Configuration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Security Configuration should not contain hardcoded secrets","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should not contain hardcoded secrets"},{"ancestorTitles":["Docker Build Validation","Security Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Security Configuration should have security headers in nginx.conf","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should have security headers in nginx.conf"},{"ancestorTitles":["Docker Build Validation","Build Configuration"],"duration":1,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js:208:25)"],"fullName":"Docker Build Validation Build Configuration should use build arguments for flexibility","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use build arguments for flexibility"},{"ancestorTitles":["Docker Build Validation","Build Configuration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Build Configuration should optimize layer caching","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should optimize layer caching"},{"ancestorTitles":["Docker Build Validation","Build Configuration"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).not.toBeNull()\n\nReceived: null","pass":true}}],"failureMessages":["Error: expect(received).not.toBeNull()\n\nReceived: null\n    at Object.toBeNull (/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js:230:31)"],"fullName":"Docker Build Validation Build Configuration should have proper labels","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should have proper labels"},{"ancestorTitles":["Docker Build Validation","Docker Build Tests (requires Docker)"],"duration":1097,"failureDetails":[{"matcherResult":{"message":"expect(received).not.toThrow()\n\nError name:    \"Error\"\nError message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/node.Dockerfile --label test=true -t test-node:latest /home/jenner/code/mcps/docker/production\"\n\n    \u001b[0m \u001b[90m 253 |\u001b[39m       \n     \u001b[90m 254 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 255 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 256 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 258 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:255:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:256:14)","pass":true}}],"failureMessages":["Error: expect(received).not.toThrow()\n\nError name:    \"Error\"\nError message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/node.Dockerfile --label test=true -t test-node:latest /home/jenner/code/mcps/docker/production\"\n\n    \u001b[0m \u001b[90m 253 |\u001b[39m       \n     \u001b[90m 254 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 255 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 256 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 258 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:255:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:256:14)\n    at Object.toThrow (/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js:256:14)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Docker Build Validation Docker Build Tests (requires Docker) should build Node.js image successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should build Node.js image successfully"},{"ancestorTitles":["Docker Build Validation","Docker Build Tests (requires Docker)"],"duration":1321,"failureDetails":[{"matcherResult":{"message":"expect(received).not.toThrow()\n\nError name:    \"Error\"\nError message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/python.Dockerfile --label test=true -t test-python:latest /home/jenner/code/mcps/docker/production\"\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m       \n     \u001b[90m 262 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:263:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:264:14)","pass":true}}],"failureMessages":["Error: expect(received).not.toThrow()\n\nError name:    \"Error\"\nError message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/python.Dockerfile --label test=true -t test-python:latest /home/jenner/code/mcps/docker/production\"\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m       \n     \u001b[90m 262 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:263:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:264:14)\n    at Object.toThrow (/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js:264:14)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Docker Build Validation Docker Build Tests (requires Docker) should build Python image successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should build Python image successfully"},{"ancestorTitles":["Docker Build Validation","Docker Build Tests (requires Docker)"],"duration":819,"failureDetails":[{"matcherResult":{"message":"expect(received).not.toThrow()\n\nError name:    \"Error\"\nError message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/go.Dockerfile --label test=true -t test-go:latest /home/jenner/code/mcps/docker/production\"\n\n    \u001b[0m \u001b[90m 269 |\u001b[39m       \n     \u001b[90m 270 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 272 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 273 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:271:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:272:14)","pass":true}}],"failureMessages":["Error: expect(received).not.toThrow()\n\nError name:    \"Error\"\nError message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/go.Dockerfile --label test=true -t test-go:latest /home/jenner/code/mcps/docker/production\"\n\n    \u001b[0m \u001b[90m 269 |\u001b[39m       \n     \u001b[90m 270 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 272 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 273 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:271:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:272:14)\n    at Object.toThrow (/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js:272:14)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"Docker Build Validation Docker Build Tests (requires Docker) should build Go image successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should build Go image successfully"},{"ancestorTitles":["Docker Build Validation","Docker Build Tests (requires Docker)"],"duration":534,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Build Tests (requires Docker) should create images with reasonable sizes","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should create images with reasonable sizes"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should have valid docker-compose.yml syntax","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should have valid docker-compose.yml syntax"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should define required services","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should define required services"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should have health checks for all services","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"should have health checks for all services"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should use environment variables for configuration","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use environment variables for configuration"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should define restart policies","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"status":"passed","title":"should define restart policies"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should use volumes for persistent data","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should use volumes for persistent data"},{"ancestorTitles":["Docker Build Validation","Docker Compose Validation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Docker Build Validation Docker Compose Validation should define resource limits","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should define resource limits"}],"endTime":1753397526814,"message":"  ● Docker Build Validation › Dockerfile Syntax Validation › should validate Python Dockerfile\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m       }\n     \u001b[90m  99 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m       expect(result\u001b[33m.\u001b[39mvalid)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m\n     \u001b[90m 103 |\u001b[39m     it(\u001b[32m'should validate Go Dockerfile'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (tests/integration/docker/build-validation.test.js:100:28)\n\n  ● Docker Build Validation › Build Configuration › should use build arguments for flexibility\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 206 |\u001b[39m         \u001b[36mconst\u001b[39m hasArgs \u001b[33m=\u001b[39m content\u001b[33m.\u001b[39mincludes(\u001b[32m'ARG'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 208 |\u001b[39m         expect(hasArgs)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 209 |\u001b[39m       }\n     \u001b[90m 210 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m\u001b[0m\n\n      at Object.toBe (tests/integration/docker/build-validation.test.js:208:25)\n\n  ● Docker Build Validation › Build Configuration › should have proper labels\n\n    expect(received).not.toBeNull()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 228 |\u001b[39m         \u001b[90m// Check for any LABEL instruction (more flexible)\u001b[39m\n     \u001b[90m 229 |\u001b[39m         \u001b[36mconst\u001b[39m hasLabels \u001b[33m=\u001b[39m content\u001b[33m.\u001b[39mmatch(\u001b[35m/LABEL\\s+\\w+=/\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 230 |\u001b[39m         expect(hasLabels)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 231 |\u001b[39m       }\n     \u001b[90m 232 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 233 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeNull (tests/integration/docker/build-validation.test.js:230:31)\n\n  ● Docker Build Validation › Docker Build Tests (requires Docker) › should build Node.js image successfully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/node.Dockerfile --label test=true -t test-node:latest /home/jenner/code/mcps/docker/production\"\n\n        \u001b[0m \u001b[90m 253 |\u001b[39m       \n         \u001b[90m 254 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 255 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 256 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 257 |\u001b[39m     })\u001b[33m;\u001b[39m\n         \u001b[90m 258 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:255:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:256:14)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:256:14)\n\n  ● Docker Build Validation › Docker Build Tests (requires Docker) › should build Python image successfully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/python.Dockerfile --label test=true -t test-python:latest /home/jenner/code/mcps/docker/production\"\n\n        \u001b[0m \u001b[90m 261 |\u001b[39m       \n         \u001b[90m 262 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 264 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 265 |\u001b[39m     })\u001b[33m;\u001b[39m\n         \u001b[90m 266 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:263:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:264:14)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:264:14)\n\n  ● Docker Build Validation › Docker Build Tests (requires Docker) › should build Go image successfully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Command failed: docker build -f /home/jenner/code/mcps/docker/production/go.Dockerfile --label test=true -t test-go:latest /home/jenner/code/mcps/docker/production\"\n\n        \u001b[0m \u001b[90m 269 |\u001b[39m       \n         \u001b[90m 270 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m         execSync(buildCommand\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 272 |\u001b[39m       })\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 273 |\u001b[39m     })\u001b[33m;\u001b[39m\n         \u001b[90m 274 |\u001b[39m\u001b[0m\n\n      at execSync (tests/integration/docker/build-validation.test.js:271:9)\n      at Object.<anonymous> (node_modules/expect/build/toThrowMatchers.js:74:11)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:320:21)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:272:14)\n      at Object.toThrow (tests/integration/docker/build-validation.test.js:272:14)\n","name":"/home/jenner/code/mcps/tests/integration/docker/build-validation.test.js","startTime":1753397521633,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["TLSManager","generateCertificate"],"duration":762,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager generateCertificate should generate self-signed certificate","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should generate self-signed certificate"},{"ancestorTitles":["TLSManager","generateCertificate"],"duration":740,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager generateCertificate should handle Let's Encrypt in non-production","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should handle Let's Encrypt in non-production"},{"ancestorTitles":["TLSManager","generateCertificate"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager generateCertificate should throw error for unknown certificate type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for unknown certificate type"},{"ancestorTitles":["TLSManager","certificate renewal"],"duration":576,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager certificate renewal should check if certificate needs renewal","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check if certificate needs renewal"},{"ancestorTitles":["TLSManager","certificate renewal"],"duration":1080,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager certificate renewal should renew self-signed certificate","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should renew self-signed certificate"},{"ancestorTitles":["TLSManager","certificate renewal"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager certificate renewal should throw error when renewing non-existent certificate","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error when renewing non-existent certificate"},{"ancestorTitles":["TLSManager","certificate information"],"duration":646,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager certificate information should get certificate info","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should get certificate info"},{"ancestorTitles":["TLSManager","certificate information"],"duration":1282,"failureDetails":[],"failureMessages":[],"fullName":"TLSManager certificate information should list all certificates","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should list all certificates"},{"ancestorTitles":["CertificateGenerator","generateSelfSigned"],"duration":586,"failureDetails":[],"failureMessages":[],"fullName":"CertificateGenerator generateSelfSigned should generate valid self-signed certificate","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"should generate valid self-signed certificate"},{"ancestorTitles":["CertificateGenerator","generateSelfSigned"],"duration":689,"failureDetails":[],"failureMessages":[],"fullName":"CertificateGenerator generateSelfSigned should set correct validity period","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should set correct validity period"},{"ancestorTitles":["CertificateGenerator","generateSelfSigned"],"duration":632,"failureDetails":[],"failureMessages":[],"fullName":"CertificateGenerator generateSelfSigned should include subject alternative names","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should include subject alternative names"},{"ancestorTitles":["CertificateGenerator","generateCSR"],"duration":578,"failureDetails":[],"failureMessages":[],"fullName":"CertificateGenerator generateCSR should generate certificate signing request","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should generate certificate signing request"},{"ancestorTitles":["CertificateGenerator","verifyCertificate"],"duration":543,"failureDetails":[],"failureMessages":[],"fullName":"CertificateGenerator verifyCertificate should verify valid certificate","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should verify valid certificate"},{"ancestorTitles":["CertificateGenerator","verifyCertificate"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CertificateGenerator verifyCertificate should detect invalid certificate","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect invalid certificate"}],"endTime":1753397530572,"message":"","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/security/tls-manager.test.js","startTime":1753397522222,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AlertRouter","constructor"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter constructor should initialize with default options","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should initialize with default options"},{"ancestorTitles":["AlertRouter","constructor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter constructor should initialize default channels","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should initialize default channels"},{"ancestorTitles":["AlertRouter","rule management"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter rule management should add a rule","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should add a rule"},{"ancestorTitles":["AlertRouter","rule management"],"duration":32,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter rule management should validate rule has required fields","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should validate rule has required fields"},{"ancestorTitles":["AlertRouter","rule management"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter rule management should add rules in priority order","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add rules in priority order"},{"ancestorTitles":["AlertRouter","rule management"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter rule management should remove a rule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should remove a rule"},{"ancestorTitles":["AlertRouter","rule management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter rule management should update a rule","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should update a rule"},{"ancestorTitles":["AlertRouter","channel management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter channel management should add a custom channel","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should add a custom channel"},{"ancestorTitles":["AlertRouter","channel management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter channel management should validate channel has send method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate channel has send method"},{"ancestorTitles":["AlertRouter","alert routing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert routing should route alert to default channel","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should route alert to default channel"},{"ancestorTitles":["AlertRouter","alert routing"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert routing should normalize alert structure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should normalize alert structure"},{"ancestorTitles":["AlertRouter","alert routing"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert routing should deduplicate alerts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should deduplicate alerts"},{"ancestorTitles":["AlertRouter","alert routing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert routing should match rules based on conditions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should match rules based on conditions"},{"ancestorTitles":["AlertRouter","alert routing"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert routing should evaluate complex conditions","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"should evaluate complex conditions"},{"ancestorTitles":["AlertRouter","alert actions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert actions should aggregate alerts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should aggregate alerts"},{"ancestorTitles":["AlertRouter","alert actions"],"duration":1102,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert actions should suppress alerts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should suppress alerts"},{"ancestorTitles":["AlertRouter","alert actions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter alert actions should transform alerts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should transform alerts"},{"ancestorTitles":["AlertRouter","alert actions"],"duration":10000,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 10000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at it (/home/jenner/code/mcps/tests/unit/monitoring/alert-router.test.js:292:5)\n    at _dispatchDescribe (/home/jenner/code/mcps/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/home/jenner/code/mcps/node_modules/jest-circus/build/index.js:55:5)\n    at describe (/home/jenner/code/mcps/tests/unit/monitoring/alert-router.test.js:224:3)\n    at _dispatchDescribe (/home/jenner/code/mcps/node_modules/jest-circus/build/index.js:91:26)\n    at describe (/home/jenner/code/mcps/node_modules/jest-circus/build/index.js:55:5)\n    at Object.describe (/home/jenner/code/mcps/tests/unit/monitoring/alert-router.test.js:3:1)\n    at Runtime._execModule (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:1439:24)\n    at Runtime._loadModule (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:1022:12)\n    at Runtime.requireModule (/home/jenner/code/mcps/node_modules/jest-runtime/build/index.js:882:12)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:77:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"AlertRouter alert actions should handle action errors gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle action errors gracefully"},{"ancestorTitles":["AlertRouter","statistics and management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter statistics and management should track statistics","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should track statistics"},{"ancestorTitles":["AlertRouter","statistics and management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter statistics and management should export configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should export configuration"},{"ancestorTitles":["AlertRouter","statistics and management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter statistics and management should import configuration","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should import configuration"},{"ancestorTitles":["AlertRouter","event emission"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter event emission should emit events for rule operations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit events for rule operations"},{"ancestorTitles":["AlertRouter","event emission"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AlertRouter event emission should emit events for alert operations","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should emit events for alert operations"}],"endTime":1753397533187,"message":"  ● AlertRouter › alert actions › should handle action errors gracefully\n\n    thrown: \"Exceeded timeout of 10000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 290 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 292 |\u001b[39m     it(\u001b[32m'should handle action errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 293 |\u001b[39m       \u001b[36mconst\u001b[39m mockSend \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockRejectedValue(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \n     \u001b[90m 295 |\u001b[39m       alertRouter\u001b[33m.\u001b[39maddChannel(\u001b[32m'failing'\u001b[39m\u001b[33m,\u001b[39m { send\u001b[33m:\u001b[39m mockSend })\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (tests/unit/monitoring/alert-router.test.js:292:5)\n      at describe (tests/unit/monitoring/alert-router.test.js:224:3)\n      at Object.describe (tests/unit/monitoring/alert-router.test.js:3:1)\n","name":"/home/jenner/code/mcps/tests/unit/monitoring/alert-router.test.js","startTime":1753397521641,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":3026,"failureDetails":[],"failureMessages":[],"fullName":"CI/CD and Orchestration Integration CI/CD deploys built artifacts to Kubernetes","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"CI/CD deploys built artifacts to Kubernetes"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CI/CD and Orchestration Integration Pipeline generates correct orchestration configs","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"Pipeline generates correct orchestration configs"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":2504,"failureDetails":[{"matcherResult":{"actual":"Running","expected":"rolled-back","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"rolled-back\"\nReceived: \"Running\"","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"rolled-back\"\nReceived: \"Running\"\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js:99:30)"],"fullName":"CI/CD and Orchestration Integration Rollback works across CI/CD and orchestration","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Rollback works across CI/CD and orchestration"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":3491,"failureDetails":[{"matcherResult":{"message":"expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Tests must pass before deployment\"\nReceived string:    \"fail is not defined\"","pass":false}}],"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"Tests must pass before deployment\"\nReceived string:    \"fail is not defined\"\n    at Object.toContain (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js:117:31)"],"fullName":"CI/CD and Orchestration Integration CI/CD test results influence orchestration deployment","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"CI/CD test results influence orchestration deployment"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":502,"failureDetails":[{"matcherResult":{"actual":3,"expected":5,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: 5\nReceived: 3","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 5\nReceived: 3\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js:134:38)"],"fullName":"CI/CD and Orchestration Integration Orchestration scaling triggers CI/CD metrics update","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"Orchestration scaling triggers CI/CD metrics update"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":2003,"failureDetails":[],"failureMessages":[],"fullName":"CI/CD and Orchestration Integration Helm charts are generated from CI/CD and deployed","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"Helm charts are generated from CI/CD and deployed"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":3005,"failureDetails":[],"failureMessages":[],"fullName":"CI/CD and Orchestration Integration Docker Swarm deployment via CI/CD","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"Docker Swarm deployment via CI/CD"},{"ancestorTitles":["CI/CD and Orchestration Integration"],"duration":501,"failureDetails":[],"failureMessages":[],"fullName":"CI/CD and Orchestration Integration CI/CD webhooks trigger orchestration updates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"CI/CD webhooks trigger orchestration updates"}],"endTime":1753397537076,"message":"  ● CI/CD and Orchestration Integration › Rollback works across CI/CD and orchestration\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"rolled-back\"\n    Received: \"Running\"\n\n    \u001b[0m \u001b[90m  97 |\u001b[39m     \u001b[90m// Then orchestration should also rollback\u001b[39m\n     \u001b[90m  98 |\u001b[39m     \u001b[36mconst\u001b[39m k8sStatus \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m k8s\u001b[33m.\u001b[39mgetDeploymentStatus(deployment\u001b[33m.\u001b[39mdeploymentId)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  99 |\u001b[39m     expect(k8sStatus\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'rolled-back'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 100 |\u001b[39m     expect(rollbackResult\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js:99:30)\n\n  ● CI/CD and Orchestration Integration › CI/CD test results influence orchestration deployment\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Tests must pass before deployment\"\n    Received string:    \"fail is not defined\"\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m         fail(\u001b[32m'Deployment should have been prevented'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m       } \u001b[36mcatch\u001b[39m (error) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m         expect(error\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Tests must pass before deployment'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m       }\n     \u001b[90m 119 |\u001b[39m     }\n     \u001b[90m 120 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js:117:31)\n\n  ● CI/CD and Orchestration Integration › Orchestration scaling triggers CI/CD metrics update\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 5\n    Received: 3\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m     \u001b[90m// Then CI/CD should reflect the scaling\u001b[39m\n     \u001b[90m 133 |\u001b[39m     \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m cicd\u001b[33m.\u001b[39mgetDeploymentStatus(deployment\u001b[33m.\u001b[39mdeploymentId)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m     expect(metrics\u001b[33m.\u001b[39mdetails\u001b[33m.\u001b[39mreplicas)\u001b[33m.\u001b[39mtoBe(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     expect(metrics\u001b[33m.\u001b[39mdetails\u001b[33m.\u001b[39mscalingEvents)\u001b[33m.\u001b[39mtoContainEqual(\n     \u001b[90m 136 |\u001b[39m       expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 137 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'manual-scale'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js:134:38)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/phase5/cicd-orchestration-integration.test.js","startTime":1753397521625,"status":"failed","summary":""},{"assertionResults":[],"coverage":{},"endTime":1753397589434,"message":"  ● Test suite failed to run\n\n    A jest worker process (pid=3738405) was terminated by another process: signal=SIGTERM, exitCode=null. Operating system logs may contain more information on why this occurred.\n\n      at ChildProcessWorker._onExit (node_modules/jest-worker/build/workers/ChildProcessWorker.js:370:23)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/cli/publish.test.js","startTime":1753397589434,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ServiceUpdater","initialization"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater initialization should create service update directory","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should create service update directory"},{"ancestorTitles":["ServiceUpdater","checkServiceUpdates"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater checkServiceUpdates should check updates for all services","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should check updates for all services"},{"ancestorTitles":["ServiceUpdater","checkServiceUpdates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater checkServiceUpdates should check updates for specific services","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should check updates for specific services"},{"ancestorTitles":["ServiceUpdater","checkServiceUpdates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater checkServiceUpdates should detect compatible updates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should detect compatible updates"},{"ancestorTitles":["ServiceUpdater","checkServiceUpdates"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater checkServiceUpdates should detect breaking changes","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should detect breaking changes"},{"ancestorTitles":["ServiceUpdater","checkServiceUpdates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater checkServiceUpdates should analyze dependencies","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should analyze dependencies"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":5022,"failureDetails":[{}],"failureMessages":["Error: Service filesystem failed to start\n    at ServiceUpdater.verifyService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:571:23)\n    at ServiceUpdater.updateService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:128:13)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:151:28)"],"fullName":"ServiceUpdater updateService should update service successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update service successfully"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater updateService should throw error if service not installed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error if service not installed"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater updateService should throw error for incompatible update without force","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for incompatible update without force"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":5003,"failureDetails":[{}],"failureMessages":["Error: Service filesystem failed to start\n    at ServiceUpdater.verifyService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:571:23)\n    at ServiceUpdater.updateService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:128:13)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:189:28)"],"fullName":"ServiceUpdater updateService should allow incompatible update with force flag","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should allow incompatible update with force flag"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: Service dependency1 is not installed\n    at ServiceUpdater.updateService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:78:23)\n    at ServiceUpdater.updateService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:109:17)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:201:13)"],"fullName":"ServiceUpdater updateService should update dependencies first","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update dependencies first"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":5006,"failureDetails":[{}],"failureMessages":["Error: Service filesystem failed to start\n    at ServiceUpdater.verifyService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:571:23)\n    at ServiceUpdater.updateService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:128:13)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:207:13)"],"fullName":"ServiceUpdater updateService should backup service before update","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should backup service before update"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":5005,"failureDetails":[{}],"failureMessages":["Error: Service filesystem failed to start\n    at ServiceUpdater.verifyService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:571:23)\n    at ServiceUpdater.updateService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:128:13)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:226:13)"],"fullName":"ServiceUpdater updateService should run migrations after update","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should run migrations after update"},{"ancestorTitles":["ServiceUpdater","updateService"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"filesystem\", \"1.0.0\"\n\nNumber of calls: 0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\nExpected: \"filesystem\", \"1.0.0\"\n\nNumber of calls: 0\n    at Object.toHaveBeenCalledWith (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:251:33)"],"fullName":"ServiceUpdater updateService should rollback on failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should rollback on failure"},{"ancestorTitles":["ServiceUpdater","resolveDependencies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater resolveDependencies should identify missing dependencies","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should identify missing dependencies"},{"ancestorTitles":["ServiceUpdater","resolveDependencies"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater resolveDependencies should identify outdated dependencies","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should identify outdated dependencies"},{"ancestorTitles":["ServiceUpdater","resolveDependencies"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater resolveDependencies should return empty array if all dependencies satisfied","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return empty array if all dependencies satisfied"},{"ancestorTitles":["ServiceUpdater","getInstalledServices"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater getInstalledServices should get Docker services","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should get Docker services"},{"ancestorTitles":["ServiceUpdater","getInstalledServices"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater getInstalledServices should get local services from package.json","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should get local services from package.json"},{"ancestorTitles":["ServiceUpdater","getInstalledServices"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater getInstalledServices should handle errors gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle errors gracefully"},{"ancestorTitles":["ServiceUpdater","verifyService"],"duration":5002,"failureDetails":[{"message":"expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [TypeError: Cannot read properties of undefined (reading 'type')]"}],"failureMessages":["Error: expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [TypeError: Cannot read properties of undefined (reading 'type')]\n    at expect (/home/jenner/code/mcps/node_modules/expect/build/index.js:113:15)\n    at Object.expect (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:346:19)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ServiceUpdater verifyService should verify Docker service is running","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should verify Docker service is running"},{"ancestorTitles":["ServiceUpdater","verifyService"],"duration":5017,"failureDetails":[{"matcherResult":{"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Service filesystem failed to start\"\nReceived message:   \"Cannot read properties of undefined (reading 'type')\"\n\n    \u001b[0m \u001b[90m 565 |\u001b[39m         \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n     \u001b[90m 566 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 567 |\u001b[39m         \u001b[36mif\u001b[39m (installed[service]\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'docker'\u001b[39m) {\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 568 |\u001b[39m             \u001b[90m// Check Docker container is running\u001b[39m\n     \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\u001b[0m\n\n      at ServiceUpdater.type [as verifyService] (mcp-local-setup/scripts/service-updater.js:567:32)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:354:13)","pass":false},"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Service filesystem failed to start\"\nReceived message:   \"Cannot read properties of undefined (reading 'type')\"\n\n    \u001b[0m \u001b[90m 565 |\u001b[39m         \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n     \u001b[90m 566 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 567 |\u001b[39m         \u001b[36mif\u001b[39m (installed[service]\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'docker'\u001b[39m) {\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 568 |\u001b[39m             \u001b[90m// Check Docker container is running\u001b[39m\n     \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\u001b[0m\n\n      at ServiceUpdater.type [as verifyService] (mcp-local-setup/scripts/service-updater.js:567:32)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:354:13)"}],"failureMessages":["Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"Service filesystem failed to start\"\nReceived message:   \"Cannot read properties of undefined (reading 'type')\"\n\n    \u001b[0m \u001b[90m 565 |\u001b[39m         \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n     \u001b[90m 566 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 567 |\u001b[39m         \u001b[36mif\u001b[39m (installed[service]\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'docker'\u001b[39m) {\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 568 |\u001b[39m             \u001b[90m// Check Docker container is running\u001b[39m\n     \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\u001b[0m\n\n      at ServiceUpdater.type [as verifyService] (mcp-local-setup/scripts/service-updater.js:567:32)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:354:13)\n    at Object.toThrow (/home/jenner/code/mcps/node_modules/expect/build/index.js:218:22)\n    at Object.toThrow (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:356:23)\n    at Promise.then.completed (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/jenner/code/mcps/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/jenner/code/mcps/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/jenner/code/mcps/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/jenner/code/mcps/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/jenner/code/mcps/node_modules/jest-runner/build/testWorker.js:106:12)"],"fullName":"ServiceUpdater verifyService should throw if Docker service not running","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should throw if Docker service not running"},{"ancestorTitles":["ServiceUpdater","rollbackService"],"duration":0,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'type')\n    at ServiceUpdater.type [as stopService] (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:433:32)\n    at ServiceUpdater.rollbackService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:598:9)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:366:13)"],"fullName":"ServiceUpdater rollbackService should rollback to previous version","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should rollback to previous version"},{"ancestorTitles":["ServiceUpdater","rollbackService"],"duration":1,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'type')\n    at ServiceUpdater.type [as stopService] (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:433:32)\n    at ServiceUpdater.rollbackService (/home/jenner/code/mcps/mcp-local-setup/scripts/service-updater.js:598:9)\n    at Object.<anonymous> (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:374:13)"],"fullName":"ServiceUpdater rollbackService should use most recent backup","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should use most recent backup"},{"ancestorTitles":["ServiceUpdater","rollbackService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater rollbackService should throw if no backup found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw if no backup found"},{"ancestorTitles":["ServiceUpdater","buildDockerRunCommand"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater buildDockerRunCommand should build Docker run command with all options","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should build Docker run command with all options"},{"ancestorTitles":["ServiceUpdater","runMigrations"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalled()\n\nExpected number of calls: >= 1\nReceived number of calls:    0\n    at Object.toHaveBeenCalled (/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js:437:35)"],"fullName":"ServiceUpdater runMigrations should run applicable migrations in order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should run applicable migrations in order"},{"ancestorTitles":["ServiceUpdater","runMigrations"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ServiceUpdater runMigrations should handle missing migrations directory","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle missing migrations directory"}],"endTime":1753397552159,"message":"  ● ServiceUpdater › updateService › should update service successfully\n\n    Service filesystem failed to start\n\n    \u001b[0m \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 571 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Service ${service} failed to start`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 572 |\u001b[39m             }\n     \u001b[90m 573 |\u001b[39m         }\n     \u001b[90m 574 |\u001b[39m         \u001b[0m\n\n      at ServiceUpdater.verifyService (mcp-local-setup/scripts/service-updater.js:571:23)\n      at ServiceUpdater.updateService (mcp-local-setup/scripts/service-updater.js:128:13)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:151:28)\n\n  ● ServiceUpdater › updateService › should allow incompatible update with force flag\n\n    Service filesystem failed to start\n\n    \u001b[0m \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 571 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Service ${service} failed to start`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 572 |\u001b[39m             }\n     \u001b[90m 573 |\u001b[39m         }\n     \u001b[90m 574 |\u001b[39m         \u001b[0m\n\n      at ServiceUpdater.verifyService (mcp-local-setup/scripts/service-updater.js:571:23)\n      at ServiceUpdater.updateService (mcp-local-setup/scripts/service-updater.js:128:13)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:189:28)\n\n  ● ServiceUpdater › updateService › should update dependencies first\n\n    Service dependency1 is not installed\n\n    \u001b[0m \u001b[90m 76 |\u001b[39m             \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39minstalled[service]) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 78 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Service ${service} is not installed`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 79 |\u001b[39m             }\n     \u001b[90m 80 |\u001b[39m\n     \u001b[90m 81 |\u001b[39m             \u001b[90m// Get update info\u001b[39m\u001b[0m\n\n      at ServiceUpdater.updateService (mcp-local-setup/scripts/service-updater.js:78:23)\n      at ServiceUpdater.updateService (mcp-local-setup/scripts/service-updater.js:109:17)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:201:13)\n\n  ● ServiceUpdater › updateService › should backup service before update\n\n    Service filesystem failed to start\n\n    \u001b[0m \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 571 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Service ${service} failed to start`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 572 |\u001b[39m             }\n     \u001b[90m 573 |\u001b[39m         }\n     \u001b[90m 574 |\u001b[39m         \u001b[0m\n\n      at ServiceUpdater.verifyService (mcp-local-setup/scripts/service-updater.js:571:23)\n      at ServiceUpdater.updateService (mcp-local-setup/scripts/service-updater.js:128:13)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:207:13)\n\n  ● ServiceUpdater › updateService › should run migrations after update\n\n    Service filesystem failed to start\n\n    \u001b[0m \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 571 |\u001b[39m                 \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m`Service ${service} failed to start`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 572 |\u001b[39m             }\n     \u001b[90m 573 |\u001b[39m         }\n     \u001b[90m 574 |\u001b[39m         \u001b[0m\n\n      at ServiceUpdater.verifyService (mcp-local-setup/scripts/service-updater.js:571:23)\n      at ServiceUpdater.updateService (mcp-local-setup/scripts/service-updater.js:128:13)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:226:13)\n\n  ● ServiceUpdater › updateService › should rollback on failure\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"filesystem\", \"1.0.0\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 249 |\u001b[39m             )\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Start failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 250 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 251 |\u001b[39m             expect(rollbackSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'filesystem'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1.0.0'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 252 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 253 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 254 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:251:33)\n\n  ● ServiceUpdater › verifyService › should verify Docker service is running\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [TypeError: Cannot read properties of undefined (reading 'type')]\n\n    \u001b[0m \u001b[90m 344 |\u001b[39m             execSync\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'Up 5 seconds\\n'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 345 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 346 |\u001b[39m             \u001b[36mawait\u001b[39m expect(\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 347 |\u001b[39m                 serviceUpdater\u001b[33m.\u001b[39mverifyService(\u001b[32m'filesystem'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1.1.0'\u001b[39m)\n     \u001b[90m 348 |\u001b[39m             )\u001b[33m.\u001b[39mresolves\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:113:15)\n      at Object.expect (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:346:19)\n\n  ● ServiceUpdater › verifyService › should throw if Docker service not running\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Service filesystem failed to start\"\n    Received message:   \"Cannot read properties of undefined (reading 'type')\"\n\n        \u001b[0m \u001b[90m 565 |\u001b[39m         \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n         \u001b[90m 566 |\u001b[39m         \n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 567 |\u001b[39m         \u001b[36mif\u001b[39m (installed[service]\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'docker'\u001b[39m) {\n         \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 568 |\u001b[39m             \u001b[90m// Check Docker container is running\u001b[39m\n         \u001b[90m 569 |\u001b[39m             \u001b[36mconst\u001b[39m output \u001b[33m=\u001b[39m execSync(\u001b[32m`docker ps --filter name=mcp-${service} --format \"{{.Status}}\"`\u001b[39m\u001b[33m,\u001b[39m { encoding\u001b[33m:\u001b[39m \u001b[32m'utf8'\u001b[39m })\u001b[33m;\u001b[39m\n         \u001b[90m 570 |\u001b[39m             \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39moutput\u001b[33m.\u001b[39mincludes(\u001b[32m'Up'\u001b[39m)) {\u001b[0m\n\n      at ServiceUpdater.type [as verifyService] (mcp-local-setup/scripts/service-updater.js:567:32)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:354:13)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at Object.toThrow (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:356:23)\n\n  ● ServiceUpdater › rollbackService › should rollback to previous version\n\n    TypeError: Cannot read properties of undefined (reading 'type')\n\n    \u001b[0m \u001b[90m 431 |\u001b[39m         \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n     \u001b[90m 432 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 433 |\u001b[39m         \u001b[36mif\u001b[39m (installed[service]\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'docker'\u001b[39m) {\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 434 |\u001b[39m             execSync(\u001b[32m`docker stop mcp-${service}`\u001b[39m\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m         } \u001b[36melse\u001b[39m {\n     \u001b[90m 436 |\u001b[39m             \u001b[90m// Stop local service (would need process management)\u001b[39m\u001b[0m\n\n      at ServiceUpdater.type [as stopService] (mcp-local-setup/scripts/service-updater.js:433:32)\n      at ServiceUpdater.rollbackService (mcp-local-setup/scripts/service-updater.js:598:9)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:366:13)\n\n  ● ServiceUpdater › rollbackService › should use most recent backup\n\n    TypeError: Cannot read properties of undefined (reading 'type')\n\n    \u001b[0m \u001b[90m 431 |\u001b[39m         \u001b[36mconst\u001b[39m installed \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mgetInstalledServices()\u001b[33m;\u001b[39m\n     \u001b[90m 432 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 433 |\u001b[39m         \u001b[36mif\u001b[39m (installed[service]\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'docker'\u001b[39m) {\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 434 |\u001b[39m             execSync(\u001b[32m`docker stop mcp-${service}`\u001b[39m\u001b[33m,\u001b[39m { stdio\u001b[33m:\u001b[39m \u001b[32m'ignore'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m         } \u001b[36melse\u001b[39m {\n     \u001b[90m 436 |\u001b[39m             \u001b[90m// Stop local service (would need process management)\u001b[39m\u001b[0m\n\n      at ServiceUpdater.type [as stopService] (mcp-local-setup/scripts/service-updater.js:433:32)\n      at ServiceUpdater.rollbackService (mcp-local-setup/scripts/service-updater.js:598:9)\n      at Object.<anonymous> (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:374:13)\n\n  ● ServiceUpdater › runMigrations › should run applicable migrations in order\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 435 |\u001b[39m             \u001b[36mawait\u001b[39m serviceUpdater\u001b[33m.\u001b[39mrunMigrations(\u001b[32m'filesystem'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1.0.0'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1.2.0'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 436 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 437 |\u001b[39m             expect(migration1\u001b[33m.\u001b[39mup)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 438 |\u001b[39m             expect(migration2\u001b[33m.\u001b[39mup)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 439 |\u001b[39m         })\u001b[33m;\u001b[39m\n     \u001b[90m 440 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (mcp-local-setup/tests/unit/update/service-updater.unit.test.js:437:35)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/unit/update/service-updater.unit.test.js","startTime":1753397521620,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Service Lifecycle Integration Tests","Service Start"],"duration":802,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:46:23)"],"fullName":"Service Lifecycle Integration Tests Service Start should start a service successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should start a service successfully"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Start"],"duration":712,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:63:28)"],"fullName":"Service Lifecycle Integration Tests Service Start should handle starting already running service","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle starting already running service"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Start"],"duration":232,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:73:25)"],"fullName":"Service Lifecycle Integration Tests Service Start should start multiple services in order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should start multiple services in order"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Start"],"duration":202,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:93:23)"],"fullName":"Service Lifecycle Integration Tests Service Start should respect environment variables when starting","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should respect environment variables when starting"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Stop"],"duration":10417,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:108:23)"],"fullName":"Service Lifecycle Integration Tests Service Stop should stop a running service successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should stop a running service successfully"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Stop"],"duration":186,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:117:23)"],"fullName":"Service Lifecycle Integration Tests Service Stop should handle stopping already stopped service","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle stopping already stopped service"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Stop"],"duration":902,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:128:26)"],"fullName":"Service Lifecycle Integration Tests Service Stop should stop dependent services in correct order","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should stop dependent services in correct order"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Restart"],"duration":10517,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:143:29)"],"fullName":"Service Lifecycle Integration Tests Service Restart should restart a service successfully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should restart a service successfully"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Restart"],"duration":628,"failureDetails":[],"failureMessages":[],"fullName":"Service Lifecycle Integration Tests Service Restart should maintain service configuration after restart","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should maintain service configuration after restart"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Dependencies"],"duration":301,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:197:23)"],"fullName":"Service Lifecycle Integration Tests Service Dependencies should start dependencies automatically","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should start dependencies automatically"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Dependencies"],"duration":287,"failureDetails":[],"failureMessages":[],"fullName":"Service Lifecycle Integration Tests Service Dependencies should handle circular dependencies gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle circular dependencies gracefully"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Health Monitoring"],"duration":10572,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:230:29)"],"fullName":"Service Lifecycle Integration Tests Service Health Monitoring should detect when service becomes unhealthy","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should detect when service becomes unhealthy"},{"ancestorTitles":["Service Lifecycle Integration Tests","Service Health Monitoring"],"duration":30465,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:267:25)"],"fullName":"Service Lifecycle Integration Tests Service Health Monitoring should recover from temporary failures","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should recover from temporary failures"},{"ancestorTitles":["Service Lifecycle Integration Tests","Resource Cleanup"],"duration":375,"failureDetails":[],"failureMessages":[],"fullName":"Service Lifecycle Integration Tests Resource Cleanup should clean up volumes when stopping service","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should clean up volumes when stopping service"},{"ancestorTitles":["Service Lifecycle Integration Tests","Resource Cleanup"],"duration":175,"failureDetails":[{"matcherResult":{"actual":false,"expected":true,"message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at Object.toBe (/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:299:23)"],"fullName":"Service Lifecycle Integration Tests Resource Cleanup should remove orphaned containers","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should remove orphaned containers"}],"endTime":1753397588841,"message":"  ● Service Lifecycle Integration Tests › Service Start › should start a service successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 44 |\u001b[39m       \u001b[90m// Start the service\u001b[39m\n     \u001b[90m 45 |\u001b[39m       \u001b[36mconst\u001b[39m started \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m startService(testServiceName\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 46 |\u001b[39m       expect(started)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m       \u001b[90m// Mark for cleanup\u001b[39m\n     \u001b[90m 49 |\u001b[39m       testResources\u001b[33m.\u001b[39mpush(\u001b[32m`service:${testServiceName}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:46:23)\n\n  ● Service Lifecycle Integration Tests › Service Start › should handle starting already running service\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 61 |\u001b[39m       \u001b[90m// Try to start again\u001b[39m\n     \u001b[90m 62 |\u001b[39m       \u001b[36mconst\u001b[39m startedAgain \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m startService(testServiceName\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 63 |\u001b[39m       expect(startedAgain)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Docker compose should handle this gracefully\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 64 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 65 |\u001b[39m\n     \u001b[90m 66 |\u001b[39m     it(\u001b[32m'should start multiple services in order'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:63:28)\n\n  ● Service Lifecycle Integration Tests › Service Start › should start multiple services in order\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 71 |\u001b[39m         \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m         \u001b[36mconst\u001b[39m started \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m startService(service\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 73 |\u001b[39m         expect(started)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 74 |\u001b[39m         \n     \u001b[90m 75 |\u001b[39m         startTimes\u001b[33m.\u001b[39mpush({ service\u001b[33m,\u001b[39m time\u001b[33m:\u001b[39m startTime })\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m         testResources\u001b[33m.\u001b[39mpush(\u001b[32m`service:${service}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:73:25)\n\n  ● Service Lifecycle Integration Tests › Service Start › should respect environment variables when starting\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 91 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 93 |\u001b[39m       expect(started)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 94 |\u001b[39m       testResources\u001b[33m.\u001b[39mpush(\u001b[32m`service:${testServiceName}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m       \n     \u001b[90m 96 |\u001b[39m       \u001b[36mdelete\u001b[39m process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mTEST_SERVICE_PORT\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:93:23)\n\n  ● Service Lifecycle Integration Tests › Service Stop › should stop a running service successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 106 |\u001b[39m       \u001b[90m// Stop the service\u001b[39m\n     \u001b[90m 107 |\u001b[39m       \u001b[36mconst\u001b[39m stopped \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m stopService(testServiceName\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 108 |\u001b[39m       expect(stopped)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 109 |\u001b[39m\n     \u001b[90m 110 |\u001b[39m       \u001b[90m// Verify service is stopped\u001b[39m\n     \u001b[90m 111 |\u001b[39m       \u001b[36mawait\u001b[39m expect(waitForHealthy(testServiceName\u001b[33m,\u001b[39m \u001b[35m5000\u001b[39m))\u001b[33m.\u001b[39mresolves\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:108:23)\n\n  ● Service Lifecycle Integration Tests › Service Stop › should handle stopping already stopped service\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m       \u001b[90m// Try to stop a service that's not running\u001b[39m\n     \u001b[90m 116 |\u001b[39m       \u001b[36mconst\u001b[39m stopped \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m stopService(\u001b[32m'non-existent-service'\u001b[39m\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m       expect(stopped)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// Docker compose returns 0 even for non-existent services\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m\n     \u001b[90m 120 |\u001b[39m     it(\u001b[32m'should stop dependent services in correct order'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:117:23)\n\n  ● Service Lifecycle Integration Tests › Service Stop › should stop dependent services in correct order\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 126 |\u001b[39m       \u001b[90m// Stop API first (which depends on database)\u001b[39m\n     \u001b[90m 127 |\u001b[39m       \u001b[36mconst\u001b[39m apiStopped \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m stopService(\u001b[32m'api'\u001b[39m\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 128 |\u001b[39m       expect(apiStopped)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n     \u001b[90m 130 |\u001b[39m       \u001b[90m// Then stop database\u001b[39m\n     \u001b[90m 131 |\u001b[39m       \u001b[36mconst\u001b[39m dbStopped \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m stopService(\u001b[32m'database'\u001b[39m\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:128:26)\n\n  ● Service Lifecycle Integration Tests › Service Restart › should restart a service successfully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m       \n     \u001b[90m 142 |\u001b[39m       \u001b[36mconst\u001b[39m healthyBefore \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m waitForHealthy(testServiceName\u001b[33m,\u001b[39m \u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m       expect(healthyBefore)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m\n     \u001b[90m 145 |\u001b[39m       \u001b[90m// Restart service\u001b[39m\n     \u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m restarted \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((resolve) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:143:29)\n\n  ● Service Lifecycle Integration Tests › Service Dependencies › should start dependencies automatically\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m       \u001b[90m// Start only the API service\u001b[39m\n     \u001b[90m 196 |\u001b[39m       \u001b[36mconst\u001b[39m started \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m startService(apiService\u001b[33m.\u001b[39mname\u001b[33m,\u001b[39m { silent\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m       expect(started)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \n     \u001b[90m 199 |\u001b[39m       testResources\u001b[33m.\u001b[39mpush(\u001b[32m'service:api-with-deps'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'service:database'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'service:cache'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:197:23)\n\n  ● Service Lifecycle Integration Tests › Service Health Monitoring › should detect when service becomes unhealthy\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 228 |\u001b[39m       \n     \u001b[90m 229 |\u001b[39m       \u001b[36mconst\u001b[39m initialHealth \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m waitForHealthy(testServiceName\u001b[33m,\u001b[39m \u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 230 |\u001b[39m       expect(initialHealth)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 231 |\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[90m// Simulate service becoming unhealthy\u001b[39m\n     \u001b[90m 233 |\u001b[39m       \u001b[90m// (In a real scenario, you might trigger an error condition)\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:230:29)\n\n  ● Service Lifecycle Integration Tests › Service Health Monitoring › should recover from temporary failures\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 265 |\u001b[39m       \u001b[90m// Service should recover and become healthy again\u001b[39m\n     \u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m recovered \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m waitForHealthy(testServiceName\u001b[33m,\u001b[39m \u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 267 |\u001b[39m       expect(recovered)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 268 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 269 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 270 |\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:267:25)\n\n  ● Service Lifecycle Integration Tests › Resource Cleanup › should remove orphaned containers\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 297 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 298 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 299 |\u001b[39m       expect(cleaned)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 300 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 301 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 302 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (mcp-local-setup/tests/integration/service-lifecycle.integration.test.js:299:23)\n","name":"/home/jenner/code/mcps/mcp-local-setup/tests/integration/service-lifecycle.integration.test.js","startTime":1753397521619,"status":"failed","summary":""}],"wasInterrupted":false}
